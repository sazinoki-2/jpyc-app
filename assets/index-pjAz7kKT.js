function o4(n,t){for(var e=0;e<t.length;e++){const a=t[e];if(typeof a!="string"&&!Array.isArray(a)){for(const u in a)if(u!=="default"&&!(u in n)){const h=Object.getOwnPropertyDescriptor(a,u);h&&Object.defineProperty(n,u,h.get?h:{enumerable:!0,get:()=>a[u]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function e(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=e(u);fetch(u.href,h)}})();var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ww(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var c1={exports:{}},eu={};var Wy;function l4(){if(Wy)return eu;Wy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(a,u,h){var p=null;if(h!==void 0&&(p=""+h),u.key!==void 0&&(p=""+u.key),"key"in u){h={};for(var w in u)w!=="key"&&(h[w]=u[w])}else h=u;return u=h.ref,{$$typeof:n,type:a,key:p,ref:u!==void 0?u:null,props:h}}return eu.Fragment=t,eu.jsx=e,eu.jsxs=e,eu}var qy;function c4(){return qy||(qy=1,c1.exports=l4()),c1.exports}var J=c4(),u1={exports:{}},ee={};var Jy;function u4(){if(Jy)return ee;Jy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),p=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),I=Symbol.iterator;function D(Y){return Y===null||typeof Y!="object"?null:(Y=I&&Y[I]||Y["@@iterator"],typeof Y=="function"?Y:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,F={};function G(Y,ft,vt){this.props=Y,this.context=ft,this.refs=F,this.updater=vt||P}G.prototype.isReactComponent={},G.prototype.setState=function(Y,ft){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ft,"setState")},G.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function q(){}q.prototype=G.prototype;function z(Y,ft,vt){this.props=Y,this.context=ft,this.refs=F,this.updater=vt||P}var lt=z.prototype=new q;lt.constructor=z,L(lt,G.prototype),lt.isPureReactComponent=!0;var gt=Array.isArray;function dt(){}var K={H:null,A:null,T:null,S:null},it=Object.prototype.hasOwnProperty;function at(Y,ft,vt){var It=vt.ref;return{$$typeof:n,type:Y,key:ft,ref:It!==void 0?It:null,props:vt}}function _t(Y,ft){return at(Y.type,ft,Y.props)}function Ot(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===n}function Mt(Y){var ft={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(vt){return ft[vt]})}var jt=/\/+/g;function qt(Y,ft){return typeof Y=="object"&&Y!==null&&Y.key!=null?Mt(""+Y.key):ft.toString(36)}function H(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(dt,dt):(Y.status="pending",Y.then(function(ft){Y.status==="pending"&&(Y.status="fulfilled",Y.value=ft)},function(ft){Y.status==="pending"&&(Y.status="rejected",Y.reason=ft)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function Q(Y,ft,vt,It,Qt){var Ct=typeof Y;(Ct==="undefined"||Ct==="boolean")&&(Y=null);var ne=!1;if(Y===null)ne=!0;else switch(Ct){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(Y.$$typeof){case n:case t:ne=!0;break;case C:return ne=Y._init,Q(ne(Y._payload),ft,vt,It,Qt)}}if(ne)return Qt=Qt(Y),ne=It===""?"."+qt(Y,0):It,gt(Qt)?(vt="",ne!=null&&(vt=ne.replace(jt,"$&/")+"/"),Q(Qt,ft,vt,"",function(ni){return ni})):Qt!=null&&(Ot(Qt)&&(Qt=_t(Qt,vt+(Qt.key==null||Y&&Y.key===Qt.key?"":(""+Qt.key).replace(jt,"$&/")+"/")+ne)),ft.push(Qt)),1;ne=0;var de=It===""?".":It+":";if(gt(Y))for(var Ce=0;Ce<Y.length;Ce++)It=Y[Ce],Ct=de+qt(It,Ce),ne+=Q(It,ft,vt,Ct,Qt);else if(Ce=D(Y),typeof Ce=="function")for(Y=Ce.call(Y),Ce=0;!(It=Y.next()).done;)It=It.value,Ct=de+qt(It,Ce++),ne+=Q(It,ft,vt,Ct,Qt);else if(Ct==="object"){if(typeof Y.then=="function")return Q(H(Y),ft,vt,It,Qt);throw ft=String(Y),Error("Objects are not valid as a React child (found: "+(ft==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ft)+"). If you meant to render a collection of children, use an array instead.")}return ne}function tt(Y,ft,vt){if(Y==null)return Y;var It=[],Qt=0;return Q(Y,It,"","",function(Ct){return ft.call(vt,Ct,Qt++)}),It}function Et(Y){if(Y._status===-1){var ft=Y._result;ft=ft(),ft.then(function(vt){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=vt)},function(vt){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=vt)}),Y._status===-1&&(Y._status=0,Y._result=ft)}if(Y._status===1)return Y._result.default;throw Y._result}var Rt=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ft=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(ft))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},kt={map:tt,forEach:function(Y,ft,vt){tt(Y,function(){ft.apply(this,arguments)},vt)},count:function(Y){var ft=0;return tt(Y,function(){ft++}),ft},toArray:function(Y){return tt(Y,function(ft){return ft})||[]},only:function(Y){if(!Ot(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return ee.Activity=T,ee.Children=kt,ee.Component=G,ee.Fragment=e,ee.Profiler=u,ee.PureComponent=z,ee.StrictMode=a,ee.Suspense=A,ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,ee.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return K.H.useMemoCache(Y)}},ee.cache=function(Y){return function(){return Y.apply(null,arguments)}},ee.cacheSignal=function(){return null},ee.cloneElement=function(Y,ft,vt){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var It=L({},Y.props),Qt=Y.key;if(ft!=null)for(Ct in ft.key!==void 0&&(Qt=""+ft.key),ft)!it.call(ft,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&ft.ref===void 0||(It[Ct]=ft[Ct]);var Ct=arguments.length-2;if(Ct===1)It.children=vt;else if(1<Ct){for(var ne=Array(Ct),de=0;de<Ct;de++)ne[de]=arguments[de+2];It.children=ne}return at(Y.type,Qt,It)},ee.createContext=function(Y){return Y={$$typeof:p,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:h,_context:Y},Y},ee.createElement=function(Y,ft,vt){var It,Qt={},Ct=null;if(ft!=null)for(It in ft.key!==void 0&&(Ct=""+ft.key),ft)it.call(ft,It)&&It!=="key"&&It!=="__self"&&It!=="__source"&&(Qt[It]=ft[It]);var ne=arguments.length-2;if(ne===1)Qt.children=vt;else if(1<ne){for(var de=Array(ne),Ce=0;Ce<ne;Ce++)de[Ce]=arguments[Ce+2];Qt.children=de}if(Y&&Y.defaultProps)for(It in ne=Y.defaultProps,ne)Qt[It]===void 0&&(Qt[It]=ne[It]);return at(Y,Ct,Qt)},ee.createRef=function(){return{current:null}},ee.forwardRef=function(Y){return{$$typeof:w,render:Y}},ee.isValidElement=Ot,ee.lazy=function(Y){return{$$typeof:C,_payload:{_status:-1,_result:Y},_init:Et}},ee.memo=function(Y,ft){return{$$typeof:y,type:Y,compare:ft===void 0?null:ft}},ee.startTransition=function(Y){var ft=K.T,vt={};K.T=vt;try{var It=Y(),Qt=K.S;Qt!==null&&Qt(vt,It),typeof It=="object"&&It!==null&&typeof It.then=="function"&&It.then(dt,Rt)}catch(Ct){Rt(Ct)}finally{ft!==null&&vt.types!==null&&(ft.types=vt.types),K.T=ft}},ee.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},ee.use=function(Y){return K.H.use(Y)},ee.useActionState=function(Y,ft,vt){return K.H.useActionState(Y,ft,vt)},ee.useCallback=function(Y,ft){return K.H.useCallback(Y,ft)},ee.useContext=function(Y){return K.H.useContext(Y)},ee.useDebugValue=function(){},ee.useDeferredValue=function(Y,ft){return K.H.useDeferredValue(Y,ft)},ee.useEffect=function(Y,ft){return K.H.useEffect(Y,ft)},ee.useEffectEvent=function(Y){return K.H.useEffectEvent(Y)},ee.useId=function(){return K.H.useId()},ee.useImperativeHandle=function(Y,ft,vt){return K.H.useImperativeHandle(Y,ft,vt)},ee.useInsertionEffect=function(Y,ft){return K.H.useInsertionEffect(Y,ft)},ee.useLayoutEffect=function(Y,ft){return K.H.useLayoutEffect(Y,ft)},ee.useMemo=function(Y,ft){return K.H.useMemo(Y,ft)},ee.useOptimistic=function(Y,ft){return K.H.useOptimistic(Y,ft)},ee.useReducer=function(Y,ft,vt){return K.H.useReducer(Y,ft,vt)},ee.useRef=function(Y){return K.H.useRef(Y)},ee.useState=function(Y){return K.H.useState(Y)},ee.useSyncExternalStore=function(Y,ft,vt){return K.H.useSyncExternalStore(Y,ft,vt)},ee.useTransition=function(){return K.H.useTransition()},ee.version="19.2.3",ee}var $y;function jg(){return $y||($y=1,u1.exports=u4()),u1.exports}var Nt=jg();const ei=Ww(Nt);var f1={exports:{}},nu={},h1={exports:{}},d1={};var tx;function f4(){return tx||(tx=1,(function(n){function t(Q,tt){var Et=Q.length;Q.push(tt);t:for(;0<Et;){var Rt=Et-1>>>1,kt=Q[Rt];if(0<u(kt,tt))Q[Rt]=tt,Q[Et]=kt,Et=Rt;else break t}}function e(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var tt=Q[0],Et=Q.pop();if(Et!==tt){Q[0]=Et;t:for(var Rt=0,kt=Q.length,Y=kt>>>1;Rt<Y;){var ft=2*(Rt+1)-1,vt=Q[ft],It=ft+1,Qt=Q[It];if(0>u(vt,Et))It<kt&&0>u(Qt,vt)?(Q[Rt]=Qt,Q[It]=Et,Rt=It):(Q[Rt]=vt,Q[ft]=Et,Rt=ft);else if(It<kt&&0>u(Qt,Et))Q[Rt]=Qt,Q[It]=Et,Rt=It;else break t}}return tt}function u(Q,tt){var Et=Q.sortIndex-tt.sortIndex;return Et!==0?Et:Q.id-tt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;n.unstable_now=function(){return h.now()}}else{var p=Date,w=p.now();n.unstable_now=function(){return p.now()-w}}var A=[],y=[],C=1,T=null,I=3,D=!1,P=!1,L=!1,F=!1,G=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function lt(Q){for(var tt=e(y);tt!==null;){if(tt.callback===null)a(y);else if(tt.startTime<=Q)a(y),tt.sortIndex=tt.expirationTime,t(A,tt);else break;tt=e(y)}}function gt(Q){if(L=!1,lt(Q),!P)if(e(A)!==null)P=!0,dt||(dt=!0,Mt());else{var tt=e(y);tt!==null&&H(gt,tt.startTime-Q)}}var dt=!1,K=-1,it=5,at=-1;function _t(){return F?!0:!(n.unstable_now()-at<it)}function Ot(){if(F=!1,dt){var Q=n.unstable_now();at=Q;var tt=!0;try{t:{P=!1,L&&(L=!1,q(K),K=-1),D=!0;var Et=I;try{e:{for(lt(Q),T=e(A);T!==null&&!(T.expirationTime>Q&&_t());){var Rt=T.callback;if(typeof Rt=="function"){T.callback=null,I=T.priorityLevel;var kt=Rt(T.expirationTime<=Q);if(Q=n.unstable_now(),typeof kt=="function"){T.callback=kt,lt(Q),tt=!0;break e}T===e(A)&&a(A),lt(Q)}else a(A);T=e(A)}if(T!==null)tt=!0;else{var Y=e(y);Y!==null&&H(gt,Y.startTime-Q),tt=!1}}break t}finally{T=null,I=Et,D=!1}tt=void 0}}finally{tt?Mt():dt=!1}}}var Mt;if(typeof z=="function")Mt=function(){z(Ot)};else if(typeof MessageChannel<"u"){var jt=new MessageChannel,qt=jt.port2;jt.port1.onmessage=Ot,Mt=function(){qt.postMessage(null)}}else Mt=function(){G(Ot,0)};function H(Q,tt){K=G(function(){Q(n.unstable_now())},tt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):it=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_next=function(Q){switch(I){case 1:case 2:case 3:var tt=3;break;default:tt=I}var Et=I;I=tt;try{return Q()}finally{I=Et}},n.unstable_requestPaint=function(){F=!0},n.unstable_runWithPriority=function(Q,tt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var Et=I;I=Q;try{return tt()}finally{I=Et}},n.unstable_scheduleCallback=function(Q,tt,Et){var Rt=n.unstable_now();switch(typeof Et=="object"&&Et!==null?(Et=Et.delay,Et=typeof Et=="number"&&0<Et?Rt+Et:Rt):Et=Rt,Q){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=Et+kt,Q={id:C++,callback:tt,priorityLevel:Q,startTime:Et,expirationTime:kt,sortIndex:-1},Et>Rt?(Q.sortIndex=Et,t(y,Q),e(A)===null&&Q===e(y)&&(L?(q(K),K=-1):L=!0,H(gt,Et-Rt))):(Q.sortIndex=kt,t(A,Q),P||D||(P=!0,dt||(dt=!0,Mt()))),Q},n.unstable_shouldYield=_t,n.unstable_wrapCallback=function(Q){var tt=I;return function(){var Et=I;I=tt;try{return Q.apply(this,arguments)}finally{I=Et}}}})(d1)),d1}var ex;function h4(){return ex||(ex=1,h1.exports=f4()),h1.exports}var g1={exports:{}},xi={};var nx;function d4(){if(nx)return xi;nx=1;var n=jg();function t(A){var y="https://react.dev/errors/"+A;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)y+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+A+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var a={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(A,y,C){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:T==null?null:""+T,children:A,containerInfo:y,implementation:C}}var p=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function w(A,y){if(A==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return xi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,xi.createPortal=function(A,y){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return h(A,y,null,C)},xi.flushSync=function(A){var y=p.T,C=a.p;try{if(p.T=null,a.p=2,A)return A()}finally{p.T=y,a.p=C,a.d.f()}},xi.preconnect=function(A,y){typeof A=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(A,y))},xi.prefetchDNS=function(A){typeof A=="string"&&a.d.D(A)},xi.preinit=function(A,y){if(typeof A=="string"&&y&&typeof y.as=="string"){var C=y.as,T=w(C,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,D=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;C==="style"?a.d.S(A,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:I,fetchPriority:D}):C==="script"&&a.d.X(A,{crossOrigin:T,integrity:I,fetchPriority:D,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},xi.preinitModule=function(A,y){if(typeof A=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var C=w(y.as,y.crossOrigin);a.d.M(A,{crossOrigin:C,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(A)},xi.preload=function(A,y){if(typeof A=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var C=y.as,T=w(C,y.crossOrigin);a.d.L(A,C,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},xi.preloadModule=function(A,y){if(typeof A=="string")if(y){var C=w(y.as,y.crossOrigin);a.d.m(A,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:C,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(A)},xi.requestFormReset=function(A){a.d.r(A)},xi.unstable_batchedUpdates=function(A,y){return A(y)},xi.useFormState=function(A,y,C){return p.H.useFormState(A,y,C)},xi.useFormStatus=function(){return p.H.useHostTransitionStatus()},xi.version="19.2.3",xi}var ix;function g4(){if(ix)return g1.exports;ix=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),g1.exports=d4(),g1.exports}var rx;function m4(){if(rx)return nu;rx=1;var n=h4(),t=jg(),e=g4();function a(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function h(i){var s=i,c=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(c=s.return),i=s.return;while(i)}return s.tag===3?c:null}function p(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function w(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function A(i){if(h(i)!==i)throw Error(a(188))}function y(i){var s=i.alternate;if(!s){if(s=h(i),s===null)throw Error(a(188));return s!==i?null:i}for(var c=i,g=s;;){var b=c.return;if(b===null)break;var S=b.alternate;if(S===null){if(g=b.return,g!==null){c=g;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===c)return A(b),i;if(S===g)return A(b),s;S=S.sibling}throw Error(a(188))}if(c.return!==g.return)c=b,g=S;else{for(var M=!1,_=b.child;_;){if(_===c){M=!0,c=b,g=S;break}if(_===g){M=!0,g=b,c=S;break}_=_.sibling}if(!M){for(_=S.child;_;){if(_===c){M=!0,c=S,g=b;break}if(_===g){M=!0,g=S,c=b;break}_=_.sibling}if(!M)throw Error(a(189))}}if(c.alternate!==g)throw Error(a(190))}if(c.tag!==3)throw Error(a(188));return c.stateNode.current===c?i:s}function C(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=C(i),s!==null)return s;i=i.sibling}return null}var T=Object.assign,I=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),z=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),at=Symbol.for("react.activity"),_t=Symbol.for("react.memo_cache_sentinel"),Ot=Symbol.iterator;function Mt(i){return i===null||typeof i!="object"?null:(i=Ot&&i[Ot]||i["@@iterator"],typeof i=="function"?i:null)}var jt=Symbol.for("react.client.reference");function qt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===jt?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case L:return"Fragment";case G:return"Profiler";case F:return"StrictMode";case gt:return"Suspense";case dt:return"SuspenseList";case at:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case P:return"Portal";case z:return i.displayName||"Context";case q:return(i._context.displayName||"Context")+".Consumer";case lt:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case K:return s=i.displayName||null,s!==null?s:qt(i.type)||"Memo";case it:s=i._payload,i=i._init;try{return qt(i(s))}catch{}}return null}var H=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Et={pending:!1,data:null,method:null,action:null},Rt=[],kt=-1;function Y(i){return{current:i}}function ft(i){0>kt||(i.current=Rt[kt],Rt[kt]=null,kt--)}function vt(i,s){kt++,Rt[kt]=i.current,i.current=s}var It=Y(null),Qt=Y(null),Ct=Y(null),ne=Y(null);function de(i,s){switch(vt(Ct,s),vt(Qt,i),vt(It,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Ay(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Ay(s),i=wy(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ft(It),vt(It,i)}function Ce(){ft(It),ft(Qt),ft(Ct)}function ni(i){i.memoizedState!==null&&vt(ne,i);var s=It.current,c=wy(s,i.type);s!==c&&(vt(Qt,i),vt(It,c))}function An(i){Qt.current===i&&(ft(It),ft(Qt)),ne.current===i&&(ft(ne),qc._currentValue=Et)}var Xn,re;function Qn(i){if(Xn===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);Xn=s&&s[1]||"",re=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xn+i+re}var oi=!1;function hr(i,s){if(!i||oi)return"";oi=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(s){var yt=function(){throw Error()};if(Object.defineProperty(yt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(yt,[])}catch(ht){var ot=ht}Reflect.construct(i,[],yt)}else{try{yt.call()}catch(ht){ot=ht}i.call(yt.prototype)}}else{try{throw Error()}catch(ht){ot=ht}(yt=i())&&typeof yt.catch=="function"&&yt.catch(function(){})}}catch(ht){if(ht&&ot&&typeof ht.stack=="string")return[ht.stack,ot.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=g.DetermineComponentFrameRoot(),M=S[0],_=S[1];if(M&&_){var V=M.split(`
`),st=_.split(`
`);for(b=g=0;g<V.length&&!V[g].includes("DetermineComponentFrameRoot");)g++;for(;b<st.length&&!st[b].includes("DetermineComponentFrameRoot");)b++;if(g===V.length||b===st.length)for(g=V.length-1,b=st.length-1;1<=g&&0<=b&&V[g]!==st[b];)b--;for(;1<=g&&0<=b;g--,b--)if(V[g]!==st[b]){if(g!==1||b!==1)do if(g--,b--,0>b||V[g]!==st[b]){var mt=`
`+V[g].replace(" at new "," at ");return i.displayName&&mt.includes("<anonymous>")&&(mt=mt.replace("<anonymous>",i.displayName)),mt}while(1<=g&&0<=b);break}}}finally{oi=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?Qn(c):""}function Zn(i,s){switch(i.tag){case 26:case 27:case 5:return Qn(i.type);case 16:return Qn("Lazy");case 13:return i.child!==s&&s!==null?Qn("Suspense Fallback"):Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 15:return hr(i.type,!1);case 11:return hr(i.type.render,!1);case 1:return hr(i.type,!0);case 31:return Qn("Activity");default:return""}}function ze(i){try{var s="",c=null;do s+=Zn(i,c),c=i,i=i.return;while(i);return s}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var ge=Object.prototype.hasOwnProperty,Js=n.unstable_scheduleCallback,Ft=n.unstable_cancelCallback,Qo=n.unstable_shouldYield,Gu=n.unstable_requestPaint,mn=n.unstable_now,lc=n.unstable_getCurrentPriorityLevel,_i=n.unstable_ImmediatePriority,cc=n.unstable_UserBlockingPriority,Qi=n.unstable_NormalPriority,li=n.unstable_LowPriority,uc=n.unstable_IdlePriority,Zo=n.log,g0=n.unstable_setDisableYieldValue,tn=null,Tt=null;function Ye(i){if(typeof Zo=="function"&&g0(i),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(tn,i)}catch{}}var se=Math.clz32?Math.clz32:fc,un=Math.log,Ja=Math.LN2;function fc(i){return i>>>=0,i===0?32:31-(un(i)/Ja|0)|0}var $a=256,Ae=262144,dr=4194304;function Kr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function to(i,s,c){var g=i.pendingLanes;if(g===0)return 0;var b=0,S=i.suspendedLanes,M=i.pingedLanes;i=i.warmLanes;var _=g&134217727;return _!==0?(g=_&~S,g!==0?b=Kr(g):(M&=_,M!==0?b=Kr(M):c||(c=_&~i,c!==0&&(b=Kr(c))))):(_=g&~S,_!==0?b=Kr(_):M!==0?b=Kr(M):c||(c=g&~i,c!==0&&(b=Kr(c)))),b===0?0:s!==0&&s!==b&&(s&S)===0&&(S=b&-b,c=s&-s,S>=c||S===32&&(c&4194048)!==0)?s:b}function ci(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function hc(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kn(){var i=dr;return dr<<=1,(dr&62914560)===0&&(dr=4194304),i}function Wr(i){for(var s=[],c=0;31>c;c++)s.push(i);return s}function qr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function gr(i,s,c,g,b,S){var M=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var _=i.entanglements,V=i.expirationTimes,st=i.hiddenUpdates;for(c=M&~c;0<c;){var mt=31-se(c),yt=1<<mt;_[mt]=0,V[mt]=-1;var ot=st[mt];if(ot!==null)for(st[mt]=null,mt=0;mt<ot.length;mt++){var ht=ot[mt];ht!==null&&(ht.lane&=-536870913)}c&=~yt}g!==0&&ju(i,g,0),S!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=S&~(M&~s))}function ju(i,s,c){i.pendingLanes|=s,i.suspendedLanes&=~s;var g=31-se(s);i.entangledLanes|=s,i.entanglements[g]=i.entanglements[g]|1073741824|c&261930}function Jr(i,s){var c=i.entangledLanes|=s;for(i=i.entanglements;c;){var g=31-se(c),b=1<<g;b&s|i[g]&s&&(i[g]|=s),c&=~b}}function Ko(i,s){var c=s&-s;return c=(c&42)!==0?1:ii(c),(c&(i.suspendedLanes|s))!==0?0:c}function ii(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Dr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function wi(){var i=tt.p;return i!==0?i:(i=window.event,i===void 0?32:Gy(i.type))}function Bt(i,s){var c=tt.p;try{return tt.p=i,s()}finally{tt.p=c}}var bi=Math.random().toString(36).slice(2),On="__reactFiber$"+bi,Ve="__reactProps$"+bi,Zi="__reactContainer$"+bi,$s="__reactEvents$"+bi,Wo="__reactListeners$"+bi,mr="__reactHandles$"+bi,Yu="__reactResources$"+bi,eo="__reactMarker$"+bi;function Li(i){delete i[On],delete i[Ve],delete i[$s],delete i[Wo],delete i[mr]}function wn(i){var s=i[On];if(s)return s;for(var c=i.parentNode;c;){if(s=c[Zi]||c[On]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(i=Ny(i);i!==null;){if(c=i[On])return c;i=Ny(i)}return s}i=c,c=i.parentNode}return null}function Be(i){if(i=i[On]||i[Zi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function ta(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(a(33))}function Ei(i){var s=i[Yu];return s||(s=i[Yu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function bn(i){i[eo]=!0}var xt=new Set,Xu={};function Pe(i,s){Ki(i,s),Ki(i+"Capture",s)}function Ki(i,s){for(Xu[i]=s,i=0;i<s.length;i++)xt.add(s[i])}var m0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ie={},Ne={};function me(i){return ge.call(Ne,i)?!0:ge.call(Ie,i)?!1:m0.test(i)?Ne[i]=!0:(Ie[i]=!0,!1)}function ea(i,s,c){if(me(s))if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var g=s.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+c)}}function na(i,s,c){if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+c)}}function Wi(i,s,c,g){if(g===null)i.removeAttribute(c);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(s,c,""+g)}}function Me(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Br(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function p0(i,s,c){var g=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var b=g.get,S=g.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return b.call(this)},set:function(M){c=""+M,S.call(this,M)}}),Object.defineProperty(i,s,{enumerable:g.enumerable}),{getValue:function(){return c},setValue:function(M){c=""+M},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function rn(i){if(!i._valueTracker){var s=Br(i)?"checked":"value";i._valueTracker=p0(i,s,""+i[s])}}function _r(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var c=s.getValue(),g="";return i&&(g=Br(i)?i.checked?"true":"false":i.value),i=g,i!==c?(s.setValue(i),!0):!1}function qo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ia=/[\n"\\]/g;function ue(i){return i.replace(ia,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Un(i,s,c,g,b,S,M,_){i.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.type=M:i.removeAttribute("type"),s!=null?M==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Me(s)):i.value!==""+Me(s)&&(i.value=""+Me(s)):M!=="submit"&&M!=="reset"||i.removeAttribute("value"),s!=null?U(i,M,Me(s)):c!=null?U(i,M,Me(c)):g!=null&&i.removeAttribute("value"),b==null&&S!=null&&(i.defaultChecked=!!S),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.name=""+Me(_):i.removeAttribute("name")}function nt(i,s,c,g,b,S,M,_){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.type=S),s!=null||c!=null){if(!(S!=="submit"&&S!=="reset"||s!=null)){rn(i);return}c=c!=null?""+Me(c):"",s=s!=null?""+Me(s):c,_||s===i.value||(i.value=s),i.defaultValue=s}g=g??b,g=typeof g!="function"&&typeof g!="symbol"&&!!g,i.checked=_?i.checked:!!g,i.defaultChecked=!!g,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(i.name=M),rn(i)}function U(i,s,c){s==="number"&&qo(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function Ht(i,s,c,g){if(i=i.options,s){s={};for(var b=0;b<c.length;b++)s["$"+c[b]]=!0;for(c=0;c<i.length;c++)b=s.hasOwnProperty("$"+i[c].value),i[c].selected!==b&&(i[c].selected=b),b&&g&&(i[c].defaultSelected=!0)}else{for(c=""+Me(c),s=null,b=0;b<i.length;b++){if(i[b].value===c){i[b].selected=!0,g&&(i[b].defaultSelected=!0);return}s!==null||i[b].disabled||(s=i[b])}s!==null&&(s.selected=!0)}}function Rn(i,s,c){if(s!=null&&(s=""+Me(s),s!==i.value&&(i.value=s),c==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=c!=null?""+Me(c):""}function Ci(i,s,c,g){if(s==null){if(g!=null){if(c!=null)throw Error(a(92));if(H(g)){if(1<g.length)throw Error(a(93));g=g[0]}c=g}c==null&&(c=""),s=c}c=Me(s),i.defaultValue=c,g=i.textContent,g===c&&g!==""&&g!==null&&(i.value=g),rn(i)}function ra(i,s){if(s){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=s;return}}i.textContent=s}var dc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Si(i,s,c){var g=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?g?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":g?i.setProperty(s,c):typeof c!="number"||c===0||dc.has(s)?s==="float"?i.cssFloat=c:i[s]=(""+c).trim():i[s]=c+"px"}function Yt(i,s,c){if(s!=null&&typeof s!="object")throw Error(a(62));if(i=i.style,c!=null){for(var g in c)!c.hasOwnProperty(g)||s!=null&&s.hasOwnProperty(g)||(g.indexOf("--")===0?i.setProperty(g,""):g==="float"?i.cssFloat="":i[g]="");for(var b in s)g=s[b],s.hasOwnProperty(b)&&c[b]!==g&&Si(i,b,g)}else for(var S in s)s.hasOwnProperty(S)&&Si(i,S,s[S])}function We(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),y0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(i){return y0.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Pi(){}var no=null;function gc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var sn=null,pr=null;function Lr(i){var s=Be(i);if(s&&(i=s.stateNode)){var c=i[Ve]||null;t:switch(i=s.stateNode,s.type){case"input":if(Un(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+ue(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var g=c[s];if(g!==i&&g.form===i.form){var b=g[Ve]||null;if(!b)throw Error(a(90));Un(g,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(s=0;s<c.length;s++)g=c[s],g.form===i.form&&_r(g)}break t;case"textarea":Rn(i,c.value,c.defaultValue);break t;case"select":s=c.value,s!=null&&Ht(i,!!c.multiple,s,!1)}}}var Zt=!1;function Zu(i,s,c){if(Zt)return i(s,c);Zt=!0;try{var g=i(s);return g}finally{if(Zt=!1,(sn!==null||pr!==null)&&(zf(),sn&&(s=sn,i=pr,pr=sn=null,Lr(s),i)))for(s=0;s<i.length;s++)Lr(i[s])}}function $t(i,s){var c=i.stateNode;if(c===null)return null;var g=c[Ve]||null;if(g===null)return null;c=g[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break t;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(a(231,s,typeof c));return c}var qe=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mc=!1;if(qe)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){mc=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{mc=!1}var Pr=null,Ur=null,Jo=null;function aa(){if(Jo)return Jo;var i,s=Ur,c=s.length,g,b="value"in Pr?Pr.value:Pr.textContent,S=b.length;for(i=0;i<c&&s[i]===b[i];i++);var M=c-i;for(g=1;g<=M&&s[c-g]===b[S-g];g++);return Jo=b.slice(i,1<g?1-g:void 0)}function $r(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function ts(){return!0}function pc(){return!1}function kn(i){function s(c,g,b,S,M){this._reactName=c,this._targetInst=b,this.type=g,this.nativeEvent=S,this.target=M,this.currentTarget=null;for(var _ in i)i.hasOwnProperty(_)&&(c=i[_],this[_]=c?c(S):S[_]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?ts:pc,this.isPropagationStopped=pc,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),s}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wn=kn(qi),oa=T({},qi,{view:0,detail:0}),Ku=kn(oa),$o,yc,io,tl=T({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ro,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==io&&(io&&i.type==="mousemove"?($o=i.screenX-io.screenX,yc=i.screenY-io.screenY):yc=$o=0,io=i),$o)},movementY:function(i){return"movementY"in i?i.movementY:yc}}),_e=kn(tl),Wu=T({},tl,{dataTransfer:0}),el=kn(Wu),es=T({},oa,{relatedTarget:0}),xc=kn(es),ut=T({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),ae=kn(ut),qn=T({},qi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),nl=kn(qn),qu=T({},qi,{data:0}),Ju=kn(qu),x0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dn(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Ac[i])?!!s[i]:!1}function ro(){return Dn}var fn=T({},oa,{key:function(i){if(i.key){var s=x0[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=$r(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?A0[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ro,charCode:function(i){return i.type==="keypress"?$r(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?$r(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),il=kn(fn),gs=T({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ue=kn(gs),Kt=T({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ro}),w0=kn(Kt),Je=T({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ms=kn(Je),la=T({},tl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),b0=kn(la),yr=T({},qi,{newState:0,oldState:0}),wc=kn(yr),$u=[9,13,27,32],so=qe&&"CompositionEvent"in window,ca=null;qe&&"documentMode"in document&&(ca=document.documentMode);var tf=qe&&"TextEvent"in window&&!ca,ef=qe&&(!so||ca&&8<ca&&11>=ca),ps=" ",rl=!1;function nf(i,s){switch(i){case"keyup":return $u.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ua(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fa=!1;function ns(i,s){switch(i){case"compositionend":return ua(s);case"keypress":return s.which!==32?null:(rl=!0,ps);case"textInput":return i=s.data,i===ps&&rl?null:i;default:return null}}function sl(i,s){if(fa)return i==="compositionend"||!so&&nf(i,s)?(i=aa(),Jo=Ur=Pr=null,fa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ef&&s.locale!=="ko"?null:s.data;default:return null}}var Ui={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bc(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Ui[i.type]:s==="textarea"}function Ji(i,s,c,g){sn?pr?pr.push(g):pr=[g]:sn=g,s=Qf(s,"onChange"),0<s.length&&(c=new Wn("onChange","change",null,c,g),i.push({event:c,listeners:s}))}var ao=null,ys=null;function E0(i){dy(i,0)}function oo(i){var s=ta(i);if(_r(s))return i}function $i(i,s){if(i==="change")return s}var rf=!1;if(qe){var lo;if(qe){var xs="oninput"in document;if(!xs){var we=document.createElement("div");we.setAttribute("oninput","return;"),xs=typeof we.oninput=="function"}lo=xs}else lo=!1;rf=lo&&(!document.documentMode||9<document.documentMode)}function co(){ao&&(ao.detachEvent("onpropertychange",O),ys=ao=null)}function O(i){if(i.propertyName==="value"&&oo(ys)){var s=[];Ji(s,ys,i,gc(i)),Zu(E0,s)}}function r(i,s,c){i==="focusin"?(co(),ao=s,ys=c,ao.attachEvent("onpropertychange",O)):i==="focusout"&&co()}function o(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return oo(ys)}function l(i,s){if(i==="click")return oo(s)}function f(i,s){if(i==="input"||i==="change")return oo(s)}function d(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var m=typeof Object.is=="function"?Object.is:d;function x(i,s){if(m(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var c=Object.keys(i),g=Object.keys(s);if(c.length!==g.length)return!1;for(g=0;g<c.length;g++){var b=c[g];if(!ge.call(s,b)||!m(i[b],s[b]))return!1}return!0}function E(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function v(i,s){var c=E(i);i=0;for(var g;c;){if(c.nodeType===3){if(g=i+c.textContent.length,i<=s&&g>=s)return{node:c,offset:s-i};i=g}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=E(c)}}function N(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?N(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function R(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=qo(i.document);s instanceof i.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)i=s.contentWindow;else break;s=qo(i.document)}return s}function B(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var k=qe&&"documentMode"in document&&11>=document.documentMode,j=null,X=null,et=null,ct=!1;function St(i,s,c){var g=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ct||j==null||j!==qo(g)||(g=j,"selectionStart"in g&&B(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),et&&x(et,g)||(et=g,g=Qf(X,"onSelect"),0<g.length&&(s=new Wn("onSelect","select",null,s,c),i.push({event:s,listeners:g}),s.target=j)))}function bt(i,s){var c={};return c[i.toLowerCase()]=s.toLowerCase(),c["Webkit"+i]="webkit"+s,c["Moz"+i]="moz"+s,c}var At={animationend:bt("Animation","AnimationEnd"),animationiteration:bt("Animation","AnimationIteration"),animationstart:bt("Animation","AnimationStart"),transitionrun:bt("Transition","TransitionRun"),transitionstart:bt("Transition","TransitionStart"),transitioncancel:bt("Transition","TransitionCancel"),transitionend:bt("Transition","TransitionEnd")},le={},te={};qe&&(te=document.createElement("div").style,"AnimationEvent"in window||(delete At.animationend.animation,delete At.animationiteration.animation,delete At.animationstart.animation),"TransitionEvent"in window||delete At.transitionend.transition);function En(i){if(le[i])return le[i];if(!At[i])return i;var s=At[i],c;for(c in s)if(s.hasOwnProperty(c)&&c in te)return le[i]=s[c];return i}var ki=En("animationend"),ui=En("animationiteration"),ke=En("animationstart"),Jn=En("transitionrun"),Ti=En("transitionstart"),ha=En("transitioncancel"),As=En("transitionend"),sf=new Map,Ec="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ec.push("scrollEnd");function kr(i,s){sf.set(i,s),Pe(s,[i])}var af=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},xr=[],al=0,C0=0;function of(){for(var i=al,s=C0=al=0;s<i;){var c=xr[s];xr[s++]=null;var g=xr[s];xr[s++]=null;var b=xr[s];xr[s++]=null;var S=xr[s];if(xr[s++]=null,g!==null&&b!==null){var M=g.pending;M===null?b.next=b:(b.next=M.next,M.next=b),g.pending=b}S!==0&&Zm(c,b,S)}}function lf(i,s,c,g){xr[al++]=i,xr[al++]=s,xr[al++]=c,xr[al++]=g,C0|=g,i.lanes|=g,i=i.alternate,i!==null&&(i.lanes|=g)}function S0(i,s,c,g){return lf(i,s,c,g),cf(i)}function uo(i,s){return lf(i,null,null,s),cf(i)}function Zm(i,s,c){i.lanes|=c;var g=i.alternate;g!==null&&(g.lanes|=c);for(var b=!1,S=i.return;S!==null;)S.childLanes|=c,g=S.alternate,g!==null&&(g.childLanes|=c),S.tag===22&&(i=S.stateNode,i===null||i._visibility&1||(b=!0)),i=S,S=S.return;return i.tag===3?(S=i.stateNode,b&&s!==null&&(b=31-se(c),i=S.hiddenUpdates,g=i[b],g===null?i[b]=[s]:g.push(s),s.lane=c|536870912),S):null}function cf(i){if(50<jc)throw jc=0,Bd=null,Error(a(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var ol={};function jC(i,s,c,g){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(i,s,c,g){return new jC(i,s,c,g)}function T0(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ws(i,s){var c=i.alternate;return c===null?(c=tr(i.tag,s,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=s,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,s=i.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function Km(i,s){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,s=c.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function uf(i,s,c,g,b,S){var M=0;if(g=i,typeof i=="function")T0(i)&&(M=1);else if(typeof i=="string")M=KS(i,c,It.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case at:return i=tr(31,c,s,b),i.elementType=at,i.lanes=S,i;case L:return fo(c.children,b,S,s);case F:M=8,b|=24;break;case G:return i=tr(12,c,s,b|2),i.elementType=G,i.lanes=S,i;case gt:return i=tr(13,c,s,b),i.elementType=gt,i.lanes=S,i;case dt:return i=tr(19,c,s,b),i.elementType=dt,i.lanes=S,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:M=10;break t;case q:M=9;break t;case lt:M=11;break t;case K:M=14;break t;case it:M=16,g=null;break t}M=29,c=Error(a(130,i===null?"null":typeof i,"")),g=null}return s=tr(M,c,s,b),s.elementType=i,s.type=g,s.lanes=S,s}function fo(i,s,c,g){return i=tr(7,i,g,s),i.lanes=c,i}function v0(i,s,c){return i=tr(6,i,null,s),i.lanes=c,i}function Wm(i){var s=tr(18,null,null,0);return s.stateNode=i,s}function N0(i,s,c){return s=tr(4,i.children!==null?i.children:[],i.key,s),s.lanes=c,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var qm=new WeakMap;function Ar(i,s){if(typeof i=="object"&&i!==null){var c=qm.get(i);return c!==void 0?c:(s={value:i,source:s,stack:ze(s)},qm.set(i,s),s)}return{value:i,source:s,stack:ze(s)}}var ll=[],cl=0,ff=null,Cc=0,wr=[],br=0,da=null,is=1,rs="";function bs(i,s){ll[cl++]=Cc,ll[cl++]=ff,ff=i,Cc=s}function Jm(i,s,c){wr[br++]=is,wr[br++]=rs,wr[br++]=da,da=i;var g=is;i=rs;var b=32-se(g)-1;g&=~(1<<b),c+=1;var S=32-se(s)+b;if(30<S){var M=b-b%5;S=(g&(1<<M)-1).toString(32),g>>=M,b-=M,is=1<<32-se(s)+b|c<<b|g,rs=S+i}else is=1<<S|c<<b|g,rs=i}function I0(i){i.return!==null&&(bs(i,1),Jm(i,1,0))}function M0(i){for(;i===ff;)ff=ll[--cl],ll[cl]=null,Cc=ll[--cl],ll[cl]=null;for(;i===da;)da=wr[--br],wr[br]=null,rs=wr[--br],wr[br]=null,is=wr[--br],wr[br]=null}function $m(i,s){wr[br++]=is,wr[br++]=rs,wr[br++]=da,is=s.id,rs=s.overflow,da=i}var fi=null,an=null,Se=!1,ga=null,Er=!1,O0=Error(a(519));function ma(i){var s=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sc(Ar(s,i)),O0}function tp(i){var s=i.stateNode,c=i.type,g=i.memoizedProps;switch(s[On]=i,s[Ve]=g,c){case"dialog":ye("cancel",s),ye("close",s);break;case"iframe":case"object":case"embed":ye("load",s);break;case"video":case"audio":for(c=0;c<Xc.length;c++)ye(Xc[c],s);break;case"source":ye("error",s);break;case"img":case"image":case"link":ye("error",s),ye("load",s);break;case"details":ye("toggle",s);break;case"input":ye("invalid",s),nt(s,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":ye("invalid",s);break;case"textarea":ye("invalid",s),Ci(s,g.value,g.defaultValue,g.children)}c=g.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||g.suppressHydrationWarning===!0||yy(s.textContent,c)?(g.popover!=null&&(ye("beforetoggle",s),ye("toggle",s)),g.onScroll!=null&&ye("scroll",s),g.onScrollEnd!=null&&ye("scrollend",s),g.onClick!=null&&(s.onclick=Pi),s=!0):s=!1,s||ma(i,!0)}function ep(i){for(fi=i.return;fi;)switch(fi.tag){case 5:case 31:case 13:Er=!1;return;case 27:case 3:Er=!0;return;default:fi=fi.return}}function ul(i){if(i!==fi)return!1;if(!Se)return ep(i),Se=!0,!1;var s=i.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||Zd(i.type,i.memoizedProps)),c=!c),c&&an&&ma(i),ep(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));an=vy(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));an=vy(i)}else s===27?(s=an,Ma(i.type)?(i=$d,$d=null,an=i):an=s):an=fi?Sr(i.stateNode.nextSibling):null;return!0}function ho(){an=fi=null,Se=!1}function R0(){var i=ga;return i!==null&&(Hi===null?Hi=i:Hi.push.apply(Hi,i),ga=null),i}function Sc(i){ga===null?ga=[i]:ga.push(i)}var D0=Y(null),go=null,Es=null;function pa(i,s,c){vt(D0,s._currentValue),s._currentValue=c}function Cs(i){i._currentValue=D0.current,ft(D0)}function B0(i,s,c){for(;i!==null;){var g=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),i===c)break;i=i.return}}function _0(i,s,c,g){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var S=b.dependencies;if(S!==null){var M=b.child;S=S.firstContext;t:for(;S!==null;){var _=S;S=b;for(var V=0;V<s.length;V++)if(_.context===s[V]){S.lanes|=c,_=S.alternate,_!==null&&(_.lanes|=c),B0(S.return,c,i),g||(M=null);break t}S=_.next}}else if(b.tag===18){if(M=b.return,M===null)throw Error(a(341));M.lanes|=c,S=M.alternate,S!==null&&(S.lanes|=c),B0(M,c,i),M=null}else M=b.child;if(M!==null)M.return=b;else for(M=b;M!==null;){if(M===i){M=null;break}if(b=M.sibling,b!==null){b.return=M.return,M=b;break}M=M.return}b=M}}function fl(i,s,c,g){i=null;for(var b=s,S=!1;b!==null;){if(!S){if((b.flags&524288)!==0)S=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var M=b.alternate;if(M===null)throw Error(a(387));if(M=M.memoizedProps,M!==null){var _=b.type;m(b.pendingProps.value,M.value)||(i!==null?i.push(_):i=[_])}}else if(b===ne.current){if(M=b.alternate,M===null)throw Error(a(387));M.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(qc):i=[qc])}b=b.return}i!==null&&_0(s,i,c,g),s.flags|=262144}function hf(i){for(i=i.firstContext;i!==null;){if(!m(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function mo(i){go=i,Es=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function hi(i){return np(go,i)}function df(i,s){return go===null&&mo(i),np(i,s)}function np(i,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},Es===null){if(i===null)throw Error(a(308));Es=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Es=Es.next=s;return c}var YC=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(c,g){i.push(g)}};this.abort=function(){s.aborted=!0,i.forEach(function(c){return c()})}},XC=n.unstable_scheduleCallback,QC=n.unstable_NormalPriority,Fn={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function L0(){return{controller:new YC,data:new Map,refCount:0}}function Tc(i){i.refCount--,i.refCount===0&&XC(QC,function(){i.controller.abort()})}var vc=null,P0=0,hl=0,dl=null;function ZC(i,s){if(vc===null){var c=vc=[];P0=0,hl=Fd(),dl={status:"pending",value:void 0,then:function(g){c.push(g)}}}return P0++,s.then(ip,ip),s}function ip(){if(--P0===0&&vc!==null){dl!==null&&(dl.status="fulfilled");var i=vc;vc=null,hl=0,dl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function KC(i,s){var c=[],g={status:"pending",value:null,reason:null,then:function(b){c.push(b)}};return i.then(function(){g.status="fulfilled",g.value=s;for(var b=0;b<c.length;b++)(0,c[b])(s)},function(b){for(g.status="rejected",g.reason=b,b=0;b<c.length;b++)(0,c[b])(void 0)}),g}var rp=Q.S;Q.S=function(i,s){V2=mn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&ZC(i,s),rp!==null&&rp(i,s)};var po=Y(null);function U0(){var i=po.current;return i!==null?i:$e.pooledCache}function gf(i,s){s===null?vt(po,po.current):vt(po,s.pool)}function sp(){var i=U0();return i===null?null:{parent:Fn._currentValue,pool:i}}var gl=Error(a(460)),k0=Error(a(474)),mf=Error(a(542)),pf={then:function(){}};function ap(i){return i=i.status,i==="fulfilled"||i==="rejected"}function op(i,s,c){switch(c=i[c],c===void 0?i.push(s):c!==s&&(s.then(Pi,Pi),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,cp(i),i;default:if(typeof s.status=="string")s.then(Pi,Pi);else{if(i=$e,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=s,i.status="pending",i.then(function(g){if(s.status==="pending"){var b=s;b.status="fulfilled",b.value=g}},function(g){if(s.status==="pending"){var b=s;b.status="rejected",b.reason=g}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,cp(i),i}throw xo=s,gl}}function yo(i){try{var s=i._init;return s(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(xo=c,gl):c}}var xo=null;function lp(){if(xo===null)throw Error(a(459));var i=xo;return xo=null,i}function cp(i){if(i===gl||i===mf)throw Error(a(483))}var ml=null,Nc=0;function yf(i){var s=Nc;return Nc+=1,ml===null&&(ml=[]),op(ml,i,s)}function Ic(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function xf(i,s){throw s.$$typeof===I?Error(a(525)):(i=Object.prototype.toString.call(s),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function up(i){function s($,Z){if(i){var rt=$.deletions;rt===null?($.deletions=[Z],$.flags|=16):rt.push(Z)}}function c($,Z){if(!i)return null;for(;Z!==null;)s($,Z),Z=Z.sibling;return null}function g($){for(var Z=new Map;$!==null;)$.key!==null?Z.set($.key,$):Z.set($.index,$),$=$.sibling;return Z}function b($,Z){return $=ws($,Z),$.index=0,$.sibling=null,$}function S($,Z,rt){return $.index=rt,i?(rt=$.alternate,rt!==null?(rt=rt.index,rt<Z?($.flags|=67108866,Z):rt):($.flags|=67108866,Z)):($.flags|=1048576,Z)}function M($){return i&&$.alternate===null&&($.flags|=67108866),$}function _($,Z,rt,pt){return Z===null||Z.tag!==6?(Z=v0(rt,$.mode,pt),Z.return=$,Z):(Z=b(Z,rt),Z.return=$,Z)}function V($,Z,rt,pt){var Xt=rt.type;return Xt===L?mt($,Z,rt.props.children,pt,rt.key):Z!==null&&(Z.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===it&&yo(Xt)===Z.type)?(Z=b(Z,rt.props),Ic(Z,rt),Z.return=$,Z):(Z=uf(rt.type,rt.key,rt.props,null,$.mode,pt),Ic(Z,rt),Z.return=$,Z)}function st($,Z,rt,pt){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==rt.containerInfo||Z.stateNode.implementation!==rt.implementation?(Z=N0(rt,$.mode,pt),Z.return=$,Z):(Z=b(Z,rt.children||[]),Z.return=$,Z)}function mt($,Z,rt,pt,Xt){return Z===null||Z.tag!==7?(Z=fo(rt,$.mode,pt,Xt),Z.return=$,Z):(Z=b(Z,rt),Z.return=$,Z)}function yt($,Z,rt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=v0(""+Z,$.mode,rt),Z.return=$,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case D:return rt=uf(Z.type,Z.key,Z.props,null,$.mode,rt),Ic(rt,Z),rt.return=$,rt;case P:return Z=N0(Z,$.mode,rt),Z.return=$,Z;case it:return Z=yo(Z),yt($,Z,rt)}if(H(Z)||Mt(Z))return Z=fo(Z,$.mode,rt,null),Z.return=$,Z;if(typeof Z.then=="function")return yt($,yf(Z),rt);if(Z.$$typeof===z)return yt($,df($,Z),rt);xf($,Z)}return null}function ot($,Z,rt,pt){var Xt=Z!==null?Z.key:null;if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return Xt!==null?null:_($,Z,""+rt,pt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case D:return rt.key===Xt?V($,Z,rt,pt):null;case P:return rt.key===Xt?st($,Z,rt,pt):null;case it:return rt=yo(rt),ot($,Z,rt,pt)}if(H(rt)||Mt(rt))return Xt!==null?null:mt($,Z,rt,pt,null);if(typeof rt.then=="function")return ot($,Z,yf(rt),pt);if(rt.$$typeof===z)return ot($,Z,df($,rt),pt);xf($,rt)}return null}function ht($,Z,rt,pt,Xt){if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return $=$.get(rt)||null,_(Z,$,""+pt,Xt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case D:return $=$.get(pt.key===null?rt:pt.key)||null,V(Z,$,pt,Xt);case P:return $=$.get(pt.key===null?rt:pt.key)||null,st(Z,$,pt,Xt);case it:return pt=yo(pt),ht($,Z,rt,pt,Xt)}if(H(pt)||Mt(pt))return $=$.get(rt)||null,mt(Z,$,pt,Xt,null);if(typeof pt.then=="function")return ht($,Z,rt,yf(pt),Xt);if(pt.$$typeof===z)return ht($,Z,rt,df(Z,pt),Xt);xf(Z,pt)}return null}function zt($,Z,rt,pt){for(var Xt=null,Oe=null,Gt=Z,oe=Z=0,Ee=null;Gt!==null&&oe<rt.length;oe++){Gt.index>oe?(Ee=Gt,Gt=null):Ee=Gt.sibling;var Re=ot($,Gt,rt[oe],pt);if(Re===null){Gt===null&&(Gt=Ee);break}i&&Gt&&Re.alternate===null&&s($,Gt),Z=S(Re,Z,oe),Oe===null?Xt=Re:Oe.sibling=Re,Oe=Re,Gt=Ee}if(oe===rt.length)return c($,Gt),Se&&bs($,oe),Xt;if(Gt===null){for(;oe<rt.length;oe++)Gt=yt($,rt[oe],pt),Gt!==null&&(Z=S(Gt,Z,oe),Oe===null?Xt=Gt:Oe.sibling=Gt,Oe=Gt);return Se&&bs($,oe),Xt}for(Gt=g(Gt);oe<rt.length;oe++)Ee=ht(Gt,$,oe,rt[oe],pt),Ee!==null&&(i&&Ee.alternate!==null&&Gt.delete(Ee.key===null?oe:Ee.key),Z=S(Ee,Z,oe),Oe===null?Xt=Ee:Oe.sibling=Ee,Oe=Ee);return i&&Gt.forEach(function(_a){return s($,_a)}),Se&&bs($,oe),Xt}function Wt($,Z,rt,pt){if(rt==null)throw Error(a(151));for(var Xt=null,Oe=null,Gt=Z,oe=Z=0,Ee=null,Re=rt.next();Gt!==null&&!Re.done;oe++,Re=rt.next()){Gt.index>oe?(Ee=Gt,Gt=null):Ee=Gt.sibling;var _a=ot($,Gt,Re.value,pt);if(_a===null){Gt===null&&(Gt=Ee);break}i&&Gt&&_a.alternate===null&&s($,Gt),Z=S(_a,Z,oe),Oe===null?Xt=_a:Oe.sibling=_a,Oe=_a,Gt=Ee}if(Re.done)return c($,Gt),Se&&bs($,oe),Xt;if(Gt===null){for(;!Re.done;oe++,Re=rt.next())Re=yt($,Re.value,pt),Re!==null&&(Z=S(Re,Z,oe),Oe===null?Xt=Re:Oe.sibling=Re,Oe=Re);return Se&&bs($,oe),Xt}for(Gt=g(Gt);!Re.done;oe++,Re=rt.next())Re=ht(Gt,$,oe,Re.value,pt),Re!==null&&(i&&Re.alternate!==null&&Gt.delete(Re.key===null?oe:Re.key),Z=S(Re,Z,oe),Oe===null?Xt=Re:Oe.sibling=Re,Oe=Re);return i&&Gt.forEach(function(a4){return s($,a4)}),Se&&bs($,oe),Xt}function Ze($,Z,rt,pt){if(typeof rt=="object"&&rt!==null&&rt.type===L&&rt.key===null&&(rt=rt.props.children),typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case D:t:{for(var Xt=rt.key;Z!==null;){if(Z.key===Xt){if(Xt=rt.type,Xt===L){if(Z.tag===7){c($,Z.sibling),pt=b(Z,rt.props.children),pt.return=$,$=pt;break t}}else if(Z.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===it&&yo(Xt)===Z.type){c($,Z.sibling),pt=b(Z,rt.props),Ic(pt,rt),pt.return=$,$=pt;break t}c($,Z);break}else s($,Z);Z=Z.sibling}rt.type===L?(pt=fo(rt.props.children,$.mode,pt,rt.key),pt.return=$,$=pt):(pt=uf(rt.type,rt.key,rt.props,null,$.mode,pt),Ic(pt,rt),pt.return=$,$=pt)}return M($);case P:t:{for(Xt=rt.key;Z!==null;){if(Z.key===Xt)if(Z.tag===4&&Z.stateNode.containerInfo===rt.containerInfo&&Z.stateNode.implementation===rt.implementation){c($,Z.sibling),pt=b(Z,rt.children||[]),pt.return=$,$=pt;break t}else{c($,Z);break}else s($,Z);Z=Z.sibling}pt=N0(rt,$.mode,pt),pt.return=$,$=pt}return M($);case it:return rt=yo(rt),Ze($,Z,rt,pt)}if(H(rt))return zt($,Z,rt,pt);if(Mt(rt)){if(Xt=Mt(rt),typeof Xt!="function")throw Error(a(150));return rt=Xt.call(rt),Wt($,Z,rt,pt)}if(typeof rt.then=="function")return Ze($,Z,yf(rt),pt);if(rt.$$typeof===z)return Ze($,Z,df($,rt),pt);xf($,rt)}return typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint"?(rt=""+rt,Z!==null&&Z.tag===6?(c($,Z.sibling),pt=b(Z,rt),pt.return=$,$=pt):(c($,Z),pt=v0(rt,$.mode,pt),pt.return=$,$=pt),M($)):c($,Z)}return function($,Z,rt,pt){try{Nc=0;var Xt=Ze($,Z,rt,pt);return ml=null,Xt}catch(Gt){if(Gt===gl||Gt===mf)throw Gt;var Oe=tr(29,Gt,null,$.mode);return Oe.lanes=pt,Oe.return=$,Oe}}}var Ao=up(!0),fp=up(!1),ya=!1;function F0(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function z0(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function xa(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Aa(i,s,c){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(Le&2)!==0){var b=g.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),g.pending=s,s=cf(i),Zm(i,null,c),s}return lf(i,g,s,c),cf(i)}function Mc(i,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var g=s.lanes;g&=i.pendingLanes,c|=g,s.lanes=c,Jr(i,c)}}function V0(i,s){var c=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,c===g)){var b=null,S=null;if(c=c.firstBaseUpdate,c!==null){do{var M={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};S===null?b=S=M:S=S.next=M,c=c.next}while(c!==null);S===null?b=S=s:S=S.next=s}else b=S=s;c={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:g.shared,callbacks:g.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=s}var H0=!1;function Oc(){if(H0){var i=dl;if(i!==null)throw i}}function Rc(i,s,c,g){H0=!1;var b=i.updateQueue;ya=!1;var S=b.firstBaseUpdate,M=b.lastBaseUpdate,_=b.shared.pending;if(_!==null){b.shared.pending=null;var V=_,st=V.next;V.next=null,M===null?S=st:M.next=st,M=V;var mt=i.alternate;mt!==null&&(mt=mt.updateQueue,_=mt.lastBaseUpdate,_!==M&&(_===null?mt.firstBaseUpdate=st:_.next=st,mt.lastBaseUpdate=V))}if(S!==null){var yt=b.baseState;M=0,mt=st=V=null,_=S;do{var ot=_.lane&-536870913,ht=ot!==_.lane;if(ht?(be&ot)===ot:(g&ot)===ot){ot!==0&&ot===hl&&(H0=!0),mt!==null&&(mt=mt.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});t:{var zt=i,Wt=_;ot=s;var Ze=c;switch(Wt.tag){case 1:if(zt=Wt.payload,typeof zt=="function"){yt=zt.call(Ze,yt,ot);break t}yt=zt;break t;case 3:zt.flags=zt.flags&-65537|128;case 0:if(zt=Wt.payload,ot=typeof zt=="function"?zt.call(Ze,yt,ot):zt,ot==null)break t;yt=T({},yt,ot);break t;case 2:ya=!0}}ot=_.callback,ot!==null&&(i.flags|=64,ht&&(i.flags|=8192),ht=b.callbacks,ht===null?b.callbacks=[ot]:ht.push(ot))}else ht={lane:ot,tag:_.tag,payload:_.payload,callback:_.callback,next:null},mt===null?(st=mt=ht,V=yt):mt=mt.next=ht,M|=ot;if(_=_.next,_===null){if(_=b.shared.pending,_===null)break;ht=_,_=ht.next,ht.next=null,b.lastBaseUpdate=ht,b.shared.pending=null}}while(!0);mt===null&&(V=yt),b.baseState=V,b.firstBaseUpdate=st,b.lastBaseUpdate=mt,S===null&&(b.shared.lanes=0),Sa|=M,i.lanes=M,i.memoizedState=yt}}function hp(i,s){if(typeof i!="function")throw Error(a(191,i));i.call(s)}function dp(i,s){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)hp(c[i],s)}var pl=Y(null),Af=Y(0);function gp(i,s){i=Ds,vt(Af,i),vt(pl,s),Ds=i|s.baseLanes}function G0(){vt(Af,Ds),vt(pl,pl.current)}function j0(){Ds=Af.current,ft(pl),ft(Af)}var er=Y(null),Cr=null;function wa(i){var s=i.alternate;vt(Bn,Bn.current&1),vt(er,i),Cr===null&&(s===null||pl.current!==null||s.memoizedState!==null)&&(Cr=i)}function Y0(i){vt(Bn,Bn.current),vt(er,i),Cr===null&&(Cr=i)}function mp(i){i.tag===22?(vt(Bn,Bn.current),vt(er,i),Cr===null&&(Cr=i)):ba()}function ba(){vt(Bn,Bn.current),vt(er,er.current)}function nr(i){ft(er),Cr===i&&(Cr=null),ft(Bn)}var Bn=Y(0);function wf(i){for(var s=i;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||qd(c)||Jd(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ss=0,ie=null,Xe=null,zn=null,bf=!1,yl=!1,wo=!1,Ef=0,Dc=0,xl=null,WC=0;function Cn(){throw Error(a(321))}function X0(i,s){if(s===null)return!1;for(var c=0;c<s.length&&c<i.length;c++)if(!m(i[c],s[c]))return!1;return!0}function Q0(i,s,c,g,b,S){return Ss=S,ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=i===null||i.memoizedState===null?Jp:ld,wo=!1,S=c(g,b),wo=!1,yl&&(S=yp(s,c,g,b)),pp(i),S}function pp(i){Q.H=Lc;var s=Xe!==null&&Xe.next!==null;if(Ss=0,zn=Xe=ie=null,bf=!1,Dc=0,xl=null,s)throw Error(a(300));i===null||Vn||(i=i.dependencies,i!==null&&hf(i)&&(Vn=!0))}function yp(i,s,c,g){ie=i;var b=0;do{if(yl&&(xl=null),Dc=0,yl=!1,25<=b)throw Error(a(301));if(b+=1,zn=Xe=null,i.updateQueue!=null){var S=i.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}Q.H=$p,S=s(c,g)}while(yl);return S}function qC(){var i=Q.H,s=i.useState()[0];return s=typeof s.then=="function"?Bc(s):s,i=i.useState()[0],(Xe!==null?Xe.memoizedState:null)!==i&&(ie.flags|=1024),s}function Z0(){var i=Ef!==0;return Ef=0,i}function K0(i,s,c){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~c}function W0(i){if(bf){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}bf=!1}Ss=0,zn=Xe=ie=null,yl=!1,Dc=Ef=0,xl=null}function vi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?ie.memoizedState=zn=i:zn=zn.next=i,zn}function _n(){if(Xe===null){var i=ie.alternate;i=i!==null?i.memoizedState:null}else i=Xe.next;var s=zn===null?ie.memoizedState:zn.next;if(s!==null)zn=s,Xe=i;else{if(i===null)throw ie.alternate===null?Error(a(467)):Error(a(310));Xe=i,i={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},zn===null?ie.memoizedState=zn=i:zn=zn.next=i}return zn}function Cf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bc(i){var s=Dc;return Dc+=1,xl===null&&(xl=[]),i=op(xl,i,s),s=ie,(zn===null?s.memoizedState:zn.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?Jp:ld),i}function Sf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Bc(i);if(i.$$typeof===z)return hi(i)}throw Error(a(438,String(i)))}function q0(i){var s=null,c=ie.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var g=ie.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(s={data:g.data.map(function(b){return b.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Cf(),ie.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(i),g=0;g<i;g++)c[g]=_t;return s.index++,c}function Ts(i,s){return typeof s=="function"?s(i):s}function Tf(i){var s=_n();return J0(s,Xe,i)}function J0(i,s,c){var g=i.queue;if(g===null)throw Error(a(311));g.lastRenderedReducer=c;var b=i.baseQueue,S=g.pending;if(S!==null){if(b!==null){var M=b.next;b.next=S.next,S.next=M}s.baseQueue=b=S,g.pending=null}if(S=i.baseState,b===null)i.memoizedState=S;else{s=b.next;var _=M=null,V=null,st=s,mt=!1;do{var yt=st.lane&-536870913;if(yt!==st.lane?(be&yt)===yt:(Ss&yt)===yt){var ot=st.revertLane;if(ot===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),yt===hl&&(mt=!0);else if((Ss&ot)===ot){st=st.next,ot===hl&&(mt=!0);continue}else yt={lane:0,revertLane:st.revertLane,gesture:null,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},V===null?(_=V=yt,M=S):V=V.next=yt,ie.lanes|=ot,Sa|=ot;yt=st.action,wo&&c(S,yt),S=st.hasEagerState?st.eagerState:c(S,yt)}else ot={lane:yt,revertLane:st.revertLane,gesture:st.gesture,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},V===null?(_=V=ot,M=S):V=V.next=ot,ie.lanes|=yt,Sa|=yt;st=st.next}while(st!==null&&st!==s);if(V===null?M=S:V.next=_,!m(S,i.memoizedState)&&(Vn=!0,mt&&(c=dl,c!==null)))throw c;i.memoizedState=S,i.baseState=M,i.baseQueue=V,g.lastRenderedState=S}return b===null&&(g.lanes=0),[i.memoizedState,g.dispatch]}function $0(i){var s=_n(),c=s.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=i;var g=c.dispatch,b=c.pending,S=s.memoizedState;if(b!==null){c.pending=null;var M=b=b.next;do S=i(S,M.action),M=M.next;while(M!==b);m(S,s.memoizedState)||(Vn=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),c.lastRenderedState=S}return[S,g]}function xp(i,s,c){var g=ie,b=_n(),S=Se;if(S){if(c===void 0)throw Error(a(407));c=c()}else c=s();var M=!m((Xe||b).memoizedState,c);if(M&&(b.memoizedState=c,Vn=!0),b=b.queue,nd(bp.bind(null,g,b,i),[i]),b.getSnapshot!==s||M||zn!==null&&zn.memoizedState.tag&1){if(g.flags|=2048,Al(9,{destroy:void 0},wp.bind(null,g,b,c,s),null),$e===null)throw Error(a(349));S||(Ss&127)!==0||Ap(g,s,c)}return c}function Ap(i,s,c){i.flags|=16384,i={getSnapshot:s,value:c},s=ie.updateQueue,s===null?(s=Cf(),ie.updateQueue=s,s.stores=[i]):(c=s.stores,c===null?s.stores=[i]:c.push(i))}function wp(i,s,c,g){s.value=c,s.getSnapshot=g,Ep(s)&&Cp(i)}function bp(i,s,c){return c(function(){Ep(s)&&Cp(i)})}function Ep(i){var s=i.getSnapshot;i=i.value;try{var c=s();return!m(i,c)}catch{return!0}}function Cp(i){var s=uo(i,2);s!==null&&Gi(s,i,2)}function td(i){var s=vi();if(typeof i=="function"){var c=i;if(i=c(),wo){Ye(!0);try{c()}finally{Ye(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:i},s}function Sp(i,s,c,g){return i.baseState=c,J0(i,Xe,typeof g=="function"?g:Ts)}function JC(i,s,c,g,b){if(If(i))throw Error(a(485));if(i=s.action,i!==null){var S={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){S.listeners.push(M)}};Q.T!==null?c(!0):S.isTransition=!1,g(S),c=s.pending,c===null?(S.next=s.pending=S,Tp(s,S)):(S.next=c.next,s.pending=c.next=S)}}function Tp(i,s){var c=s.action,g=s.payload,b=i.state;if(s.isTransition){var S=Q.T,M={};Q.T=M;try{var _=c(b,g),V=Q.S;V!==null&&V(M,_),vp(i,s,_)}catch(st){ed(i,s,st)}finally{S!==null&&M.types!==null&&(S.types=M.types),Q.T=S}}else try{S=c(b,g),vp(i,s,S)}catch(st){ed(i,s,st)}}function vp(i,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(g){Np(i,s,g)},function(g){return ed(i,s,g)}):Np(i,s,c)}function Np(i,s,c){s.status="fulfilled",s.value=c,Ip(s),i.state=c,s=i.pending,s!==null&&(c=s.next,c===s?i.pending=null:(c=c.next,s.next=c,Tp(i,c)))}function ed(i,s,c){var g=i.pending;if(i.pending=null,g!==null){g=g.next;do s.status="rejected",s.reason=c,Ip(s),s=s.next;while(s!==g)}i.action=null}function Ip(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Mp(i,s){return s}function Op(i,s){if(Se){var c=$e.formState;if(c!==null){t:{var g=ie;if(Se){if(an){e:{for(var b=an,S=Er;b.nodeType!==8;){if(!S){b=null;break e}if(b=Sr(b.nextSibling),b===null){b=null;break e}}S=b.data,b=S==="F!"||S==="F"?b:null}if(b){an=Sr(b.nextSibling),g=b.data==="F!";break t}}ma(g)}g=!1}g&&(s=c[0])}}return c=vi(),c.memoizedState=c.baseState=s,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mp,lastRenderedState:s},c.queue=g,c=Kp.bind(null,ie,g),g.dispatch=c,g=td(!1),S=od.bind(null,ie,!1,g.queue),g=vi(),b={state:s,dispatch:null,action:i,pending:null},g.queue=b,c=JC.bind(null,ie,b,S,c),b.dispatch=c,g.memoizedState=i,[s,c,!1]}function Rp(i){var s=_n();return Dp(s,Xe,i)}function Dp(i,s,c){if(s=J0(i,s,Mp)[0],i=Tf(Ts)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var g=Bc(s)}catch(M){throw M===gl?mf:M}else g=s;s=_n();var b=s.queue,S=b.dispatch;return c!==s.memoizedState&&(ie.flags|=2048,Al(9,{destroy:void 0},$C.bind(null,b,c),null)),[g,S,i]}function $C(i,s){i.action=s}function Bp(i){var s=_n(),c=Xe;if(c!==null)return Dp(s,c,i);_n(),s=s.memoizedState,c=_n();var g=c.queue.dispatch;return c.memoizedState=i,[s,g,!1]}function Al(i,s,c,g){return i={tag:i,create:c,deps:g,inst:s,next:null},s=ie.updateQueue,s===null&&(s=Cf(),ie.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=i.next=i:(g=c.next,c.next=i,i.next=g,s.lastEffect=i),i}function _p(){return _n().memoizedState}function vf(i,s,c,g){var b=vi();ie.flags|=i,b.memoizedState=Al(1|s,{destroy:void 0},c,g===void 0?null:g)}function Nf(i,s,c,g){var b=_n();g=g===void 0?null:g;var S=b.memoizedState.inst;Xe!==null&&g!==null&&X0(g,Xe.memoizedState.deps)?b.memoizedState=Al(s,S,c,g):(ie.flags|=i,b.memoizedState=Al(1|s,S,c,g))}function Lp(i,s){vf(8390656,8,i,s)}function nd(i,s){Nf(2048,8,i,s)}function tS(i){ie.flags|=4;var s=ie.updateQueue;if(s===null)s=Cf(),ie.updateQueue=s,s.events=[i];else{var c=s.events;c===null?s.events=[i]:c.push(i)}}function Pp(i){var s=_n().memoizedState;return tS({ref:s,nextImpl:i}),function(){if((Le&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}function Up(i,s){return Nf(4,2,i,s)}function kp(i,s){return Nf(4,4,i,s)}function Fp(i,s){if(typeof s=="function"){i=i();var c=s(i);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function zp(i,s,c){c=c!=null?c.concat([i]):null,Nf(4,4,Fp.bind(null,s,i),c)}function id(){}function Vp(i,s){var c=_n();s=s===void 0?null:s;var g=c.memoizedState;return s!==null&&X0(s,g[1])?g[0]:(c.memoizedState=[i,s],i)}function Hp(i,s){var c=_n();s=s===void 0?null:s;var g=c.memoizedState;if(s!==null&&X0(s,g[1]))return g[0];if(g=i(),wo){Ye(!0);try{i()}finally{Ye(!1)}}return c.memoizedState=[g,s],g}function rd(i,s,c){return c===void 0||(Ss&1073741824)!==0&&(be&261930)===0?i.memoizedState=s:(i.memoizedState=c,i=G2(),ie.lanes|=i,Sa|=i,c)}function Gp(i,s,c,g){return m(c,s)?c:pl.current!==null?(i=rd(i,c,g),m(i,s)||(Vn=!0),i):(Ss&42)===0||(Ss&1073741824)!==0&&(be&261930)===0?(Vn=!0,i.memoizedState=c):(i=G2(),ie.lanes|=i,Sa|=i,s)}function jp(i,s,c,g,b){var S=tt.p;tt.p=S!==0&&8>S?S:8;var M=Q.T,_={};Q.T=_,od(i,!1,s,c);try{var V=b(),st=Q.S;if(st!==null&&st(_,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var mt=KC(V,g);_c(i,s,mt,sr(i))}else _c(i,s,g,sr(i))}catch(yt){_c(i,s,{then:function(){},status:"rejected",reason:yt},sr())}finally{tt.p=S,M!==null&&_.types!==null&&(M.types=_.types),Q.T=M}}function eS(){}function sd(i,s,c,g){if(i.tag!==5)throw Error(a(476));var b=Yp(i).queue;jp(i,b,s,Et,c===null?eS:function(){return Xp(i),c(g)})}function Yp(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Et,baseState:Et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:Et},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:c},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Xp(i){var s=Yp(i);s.next===null&&(s=i.alternate.memoizedState),_c(i,s.next.queue,{},sr())}function ad(){return hi(qc)}function Qp(){return _n().memoizedState}function Zp(){return _n().memoizedState}function nS(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var c=sr();i=xa(c);var g=Aa(s,i,c);g!==null&&(Gi(g,s,c),Mc(g,s,c)),s={cache:L0()},i.payload=s;return}s=s.return}}function iS(i,s,c){var g=sr();c={lane:g,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},If(i)?Wp(s,c):(c=S0(i,s,c,g),c!==null&&(Gi(c,i,g),qp(c,s,g)))}function Kp(i,s,c){var g=sr();_c(i,s,c,g)}function _c(i,s,c,g){var b={lane:g,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(If(i))Wp(s,b);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var M=s.lastRenderedState,_=S(M,c);if(b.hasEagerState=!0,b.eagerState=_,m(_,M))return lf(i,s,b,0),$e===null&&of(),!1}catch{}if(c=S0(i,s,b,g),c!==null)return Gi(c,i,g),qp(c,s,g),!0}return!1}function od(i,s,c,g){if(g={lane:2,revertLane:Fd(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},If(i)){if(s)throw Error(a(479))}else s=S0(i,c,g,2),s!==null&&Gi(s,i,2)}function If(i){var s=i.alternate;return i===ie||s!==null&&s===ie}function Wp(i,s){yl=bf=!0;var c=i.pending;c===null?s.next=s:(s.next=c.next,c.next=s),i.pending=s}function qp(i,s,c){if((c&4194048)!==0){var g=s.lanes;g&=i.pendingLanes,c|=g,s.lanes=c,Jr(i,c)}}var Lc={readContext:hi,use:Sf,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useLayoutEffect:Cn,useInsertionEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useSyncExternalStore:Cn,useId:Cn,useHostTransitionStatus:Cn,useFormState:Cn,useActionState:Cn,useOptimistic:Cn,useMemoCache:Cn,useCacheRefresh:Cn};Lc.useEffectEvent=Cn;var Jp={readContext:hi,use:Sf,useCallback:function(i,s){return vi().memoizedState=[i,s===void 0?null:s],i},useContext:hi,useEffect:Lp,useImperativeHandle:function(i,s,c){c=c!=null?c.concat([i]):null,vf(4194308,4,Fp.bind(null,s,i),c)},useLayoutEffect:function(i,s){return vf(4194308,4,i,s)},useInsertionEffect:function(i,s){vf(4,2,i,s)},useMemo:function(i,s){var c=vi();s=s===void 0?null:s;var g=i();if(wo){Ye(!0);try{i()}finally{Ye(!1)}}return c.memoizedState=[g,s],g},useReducer:function(i,s,c){var g=vi();if(c!==void 0){var b=c(s);if(wo){Ye(!0);try{c(s)}finally{Ye(!1)}}}else b=s;return g.memoizedState=g.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},g.queue=i,i=i.dispatch=iS.bind(null,ie,i),[g.memoizedState,i]},useRef:function(i){var s=vi();return i={current:i},s.memoizedState=i},useState:function(i){i=td(i);var s=i.queue,c=Kp.bind(null,ie,s);return s.dispatch=c,[i.memoizedState,c]},useDebugValue:id,useDeferredValue:function(i,s){var c=vi();return rd(c,i,s)},useTransition:function(){var i=td(!1);return i=jp.bind(null,ie,i.queue,!0,!1),vi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,c){var g=ie,b=vi();if(Se){if(c===void 0)throw Error(a(407));c=c()}else{if(c=s(),$e===null)throw Error(a(349));(be&127)!==0||Ap(g,s,c)}b.memoizedState=c;var S={value:c,getSnapshot:s};return b.queue=S,Lp(bp.bind(null,g,S,i),[i]),g.flags|=2048,Al(9,{destroy:void 0},wp.bind(null,g,S,c,s),null),c},useId:function(){var i=vi(),s=$e.identifierPrefix;if(Se){var c=rs,g=is;c=(g&~(1<<32-se(g)-1)).toString(32)+c,s="_"+s+"R_"+c,c=Ef++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=WC++,s="_"+s+"r_"+c.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:ad,useFormState:Op,useActionState:Op,useOptimistic:function(i){var s=vi();s.memoizedState=s.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=od.bind(null,ie,!0,c),c.dispatch=s,[i,s]},useMemoCache:q0,useCacheRefresh:function(){return vi().memoizedState=nS.bind(null,ie)},useEffectEvent:function(i){var s=vi(),c={impl:i};return s.memoizedState=c,function(){if((Le&2)!==0)throw Error(a(440));return c.impl.apply(void 0,arguments)}}},ld={readContext:hi,use:Sf,useCallback:Vp,useContext:hi,useEffect:nd,useImperativeHandle:zp,useInsertionEffect:Up,useLayoutEffect:kp,useMemo:Hp,useReducer:Tf,useRef:_p,useState:function(){return Tf(Ts)},useDebugValue:id,useDeferredValue:function(i,s){var c=_n();return Gp(c,Xe.memoizedState,i,s)},useTransition:function(){var i=Tf(Ts)[0],s=_n().memoizedState;return[typeof i=="boolean"?i:Bc(i),s]},useSyncExternalStore:xp,useId:Qp,useHostTransitionStatus:ad,useFormState:Rp,useActionState:Rp,useOptimistic:function(i,s){var c=_n();return Sp(c,Xe,i,s)},useMemoCache:q0,useCacheRefresh:Zp};ld.useEffectEvent=Pp;var $p={readContext:hi,use:Sf,useCallback:Vp,useContext:hi,useEffect:nd,useImperativeHandle:zp,useInsertionEffect:Up,useLayoutEffect:kp,useMemo:Hp,useReducer:$0,useRef:_p,useState:function(){return $0(Ts)},useDebugValue:id,useDeferredValue:function(i,s){var c=_n();return Xe===null?rd(c,i,s):Gp(c,Xe.memoizedState,i,s)},useTransition:function(){var i=$0(Ts)[0],s=_n().memoizedState;return[typeof i=="boolean"?i:Bc(i),s]},useSyncExternalStore:xp,useId:Qp,useHostTransitionStatus:ad,useFormState:Bp,useActionState:Bp,useOptimistic:function(i,s){var c=_n();return Xe!==null?Sp(c,Xe,i,s):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:q0,useCacheRefresh:Zp};$p.useEffectEvent=Pp;function cd(i,s,c,g){s=i.memoizedState,c=c(g,s),c=c==null?s:T({},s,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var ud={enqueueSetState:function(i,s,c){i=i._reactInternals;var g=sr(),b=xa(g);b.payload=s,c!=null&&(b.callback=c),s=Aa(i,b,g),s!==null&&(Gi(s,i,g),Mc(s,i,g))},enqueueReplaceState:function(i,s,c){i=i._reactInternals;var g=sr(),b=xa(g);b.tag=1,b.payload=s,c!=null&&(b.callback=c),s=Aa(i,b,g),s!==null&&(Gi(s,i,g),Mc(s,i,g))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var c=sr(),g=xa(c);g.tag=2,s!=null&&(g.callback=s),s=Aa(i,g,c),s!==null&&(Gi(s,i,c),Mc(s,i,c))}};function t2(i,s,c,g,b,S,M){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,S,M):s.prototype&&s.prototype.isPureReactComponent?!x(c,g)||!x(b,S):!0}function e2(i,s,c,g){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,g),s.state!==i&&ud.enqueueReplaceState(s,s.state,null)}function bo(i,s){var c=s;if("ref"in s){c={};for(var g in s)g!=="ref"&&(c[g]=s[g])}if(i=i.defaultProps){c===s&&(c=T({},c));for(var b in i)c[b]===void 0&&(c[b]=i[b])}return c}function n2(i){af(i)}function i2(i){console.error(i)}function r2(i){af(i)}function Mf(i,s){try{var c=i.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(g){setTimeout(function(){throw g})}}function s2(i,s,c){try{var g=i.onCaughtError;g(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function fd(i,s,c){return c=xa(c),c.tag=3,c.payload={element:null},c.callback=function(){Mf(i,s)},c}function a2(i){return i=xa(i),i.tag=3,i}function o2(i,s,c,g){var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var S=g.value;i.payload=function(){return b(S)},i.callback=function(){s2(s,c,g)}}var M=c.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(i.callback=function(){s2(s,c,g),typeof b!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var _=g.stack;this.componentDidCatch(g.value,{componentStack:_!==null?_:""})})}function rS(i,s,c,g,b){if(c.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(s=c.alternate,s!==null&&fl(s,c,b,!0),c=er.current,c!==null){switch(c.tag){case 31:case 13:return Cr===null?Vf():c.alternate===null&&Sn===0&&(Sn=3),c.flags&=-257,c.flags|=65536,c.lanes=b,g===pf?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([g]):s.add(g),Pd(i,g,b)),!1;case 22:return c.flags|=65536,g===pf?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([g])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([g]):c.add(g)),Pd(i,g,b)),!1}throw Error(a(435,c.tag))}return Pd(i,g,b),Vf(),!1}if(Se)return s=er.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=b,g!==O0&&(i=Error(a(422),{cause:g}),Sc(Ar(i,c)))):(g!==O0&&(s=Error(a(423),{cause:g}),Sc(Ar(s,c))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,g=Ar(g,c),b=fd(i.stateNode,g,b),V0(i,b),Sn!==4&&(Sn=2)),!1;var S=Error(a(520),{cause:g});if(S=Ar(S,c),Gc===null?Gc=[S]:Gc.push(S),Sn!==4&&(Sn=2),s===null)return!0;g=Ar(g,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,i=b&-b,c.lanes|=i,i=fd(c.stateNode,g,i),V0(c,i),!1;case 1:if(s=c.type,S=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ta===null||!Ta.has(S))))return c.flags|=65536,b&=-b,c.lanes|=b,b=a2(b),o2(b,i,c,g),V0(c,b),!1}c=c.return}while(c!==null);return!1}var hd=Error(a(461)),Vn=!1;function di(i,s,c,g){s.child=i===null?fp(s,null,c,g):Ao(s,i.child,c,g)}function l2(i,s,c,g,b){c=c.render;var S=s.ref;if("ref"in g){var M={};for(var _ in g)_!=="ref"&&(M[_]=g[_])}else M=g;return mo(s),g=Q0(i,s,c,M,S,b),_=Z0(),i!==null&&!Vn?(K0(i,s,b),vs(i,s,b)):(Se&&_&&I0(s),s.flags|=1,di(i,s,g,b),s.child)}function c2(i,s,c,g,b){if(i===null){var S=c.type;return typeof S=="function"&&!T0(S)&&S.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=S,u2(i,s,S,g,b)):(i=uf(c.type,null,g,s,s.mode,b),i.ref=s.ref,i.return=s,s.child=i)}if(S=i.child,!wd(i,b)){var M=S.memoizedProps;if(c=c.compare,c=c!==null?c:x,c(M,g)&&i.ref===s.ref)return vs(i,s,b)}return s.flags|=1,i=ws(S,g),i.ref=s.ref,i.return=s,s.child=i}function u2(i,s,c,g,b){if(i!==null){var S=i.memoizedProps;if(x(S,g)&&i.ref===s.ref)if(Vn=!1,s.pendingProps=g=S,wd(i,b))(i.flags&131072)!==0&&(Vn=!0);else return s.lanes=i.lanes,vs(i,s,b)}return dd(i,s,c,g,b)}function f2(i,s,c,g){var b=g.children,S=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((s.flags&128)!==0){if(S=S!==null?S.baseLanes|c:c,i!==null){for(g=s.child=i.child,b=0;g!==null;)b=b|g.lanes|g.childLanes,g=g.sibling;g=b&~S}else g=0,s.child=null;return h2(i,s,S,c,g)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&gf(s,S!==null?S.cachePool:null),S!==null?gp(s,S):G0(),mp(s);else return g=s.lanes=536870912,h2(i,s,S!==null?S.baseLanes|c:c,c,g)}else S!==null?(gf(s,S.cachePool),gp(s,S),ba(),s.memoizedState=null):(i!==null&&gf(s,null),G0(),ba());return di(i,s,b,c),s.child}function Pc(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function h2(i,s,c,g,b){var S=U0();return S=S===null?null:{parent:Fn._currentValue,pool:S},s.memoizedState={baseLanes:c,cachePool:S},i!==null&&gf(s,null),G0(),mp(s),i!==null&&fl(i,s,g,!0),s.childLanes=b,null}function Of(i,s){return s=Df({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function d2(i,s,c){return Ao(s,i.child,null,c),i=Of(s,s.pendingProps),i.flags|=2,nr(s),s.memoizedState=null,i}function sS(i,s,c){var g=s.pendingProps,b=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Se){if(g.mode==="hidden")return i=Of(s,g),s.lanes=536870912,Pc(null,i);if(Y0(s),(i=an)?(i=Ty(i,Er),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:da!==null?{id:is,overflow:rs}:null,retryLane:536870912,hydrationErrors:null},c=Wm(i),c.return=s,s.child=c,fi=s,an=null)):i=null,i===null)throw ma(s);return s.lanes=536870912,null}return Of(s,g)}var S=i.memoizedState;if(S!==null){var M=S.dehydrated;if(Y0(s),b)if(s.flags&256)s.flags&=-257,s=d2(i,s,c);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(a(558));else if(Vn||fl(i,s,c,!1),b=(c&i.childLanes)!==0,Vn||b){if(g=$e,g!==null&&(M=Ko(g,c),M!==0&&M!==S.retryLane))throw S.retryLane=M,uo(i,M),Gi(g,i,M),hd;Vf(),s=d2(i,s,c)}else i=S.treeContext,an=Sr(M.nextSibling),fi=s,Se=!0,ga=null,Er=!1,i!==null&&$m(s,i),s=Of(s,g),s.flags|=4096;return s}return i=ws(i.child,{mode:g.mode,children:g.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Rf(i,s){var c=s.ref;if(c===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(a(284));(i===null||i.ref!==c)&&(s.flags|=4194816)}}function dd(i,s,c,g,b){return mo(s),c=Q0(i,s,c,g,void 0,b),g=Z0(),i!==null&&!Vn?(K0(i,s,b),vs(i,s,b)):(Se&&g&&I0(s),s.flags|=1,di(i,s,c,b),s.child)}function g2(i,s,c,g,b,S){return mo(s),s.updateQueue=null,c=yp(s,g,c,b),pp(i),g=Z0(),i!==null&&!Vn?(K0(i,s,S),vs(i,s,S)):(Se&&g&&I0(s),s.flags|=1,di(i,s,c,S),s.child)}function m2(i,s,c,g,b){if(mo(s),s.stateNode===null){var S=ol,M=c.contextType;typeof M=="object"&&M!==null&&(S=hi(M)),S=new c(g,S),s.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=ud,s.stateNode=S,S._reactInternals=s,S=s.stateNode,S.props=g,S.state=s.memoizedState,S.refs={},F0(s),M=c.contextType,S.context=typeof M=="object"&&M!==null?hi(M):ol,S.state=s.memoizedState,M=c.getDerivedStateFromProps,typeof M=="function"&&(cd(s,c,M,g),S.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(M=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),M!==S.state&&ud.enqueueReplaceState(S,S.state,null),Rc(s,g,S,b),Oc(),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308),g=!0}else if(i===null){S=s.stateNode;var _=s.memoizedProps,V=bo(c,_);S.props=V;var st=S.context,mt=c.contextType;M=ol,typeof mt=="object"&&mt!==null&&(M=hi(mt));var yt=c.getDerivedStateFromProps;mt=typeof yt=="function"||typeof S.getSnapshotBeforeUpdate=="function",_=s.pendingProps!==_,mt||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(_||st!==M)&&e2(s,S,g,M),ya=!1;var ot=s.memoizedState;S.state=ot,Rc(s,g,S,b),Oc(),st=s.memoizedState,_||ot!==st||ya?(typeof yt=="function"&&(cd(s,c,yt,g),st=s.memoizedState),(V=ya||t2(s,c,V,g,ot,st,M))?(mt||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=st),S.props=g,S.state=st,S.context=M,g=V):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{S=s.stateNode,z0(i,s),M=s.memoizedProps,mt=bo(c,M),S.props=mt,yt=s.pendingProps,ot=S.context,st=c.contextType,V=ol,typeof st=="object"&&st!==null&&(V=hi(st)),_=c.getDerivedStateFromProps,(st=typeof _=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==yt||ot!==V)&&e2(s,S,g,V),ya=!1,ot=s.memoizedState,S.state=ot,Rc(s,g,S,b),Oc();var ht=s.memoizedState;M!==yt||ot!==ht||ya||i!==null&&i.dependencies!==null&&hf(i.dependencies)?(typeof _=="function"&&(cd(s,c,_,g),ht=s.memoizedState),(mt=ya||t2(s,c,mt,g,ot,ht,V)||i!==null&&i.dependencies!==null&&hf(i.dependencies))?(st||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(g,ht,V),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(g,ht,V)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||M===i.memoizedProps&&ot===i.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&ot===i.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=ht),S.props=g,S.state=ht,S.context=V,g=mt):(typeof S.componentDidUpdate!="function"||M===i.memoizedProps&&ot===i.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&ot===i.memoizedState||(s.flags|=1024),g=!1)}return S=g,Rf(i,s),g=(s.flags&128)!==0,S||g?(S=s.stateNode,c=g&&typeof c.getDerivedStateFromError!="function"?null:S.render(),s.flags|=1,i!==null&&g?(s.child=Ao(s,i.child,null,b),s.child=Ao(s,null,c,b)):di(i,s,c,b),s.memoizedState=S.state,i=s.child):i=vs(i,s,b),i}function p2(i,s,c,g){return ho(),s.flags|=256,di(i,s,c,g),s.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function md(i){return{baseLanes:i,cachePool:sp()}}function pd(i,s,c){return i=i!==null?i.childLanes&~c:0,s&&(i|=rr),i}function y2(i,s,c){var g=s.pendingProps,b=!1,S=(s.flags&128)!==0,M;if((M=S)||(M=i!==null&&i.memoizedState===null?!1:(Bn.current&2)!==0),M&&(b=!0,s.flags&=-129),M=(s.flags&32)!==0,s.flags&=-33,i===null){if(Se){if(b?wa(s):ba(),(i=an)?(i=Ty(i,Er),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:da!==null?{id:is,overflow:rs}:null,retryLane:536870912,hydrationErrors:null},c=Wm(i),c.return=s,s.child=c,fi=s,an=null)):i=null,i===null)throw ma(s);return Jd(i)?s.lanes=32:s.lanes=536870912,null}var _=g.children;return g=g.fallback,b?(ba(),b=s.mode,_=Df({mode:"hidden",children:_},b),g=fo(g,b,c,null),_.return=s,g.return=s,_.sibling=g,s.child=_,g=s.child,g.memoizedState=md(c),g.childLanes=pd(i,M,c),s.memoizedState=gd,Pc(null,g)):(wa(s),yd(s,_))}var V=i.memoizedState;if(V!==null&&(_=V.dehydrated,_!==null)){if(S)s.flags&256?(wa(s),s.flags&=-257,s=xd(i,s,c)):s.memoizedState!==null?(ba(),s.child=i.child,s.flags|=128,s=null):(ba(),_=g.fallback,b=s.mode,g=Df({mode:"visible",children:g.children},b),_=fo(_,b,c,null),_.flags|=2,g.return=s,_.return=s,g.sibling=_,s.child=g,Ao(s,i.child,null,c),g=s.child,g.memoizedState=md(c),g.childLanes=pd(i,M,c),s.memoizedState=gd,s=Pc(null,g));else if(wa(s),Jd(_)){if(M=_.nextSibling&&_.nextSibling.dataset,M)var st=M.dgst;M=st,g=Error(a(419)),g.stack="",g.digest=M,Sc({value:g,source:null,stack:null}),s=xd(i,s,c)}else if(Vn||fl(i,s,c,!1),M=(c&i.childLanes)!==0,Vn||M){if(M=$e,M!==null&&(g=Ko(M,c),g!==0&&g!==V.retryLane))throw V.retryLane=g,uo(i,g),Gi(M,i,g),hd;qd(_)||Vf(),s=xd(i,s,c)}else qd(_)?(s.flags|=192,s.child=i.child,s=null):(i=V.treeContext,an=Sr(_.nextSibling),fi=s,Se=!0,ga=null,Er=!1,i!==null&&$m(s,i),s=yd(s,g.children),s.flags|=4096);return s}return b?(ba(),_=g.fallback,b=s.mode,V=i.child,st=V.sibling,g=ws(V,{mode:"hidden",children:g.children}),g.subtreeFlags=V.subtreeFlags&65011712,st!==null?_=ws(st,_):(_=fo(_,b,c,null),_.flags|=2),_.return=s,g.return=s,g.sibling=_,s.child=g,Pc(null,g),g=s.child,_=i.child.memoizedState,_===null?_=md(c):(b=_.cachePool,b!==null?(V=Fn._currentValue,b=b.parent!==V?{parent:V,pool:V}:b):b=sp(),_={baseLanes:_.baseLanes|c,cachePool:b}),g.memoizedState=_,g.childLanes=pd(i,M,c),s.memoizedState=gd,Pc(i.child,g)):(wa(s),c=i.child,i=c.sibling,c=ws(c,{mode:"visible",children:g.children}),c.return=s,c.sibling=null,i!==null&&(M=s.deletions,M===null?(s.deletions=[i],s.flags|=16):M.push(i)),s.child=c,s.memoizedState=null,c)}function yd(i,s){return s=Df({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Df(i,s){return i=tr(22,i,null,s),i.lanes=0,i}function xd(i,s,c){return Ao(s,i.child,null,c),i=yd(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function x2(i,s,c){i.lanes|=s;var g=i.alternate;g!==null&&(g.lanes|=s),B0(i.return,s,c)}function Ad(i,s,c,g,b,S){var M=i.memoizedState;M===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:c,tailMode:b,treeForkCount:S}:(M.isBackwards=s,M.rendering=null,M.renderingStartTime=0,M.last=g,M.tail=c,M.tailMode=b,M.treeForkCount=S)}function A2(i,s,c){var g=s.pendingProps,b=g.revealOrder,S=g.tail;g=g.children;var M=Bn.current,_=(M&2)!==0;if(_?(M=M&1|2,s.flags|=128):M&=1,vt(Bn,M),di(i,s,g,c),g=Se?Cc:0,!_&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&x2(i,c,s);else if(i.tag===19)x2(i,c,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(b){case"forwards":for(c=s.child,b=null;c!==null;)i=c.alternate,i!==null&&wf(i)===null&&(b=c),c=c.sibling;c=b,c===null?(b=s.child,s.child=null):(b=c.sibling,c.sibling=null),Ad(s,!1,b,c,S,g);break;case"backwards":case"unstable_legacy-backwards":for(c=null,b=s.child,s.child=null;b!==null;){if(i=b.alternate,i!==null&&wf(i)===null){s.child=b;break}i=b.sibling,b.sibling=c,c=b,b=i}Ad(s,!0,c,null,S,g);break;case"together":Ad(s,!1,null,null,void 0,g);break;default:s.memoizedState=null}return s.child}function vs(i,s,c){if(i!==null&&(s.dependencies=i.dependencies),Sa|=s.lanes,(c&s.childLanes)===0)if(i!==null){if(fl(i,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(a(153));if(s.child!==null){for(i=s.child,c=ws(i,i.pendingProps),s.child=c,c.return=s;i.sibling!==null;)i=i.sibling,c=c.sibling=ws(i,i.pendingProps),c.return=s;c.sibling=null}return s.child}function wd(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&hf(i)))}function aS(i,s,c){switch(s.tag){case 3:de(s,s.stateNode.containerInfo),pa(s,Fn,i.memoizedState.cache),ho();break;case 27:case 5:ni(s);break;case 4:de(s,s.stateNode.containerInfo);break;case 10:pa(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Y0(s),null;break;case 13:var g=s.memoizedState;if(g!==null)return g.dehydrated!==null?(wa(s),s.flags|=128,null):(c&s.child.childLanes)!==0?y2(i,s,c):(wa(s),i=vs(i,s,c),i!==null?i.sibling:null);wa(s);break;case 19:var b=(i.flags&128)!==0;if(g=(c&s.childLanes)!==0,g||(fl(i,s,c,!1),g=(c&s.childLanes)!==0),b){if(g)return A2(i,s,c);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),vt(Bn,Bn.current),g)break;return null;case 22:return s.lanes=0,f2(i,s,c,s.pendingProps);case 24:pa(s,Fn,i.memoizedState.cache)}return vs(i,s,c)}function w2(i,s,c){if(i!==null)if(i.memoizedProps!==s.pendingProps)Vn=!0;else{if(!wd(i,c)&&(s.flags&128)===0)return Vn=!1,aS(i,s,c);Vn=(i.flags&131072)!==0}else Vn=!1,Se&&(s.flags&1048576)!==0&&Jm(s,Cc,s.index);switch(s.lanes=0,s.tag){case 16:t:{var g=s.pendingProps;if(i=yo(s.elementType),s.type=i,typeof i=="function")T0(i)?(g=bo(i,g),s.tag=1,s=m2(null,s,i,g,c)):(s.tag=0,s=dd(null,s,i,g,c));else{if(i!=null){var b=i.$$typeof;if(b===lt){s.tag=11,s=l2(null,s,i,g,c);break t}else if(b===K){s.tag=14,s=c2(null,s,i,g,c);break t}}throw s=qt(i)||i,Error(a(306,s,""))}}return s;case 0:return dd(i,s,s.type,s.pendingProps,c);case 1:return g=s.type,b=bo(g,s.pendingProps),m2(i,s,g,b,c);case 3:t:{if(de(s,s.stateNode.containerInfo),i===null)throw Error(a(387));g=s.pendingProps;var S=s.memoizedState;b=S.element,z0(i,s),Rc(s,g,null,c);var M=s.memoizedState;if(g=M.cache,pa(s,Fn,g),g!==S.cache&&_0(s,[Fn],c,!0),Oc(),g=M.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:M.cache},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){s=p2(i,s,g,c);break t}else if(g!==b){b=Ar(Error(a(424)),s),Sc(b),s=p2(i,s,g,c);break t}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,an=Sr(i.firstChild),fi=s,Se=!0,ga=null,Er=!0,c=fp(s,null,g,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ho(),g===b){s=vs(i,s,c);break t}di(i,s,g,c)}s=s.child}return s;case 26:return Rf(i,s),i===null?(c=Ry(s.type,null,s.pendingProps,null))?s.memoizedState=c:Se||(c=s.type,i=s.pendingProps,g=Zf(Ct.current).createElement(c),g[On]=s,g[Ve]=i,gi(g,c,i),bn(g),s.stateNode=g):s.memoizedState=Ry(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return ni(s),i===null&&Se&&(g=s.stateNode=Iy(s.type,s.pendingProps,Ct.current),fi=s,Er=!0,b=an,Ma(s.type)?($d=b,an=Sr(g.firstChild)):an=b),di(i,s,s.pendingProps.children,c),Rf(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Se&&((b=g=an)&&(g=PS(g,s.type,s.pendingProps,Er),g!==null?(s.stateNode=g,fi=s,an=Sr(g.firstChild),Er=!1,b=!0):b=!1),b||ma(s)),ni(s),b=s.type,S=s.pendingProps,M=i!==null?i.memoizedProps:null,g=S.children,Zd(b,S)?g=null:M!==null&&Zd(b,M)&&(s.flags|=32),s.memoizedState!==null&&(b=Q0(i,s,qC,null,null,c),qc._currentValue=b),Rf(i,s),di(i,s,g,c),s.child;case 6:return i===null&&Se&&((i=c=an)&&(c=US(c,s.pendingProps,Er),c!==null?(s.stateNode=c,fi=s,an=null,i=!0):i=!1),i||ma(s)),null;case 13:return y2(i,s,c);case 4:return de(s,s.stateNode.containerInfo),g=s.pendingProps,i===null?s.child=Ao(s,null,g,c):di(i,s,g,c),s.child;case 11:return l2(i,s,s.type,s.pendingProps,c);case 7:return di(i,s,s.pendingProps,c),s.child;case 8:return di(i,s,s.pendingProps.children,c),s.child;case 12:return di(i,s,s.pendingProps.children,c),s.child;case 10:return g=s.pendingProps,pa(s,s.type,g.value),di(i,s,g.children,c),s.child;case 9:return b=s.type._context,g=s.pendingProps.children,mo(s),b=hi(b),g=g(b),s.flags|=1,di(i,s,g,c),s.child;case 14:return c2(i,s,s.type,s.pendingProps,c);case 15:return u2(i,s,s.type,s.pendingProps,c);case 19:return A2(i,s,c);case 31:return sS(i,s,c);case 22:return f2(i,s,c,s.pendingProps);case 24:return mo(s),g=hi(Fn),i===null?(b=U0(),b===null&&(b=$e,S=L0(),b.pooledCache=S,S.refCount++,S!==null&&(b.pooledCacheLanes|=c),b=S),s.memoizedState={parent:g,cache:b},F0(s),pa(s,Fn,b)):((i.lanes&c)!==0&&(z0(i,s),Rc(s,null,null,c),Oc()),b=i.memoizedState,S=s.memoizedState,b.parent!==g?(b={parent:g,cache:g},s.memoizedState=b,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=b),pa(s,Fn,g)):(g=S.cache,pa(s,Fn,g),g!==b.cache&&_0(s,[Fn],c,!0))),di(i,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Ns(i){i.flags|=4}function bd(i,s,c,g,b){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(b&335544128)===b)if(i.stateNode.complete)i.flags|=8192;else if(Q2())i.flags|=8192;else throw xo=pf,k0}else i.flags&=-16777217}function b2(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Py(s))if(Q2())i.flags|=8192;else throw xo=pf,k0}function Bf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Kn():536870912,i.lanes|=s,Cl|=s)}function Uc(i,s){if(!Se)switch(i.tailMode){case"hidden":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function on(i){var s=i.alternate!==null&&i.alternate.child===i.child,c=0,g=0;if(s)for(var b=i.child;b!==null;)c|=b.lanes|b.childLanes,g|=b.subtreeFlags&65011712,g|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)c|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=g,i.childLanes=c,s}function oS(i,s,c){var g=s.pendingProps;switch(M0(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(s),null;case 1:return on(s),null;case 3:return c=s.stateNode,g=null,i!==null&&(g=i.memoizedState.cache),s.memoizedState.cache!==g&&(s.flags|=2048),Cs(Fn),Ce(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(ul(s)?Ns(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,R0())),on(s),null;case 26:var b=s.type,S=s.memoizedState;return i===null?(Ns(s),S!==null?(on(s),b2(s,S)):(on(s),bd(s,b,null,g,c))):S?S!==i.memoizedState?(Ns(s),on(s),b2(s,S)):(on(s),s.flags&=-16777217):(i=i.memoizedProps,i!==g&&Ns(s),on(s),bd(s,b,i,g,c)),null;case 27:if(An(s),c=Ct.current,b=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==g&&Ns(s);else{if(!g){if(s.stateNode===null)throw Error(a(166));return on(s),null}i=It.current,ul(s)?tp(s):(i=Iy(b,g,c),s.stateNode=i,Ns(s))}return on(s),null;case 5:if(An(s),b=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==g&&Ns(s);else{if(!g){if(s.stateNode===null)throw Error(a(166));return on(s),null}if(S=It.current,ul(s))tp(s);else{var M=Zf(Ct.current);switch(S){case 1:S=M.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:S=M.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":S=M.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":S=M.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":S=M.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof g.is=="string"?M.createElement("select",{is:g.is}):M.createElement("select"),g.multiple?S.multiple=!0:g.size&&(S.size=g.size);break;default:S=typeof g.is=="string"?M.createElement(b,{is:g.is}):M.createElement(b)}}S[On]=s,S[Ve]=g;t:for(M=s.child;M!==null;){if(M.tag===5||M.tag===6)S.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===s)break t;for(;M.sibling===null;){if(M.return===null||M.return===s)break t;M=M.return}M.sibling.return=M.return,M=M.sibling}s.stateNode=S;t:switch(gi(S,b,g),b){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break t;case"img":g=!0;break t;default:g=!1}g&&Ns(s)}}return on(s),bd(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,c),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==g&&Ns(s);else{if(typeof g!="string"&&s.stateNode===null)throw Error(a(166));if(i=Ct.current,ul(s)){if(i=s.stateNode,c=s.memoizedProps,g=null,b=fi,b!==null)switch(b.tag){case 27:case 5:g=b.memoizedProps}i[On]=s,i=!!(i.nodeValue===c||g!==null&&g.suppressHydrationWarning===!0||yy(i.nodeValue,c)),i||ma(s,!0)}else i=Zf(i).createTextNode(g),i[On]=s,s.stateNode=i}return on(s),null;case 31:if(c=s.memoizedState,i===null||i.memoizedState!==null){if(g=ul(s),c!==null){if(i===null){if(!g)throw Error(a(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(557));i[On]=s}else ho(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;on(s),i=!1}else c=R0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return s.flags&256?(nr(s),s):(nr(s),null);if((s.flags&128)!==0)throw Error(a(558))}return on(s),null;case 13:if(g=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=ul(s),g!==null&&g.dehydrated!==null){if(i===null){if(!b)throw Error(a(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(a(317));b[On]=s}else ho(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;on(s),b=!1}else b=R0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return s.flags&256?(nr(s),s):(nr(s),null)}return nr(s),(s.flags&128)!==0?(s.lanes=c,s):(c=g!==null,i=i!==null&&i.memoizedState!==null,c&&(g=s.child,b=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(b=g.alternate.memoizedState.cachePool.pool),S=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(S=g.memoizedState.cachePool.pool),S!==b&&(g.flags|=2048)),c!==i&&c&&(s.child.flags|=8192),Bf(s,s.updateQueue),on(s),null);case 4:return Ce(),i===null&&Gd(s.stateNode.containerInfo),on(s),null;case 10:return Cs(s.type),on(s),null;case 19:if(ft(Bn),g=s.memoizedState,g===null)return on(s),null;if(b=(s.flags&128)!==0,S=g.rendering,S===null)if(b)Uc(g,!1);else{if(Sn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(S=wf(i),S!==null){for(s.flags|=128,Uc(g,!1),i=S.updateQueue,s.updateQueue=i,Bf(s,i),s.subtreeFlags=0,i=c,c=s.child;c!==null;)Km(c,i),c=c.sibling;return vt(Bn,Bn.current&1|2),Se&&bs(s,g.treeForkCount),s.child}i=i.sibling}g.tail!==null&&mn()>kf&&(s.flags|=128,b=!0,Uc(g,!1),s.lanes=4194304)}else{if(!b)if(i=wf(S),i!==null){if(s.flags|=128,b=!0,i=i.updateQueue,s.updateQueue=i,Bf(s,i),Uc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!S.alternate&&!Se)return on(s),null}else 2*mn()-g.renderingStartTime>kf&&c!==536870912&&(s.flags|=128,b=!0,Uc(g,!1),s.lanes=4194304);g.isBackwards?(S.sibling=s.child,s.child=S):(i=g.last,i!==null?i.sibling=S:s.child=S,g.last=S)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=mn(),i.sibling=null,c=Bn.current,vt(Bn,b?c&1|2:c&1),Se&&bs(s,g.treeForkCount),i):(on(s),null);case 22:case 23:return nr(s),j0(),g=s.memoizedState!==null,i!==null?i.memoizedState!==null!==g&&(s.flags|=8192):g&&(s.flags|=8192),g?(c&536870912)!==0&&(s.flags&128)===0&&(on(s),s.subtreeFlags&6&&(s.flags|=8192)):on(s),c=s.updateQueue,c!==null&&Bf(s,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),g=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),g!==c&&(s.flags|=2048),i!==null&&ft(po),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Cs(Fn),on(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function lS(i,s){switch(M0(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Cs(Fn),Ce(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return An(s),null;case 31:if(s.memoizedState!==null){if(nr(s),s.alternate===null)throw Error(a(340));ho()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(nr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(a(340));ho()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ft(Bn),null;case 4:return Ce(),null;case 10:return Cs(s.type),null;case 22:case 23:return nr(s),j0(),i!==null&&ft(po),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Cs(Fn),null;case 25:return null;default:return null}}function E2(i,s){switch(M0(s),s.tag){case 3:Cs(Fn),Ce();break;case 26:case 27:case 5:An(s);break;case 4:Ce();break;case 31:s.memoizedState!==null&&nr(s);break;case 13:nr(s);break;case 19:ft(Bn);break;case 10:Cs(s.type);break;case 22:case 23:nr(s),j0(),i!==null&&ft(po);break;case 24:Cs(Fn)}}function kc(i,s){try{var c=s.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var b=g.next;c=b;do{if((c.tag&i)===i){g=void 0;var S=c.create,M=c.inst;g=S(),M.destroy=g}c=c.next}while(c!==b)}}catch(_){Ge(s,s.return,_)}}function Ea(i,s,c){try{var g=s.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var S=b.next;g=S;do{if((g.tag&i)===i){var M=g.inst,_=M.destroy;if(_!==void 0){M.destroy=void 0,b=s;var V=c,st=_;try{st()}catch(mt){Ge(b,V,mt)}}}g=g.next}while(g!==S)}}catch(mt){Ge(s,s.return,mt)}}function C2(i){var s=i.updateQueue;if(s!==null){var c=i.stateNode;try{dp(s,c)}catch(g){Ge(i,i.return,g)}}}function S2(i,s,c){c.props=bo(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(g){Ge(i,s,g)}}function Fc(i,s){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var g=i.stateNode;break;case 30:g=i.stateNode;break;default:g=i.stateNode}typeof c=="function"?i.refCleanup=c(g):c.current=g}}catch(b){Ge(i,s,b)}}function ss(i,s){var c=i.ref,g=i.refCleanup;if(c!==null)if(typeof g=="function")try{g()}catch(b){Ge(i,s,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(b){Ge(i,s,b)}else c.current=null}function T2(i){var s=i.type,c=i.memoizedProps,g=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&g.focus();break t;case"img":c.src?g.src=c.src:c.srcSet&&(g.srcset=c.srcSet)}}catch(b){Ge(i,i.return,b)}}function Ed(i,s,c){try{var g=i.stateNode;OS(g,i.type,c,s),g[Ve]=s}catch(b){Ge(i,i.return,b)}}function v2(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ma(i.type)||i.tag===4}function Cd(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||v2(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ma(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Sd(i,s,c){var g=i.tag;if(g===5||g===6)i=i.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(i),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Pi));else if(g!==4&&(g===27&&Ma(i.type)&&(c=i.stateNode,s=null),i=i.child,i!==null))for(Sd(i,s,c),i=i.sibling;i!==null;)Sd(i,s,c),i=i.sibling}function _f(i,s,c){var g=i.tag;if(g===5||g===6)i=i.stateNode,s?c.insertBefore(i,s):c.appendChild(i);else if(g!==4&&(g===27&&Ma(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(_f(i,s,c),i=i.sibling;i!==null;)_f(i,s,c),i=i.sibling}function N2(i){var s=i.stateNode,c=i.memoizedProps;try{for(var g=i.type,b=s.attributes;b.length;)s.removeAttributeNode(b[0]);gi(s,g,c),s[On]=i,s[Ve]=c}catch(S){Ge(i,i.return,S)}}var Is=!1,Hn=!1,Td=!1,I2=typeof WeakSet=="function"?WeakSet:Set,ri=null;function cS(i,s){if(i=i.containerInfo,Xd=eh,i=R(i),B(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else t:{c=(c=i.ownerDocument)&&c.defaultView||window;var g=c.getSelection&&c.getSelection();if(g&&g.rangeCount!==0){c=g.anchorNode;var b=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{c.nodeType,S.nodeType}catch{c=null;break t}var M=0,_=-1,V=-1,st=0,mt=0,yt=i,ot=null;e:for(;;){for(var ht;yt!==c||b!==0&&yt.nodeType!==3||(_=M+b),yt!==S||g!==0&&yt.nodeType!==3||(V=M+g),yt.nodeType===3&&(M+=yt.nodeValue.length),(ht=yt.firstChild)!==null;)ot=yt,yt=ht;for(;;){if(yt===i)break e;if(ot===c&&++st===b&&(_=M),ot===S&&++mt===g&&(V=M),(ht=yt.nextSibling)!==null)break;yt=ot,ot=yt.parentNode}yt=ht}c=_===-1||V===-1?null:{start:_,end:V}}else c=null}c=c||{start:0,end:0}}else c=null;for(Qd={focusedElem:i,selectionRange:c},eh=!1,ri=s;ri!==null;)if(s=ri,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,ri=i;else for(;ri!==null;){switch(s=ri,S=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)b=i[c],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&S!==null){i=void 0,c=s,b=S.memoizedProps,S=S.memoizedState,g=c.stateNode;try{var zt=bo(c.type,b);i=g.getSnapshotBeforeUpdate(zt,S),g.__reactInternalSnapshotBeforeUpdate=i}catch(Wt){Ge(c,c.return,Wt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,c=i.nodeType,c===9)Wd(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Wd(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=s.sibling,i!==null){i.return=s.return,ri=i;break}ri=s.return}}function M2(i,s,c){var g=c.flags;switch(c.tag){case 0:case 11:case 15:Os(i,c),g&4&&kc(5,c);break;case 1:if(Os(i,c),g&4)if(i=c.stateNode,s===null)try{i.componentDidMount()}catch(M){Ge(c,c.return,M)}else{var b=bo(c.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(b,s,i.__reactInternalSnapshotBeforeUpdate)}catch(M){Ge(c,c.return,M)}}g&64&&C2(c),g&512&&Fc(c,c.return);break;case 3:if(Os(i,c),g&64&&(i=c.updateQueue,i!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{dp(i,s)}catch(M){Ge(c,c.return,M)}}break;case 27:s===null&&g&4&&N2(c);case 26:case 5:Os(i,c),s===null&&g&4&&T2(c),g&512&&Fc(c,c.return);break;case 12:Os(i,c);break;case 31:Os(i,c),g&4&&D2(i,c);break;case 13:Os(i,c),g&4&&B2(i,c),g&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=xS.bind(null,c),kS(i,c))));break;case 22:if(g=c.memoizedState!==null||Is,!g){s=s!==null&&s.memoizedState!==null||Hn,b=Is;var S=Hn;Is=g,(Hn=s)&&!S?Rs(i,c,(c.subtreeFlags&8772)!==0):Os(i,c),Is=b,Hn=S}break;case 30:break;default:Os(i,c)}}function O2(i){var s=i.alternate;s!==null&&(i.alternate=null,O2(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Li(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var hn=null,Fi=!1;function Ms(i,s,c){for(c=c.child;c!==null;)R2(i,s,c),c=c.sibling}function R2(i,s,c){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(tn,c)}catch{}switch(c.tag){case 26:Hn||ss(c,s),Ms(i,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Hn||ss(c,s);var g=hn,b=Fi;Ma(c.type)&&(hn=c.stateNode,Fi=!1),Ms(i,s,c),Zc(c.stateNode),hn=g,Fi=b;break;case 5:Hn||ss(c,s);case 6:if(g=hn,b=Fi,hn=null,Ms(i,s,c),hn=g,Fi=b,hn!==null)if(Fi)try{(hn.nodeType===9?hn.body:hn.nodeName==="HTML"?hn.ownerDocument.body:hn).removeChild(c.stateNode)}catch(S){Ge(c,s,S)}else try{hn.removeChild(c.stateNode)}catch(S){Ge(c,s,S)}break;case 18:hn!==null&&(Fi?(i=hn,Cy(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Rl(i)):Cy(hn,c.stateNode));break;case 4:g=hn,b=Fi,hn=c.stateNode.containerInfo,Fi=!0,Ms(i,s,c),hn=g,Fi=b;break;case 0:case 11:case 14:case 15:Ea(2,c,s),Hn||Ea(4,c,s),Ms(i,s,c);break;case 1:Hn||(ss(c,s),g=c.stateNode,typeof g.componentWillUnmount=="function"&&S2(c,s,g)),Ms(i,s,c);break;case 21:Ms(i,s,c);break;case 22:Hn=(g=Hn)||c.memoizedState!==null,Ms(i,s,c),Hn=g;break;default:Ms(i,s,c)}}function D2(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Rl(i)}catch(c){Ge(s,s.return,c)}}}function B2(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Rl(i)}catch(c){Ge(s,s.return,c)}}function uS(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new I2),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new I2),s;default:throw Error(a(435,i.tag))}}function Lf(i,s){var c=uS(i);s.forEach(function(g){if(!c.has(g)){c.add(g);var b=AS.bind(null,i,g);g.then(b,b)}})}function zi(i,s){var c=s.deletions;if(c!==null)for(var g=0;g<c.length;g++){var b=c[g],S=i,M=s,_=M;t:for(;_!==null;){switch(_.tag){case 27:if(Ma(_.type)){hn=_.stateNode,Fi=!1;break t}break;case 5:hn=_.stateNode,Fi=!1;break t;case 3:case 4:hn=_.stateNode.containerInfo,Fi=!0;break t}_=_.return}if(hn===null)throw Error(a(160));R2(S,M,b),hn=null,Fi=!1,S=b.alternate,S!==null&&(S.return=null),b.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)_2(s,i),s=s.sibling}var Fr=null;function _2(i,s){var c=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:zi(s,i),Vi(i),g&4&&(Ea(3,i,i.return),kc(3,i),Ea(5,i,i.return));break;case 1:zi(s,i),Vi(i),g&512&&(Hn||c===null||ss(c,c.return)),g&64&&Is&&(i=i.updateQueue,i!==null&&(g=i.callbacks,g!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?g:c.concat(g))));break;case 26:var b=Fr;if(zi(s,i),Vi(i),g&512&&(Hn||c===null||ss(c,c.return)),g&4){var S=c!==null?c.memoizedState:null;if(g=i.memoizedState,c===null)if(g===null)if(i.stateNode===null){t:{g=i.type,c=i.memoizedProps,b=b.ownerDocument||b;e:switch(g){case"title":S=b.getElementsByTagName("title")[0],(!S||S[eo]||S[On]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=b.createElement(g),b.head.insertBefore(S,b.querySelector("head > title"))),gi(S,g,c),S[On]=i,bn(S),g=S;break t;case"link":var M=_y("link","href",b).get(g+(c.href||""));if(M){for(var _=0;_<M.length;_++)if(S=M[_],S.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&S.getAttribute("rel")===(c.rel==null?null:c.rel)&&S.getAttribute("title")===(c.title==null?null:c.title)&&S.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){M.splice(_,1);break e}}S=b.createElement(g),gi(S,g,c),b.head.appendChild(S);break;case"meta":if(M=_y("meta","content",b).get(g+(c.content||""))){for(_=0;_<M.length;_++)if(S=M[_],S.getAttribute("content")===(c.content==null?null:""+c.content)&&S.getAttribute("name")===(c.name==null?null:c.name)&&S.getAttribute("property")===(c.property==null?null:c.property)&&S.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&S.getAttribute("charset")===(c.charSet==null?null:c.charSet)){M.splice(_,1);break e}}S=b.createElement(g),gi(S,g,c),b.head.appendChild(S);break;default:throw Error(a(468,g))}S[On]=i,bn(S),g=S}i.stateNode=g}else Ly(b,i.type,i.stateNode);else i.stateNode=By(b,g,i.memoizedProps);else S!==g?(S===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):S.count--,g===null?Ly(b,i.type,i.stateNode):By(b,g,i.memoizedProps)):g===null&&i.stateNode!==null&&Ed(i,i.memoizedProps,c.memoizedProps)}break;case 27:zi(s,i),Vi(i),g&512&&(Hn||c===null||ss(c,c.return)),c!==null&&g&4&&Ed(i,i.memoizedProps,c.memoizedProps);break;case 5:if(zi(s,i),Vi(i),g&512&&(Hn||c===null||ss(c,c.return)),i.flags&32){b=i.stateNode;try{ra(b,"")}catch(zt){Ge(i,i.return,zt)}}g&4&&i.stateNode!=null&&(b=i.memoizedProps,Ed(i,b,c!==null?c.memoizedProps:b)),g&1024&&(Td=!0);break;case 6:if(zi(s,i),Vi(i),g&4){if(i.stateNode===null)throw Error(a(162));g=i.memoizedProps,c=i.stateNode;try{c.nodeValue=g}catch(zt){Ge(i,i.return,zt)}}break;case 3:if(qf=null,b=Fr,Fr=Kf(s.containerInfo),zi(s,i),Fr=b,Vi(i),g&4&&c!==null&&c.memoizedState.isDehydrated)try{Rl(s.containerInfo)}catch(zt){Ge(i,i.return,zt)}Td&&(Td=!1,L2(i));break;case 4:g=Fr,Fr=Kf(i.stateNode.containerInfo),zi(s,i),Vi(i),Fr=g;break;case 12:zi(s,i),Vi(i);break;case 31:zi(s,i),Vi(i),g&4&&(g=i.updateQueue,g!==null&&(i.updateQueue=null,Lf(i,g)));break;case 13:zi(s,i),Vi(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Uf=mn()),g&4&&(g=i.updateQueue,g!==null&&(i.updateQueue=null,Lf(i,g)));break;case 22:b=i.memoizedState!==null;var V=c!==null&&c.memoizedState!==null,st=Is,mt=Hn;if(Is=st||b,Hn=mt||V,zi(s,i),Hn=mt,Is=st,Vi(i),g&8192)t:for(s=i.stateNode,s._visibility=b?s._visibility&-2:s._visibility|1,b&&(c===null||V||Is||Hn||Eo(i)),c=null,s=i;;){if(s.tag===5||s.tag===26){if(c===null){V=c=s;try{if(S=V.stateNode,b)M=S.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{_=V.stateNode;var yt=V.memoizedProps.style,ot=yt!=null&&yt.hasOwnProperty("display")?yt.display:null;_.style.display=ot==null||typeof ot=="boolean"?"":(""+ot).trim()}}catch(zt){Ge(V,V.return,zt)}}}else if(s.tag===6){if(c===null){V=s;try{V.stateNode.nodeValue=b?"":V.memoizedProps}catch(zt){Ge(V,V.return,zt)}}}else if(s.tag===18){if(c===null){V=s;try{var ht=V.stateNode;b?Sy(ht,!0):Sy(V.stateNode,!1)}catch(zt){Ge(V,V.return,zt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}g&4&&(g=i.updateQueue,g!==null&&(c=g.retryQueue,c!==null&&(g.retryQueue=null,Lf(i,c))));break;case 19:zi(s,i),Vi(i),g&4&&(g=i.updateQueue,g!==null&&(i.updateQueue=null,Lf(i,g)));break;case 30:break;case 21:break;default:zi(s,i),Vi(i)}}function Vi(i){var s=i.flags;if(s&2){try{for(var c,g=i.return;g!==null;){if(v2(g)){c=g;break}g=g.return}if(c==null)throw Error(a(160));switch(c.tag){case 27:var b=c.stateNode,S=Cd(i);_f(i,S,b);break;case 5:var M=c.stateNode;c.flags&32&&(ra(M,""),c.flags&=-33);var _=Cd(i);_f(i,_,M);break;case 3:case 4:var V=c.stateNode.containerInfo,st=Cd(i);Sd(i,st,V);break;default:throw Error(a(161))}}catch(mt){Ge(i,i.return,mt)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function L2(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;L2(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Os(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)M2(i,s.alternate,s),s=s.sibling}function Eo(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ea(4,s,s.return),Eo(s);break;case 1:ss(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&S2(s,s.return,c),Eo(s);break;case 27:Zc(s.stateNode);case 26:case 5:ss(s,s.return),Eo(s);break;case 22:s.memoizedState===null&&Eo(s);break;case 30:Eo(s);break;default:Eo(s)}i=i.sibling}}function Rs(i,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var g=s.alternate,b=i,S=s,M=S.flags;switch(S.tag){case 0:case 11:case 15:Rs(b,S,c),kc(4,S);break;case 1:if(Rs(b,S,c),g=S,b=g.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(st){Ge(g,g.return,st)}if(g=S,b=g.updateQueue,b!==null){var _=g.stateNode;try{var V=b.shared.hiddenCallbacks;if(V!==null)for(b.shared.hiddenCallbacks=null,b=0;b<V.length;b++)hp(V[b],_)}catch(st){Ge(g,g.return,st)}}c&&M&64&&C2(S),Fc(S,S.return);break;case 27:N2(S);case 26:case 5:Rs(b,S,c),c&&g===null&&M&4&&T2(S),Fc(S,S.return);break;case 12:Rs(b,S,c);break;case 31:Rs(b,S,c),c&&M&4&&D2(b,S);break;case 13:Rs(b,S,c),c&&M&4&&B2(b,S);break;case 22:S.memoizedState===null&&Rs(b,S,c),Fc(S,S.return);break;case 30:break;default:Rs(b,S,c)}s=s.sibling}}function vd(i,s){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&Tc(c))}function Nd(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Tc(i))}function zr(i,s,c,g){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)P2(i,s,c,g),s=s.sibling}function P2(i,s,c,g){var b=s.flags;switch(s.tag){case 0:case 11:case 15:zr(i,s,c,g),b&2048&&kc(9,s);break;case 1:zr(i,s,c,g);break;case 3:zr(i,s,c,g),b&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Tc(i)));break;case 12:if(b&2048){zr(i,s,c,g),i=s.stateNode;try{var S=s.memoizedProps,M=S.id,_=S.onPostCommit;typeof _=="function"&&_(M,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){Ge(s,s.return,V)}}else zr(i,s,c,g);break;case 31:zr(i,s,c,g);break;case 13:zr(i,s,c,g);break;case 23:break;case 22:S=s.stateNode,M=s.alternate,s.memoizedState!==null?S._visibility&2?zr(i,s,c,g):zc(i,s):S._visibility&2?zr(i,s,c,g):(S._visibility|=2,wl(i,s,c,g,(s.subtreeFlags&10256)!==0||!1)),b&2048&&vd(M,s);break;case 24:zr(i,s,c,g),b&2048&&Nd(s.alternate,s);break;default:zr(i,s,c,g)}}function wl(i,s,c,g,b){for(b=b&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var S=i,M=s,_=c,V=g,st=M.flags;switch(M.tag){case 0:case 11:case 15:wl(S,M,_,V,b),kc(8,M);break;case 23:break;case 22:var mt=M.stateNode;M.memoizedState!==null?mt._visibility&2?wl(S,M,_,V,b):zc(S,M):(mt._visibility|=2,wl(S,M,_,V,b)),b&&st&2048&&vd(M.alternate,M);break;case 24:wl(S,M,_,V,b),b&&st&2048&&Nd(M.alternate,M);break;default:wl(S,M,_,V,b)}s=s.sibling}}function zc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=i,g=s,b=g.flags;switch(g.tag){case 22:zc(c,g),b&2048&&vd(g.alternate,g);break;case 24:zc(c,g),b&2048&&Nd(g.alternate,g);break;default:zc(c,g)}s=s.sibling}}var Vc=8192;function bl(i,s,c){if(i.subtreeFlags&Vc)for(i=i.child;i!==null;)U2(i,s,c),i=i.sibling}function U2(i,s,c){switch(i.tag){case 26:bl(i,s,c),i.flags&Vc&&i.memoizedState!==null&&WS(c,Fr,i.memoizedState,i.memoizedProps);break;case 5:bl(i,s,c);break;case 3:case 4:var g=Fr;Fr=Kf(i.stateNode.containerInfo),bl(i,s,c),Fr=g;break;case 22:i.memoizedState===null&&(g=i.alternate,g!==null&&g.memoizedState!==null?(g=Vc,Vc=16777216,bl(i,s,c),Vc=g):bl(i,s,c));break;default:bl(i,s,c)}}function k2(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Hc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var g=s[c];ri=g,z2(g,i)}k2(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)F2(i),i=i.sibling}function F2(i){switch(i.tag){case 0:case 11:case 15:Hc(i),i.flags&2048&&Ea(9,i,i.return);break;case 3:Hc(i);break;case 12:Hc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Pf(i)):Hc(i);break;default:Hc(i)}}function Pf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var g=s[c];ri=g,z2(g,i)}k2(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ea(8,s,s.return),Pf(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,Pf(s));break;default:Pf(s)}i=i.sibling}}function z2(i,s){for(;ri!==null;){var c=ri;switch(c.tag){case 0:case 11:case 15:Ea(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var g=c.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Tc(c.memoizedState.cache)}if(g=c.child,g!==null)g.return=c,ri=g;else t:for(c=i;ri!==null;){g=ri;var b=g.sibling,S=g.return;if(O2(g),g===c){ri=null;break t}if(b!==null){b.return=S,ri=b;break t}ri=S}}}var fS={getCacheForType:function(i){var s=hi(Fn),c=s.data.get(i);return c===void 0&&(c=i(),s.data.set(i,c)),c},cacheSignal:function(){return hi(Fn).controller.signal}},hS=typeof WeakMap=="function"?WeakMap:Map,Le=0,$e=null,pe=null,be=0,He=0,ir=null,Ca=!1,El=!1,Id=!1,Ds=0,Sn=0,Sa=0,Co=0,Md=0,rr=0,Cl=0,Gc=null,Hi=null,Od=!1,Uf=0,V2=0,kf=1/0,Ff=null,Ta=null,$n=0,va=null,Sl=null,Bs=0,Rd=0,Dd=null,H2=null,jc=0,Bd=null;function sr(){return(Le&2)!==0&&be!==0?be&-be:Q.T!==null?Fd():wi()}function G2(){if(rr===0)if((be&536870912)===0||Se){var i=Ae;Ae<<=1,(Ae&3932160)===0&&(Ae=262144),rr=i}else rr=536870912;return i=er.current,i!==null&&(i.flags|=32),rr}function Gi(i,s,c){(i===$e&&(He===2||He===9)||i.cancelPendingCommit!==null)&&(Tl(i,0),Na(i,be,rr,!1)),qr(i,c),((Le&2)===0||i!==$e)&&(i===$e&&((Le&2)===0&&(Co|=c),Sn===4&&Na(i,be,rr,!1)),as(i))}function j2(i,s,c){if((Le&6)!==0)throw Error(a(327));var g=!c&&(s&127)===0&&(s&i.expiredLanes)===0||ci(i,s),b=g?mS(i,s):Ld(i,s,!0),S=g;do{if(b===0){El&&!g&&Na(i,s,0,!1);break}else{if(c=i.current.alternate,S&&!dS(c)){b=Ld(i,s,!1),S=!1;continue}if(b===2){if(S=s,i.errorRecoveryDisabledLanes&S)var M=0;else M=i.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){s=M;t:{var _=i;b=Gc;var V=_.current.memoizedState.isDehydrated;if(V&&(Tl(_,M).flags|=256),M=Ld(_,M,!1),M!==2){if(Id&&!V){_.errorRecoveryDisabledLanes|=S,Co|=S,b=4;break t}S=Hi,Hi=b,S!==null&&(Hi===null?Hi=S:Hi.push.apply(Hi,S))}b=M}if(S=!1,b!==2)continue}}if(b===1){Tl(i,0),Na(i,s,0,!0);break}t:{switch(g=i,S=b,S){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:Na(g,s,rr,!Ca);break t;case 2:Hi=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(b=Uf+300-mn(),10<b)){if(Na(g,s,rr,!Ca),to(g,0,!0)!==0)break t;Bs=s,g.timeoutHandle=by(Y2.bind(null,g,c,Hi,Ff,Od,s,rr,Co,Cl,Ca,S,"Throttled",-0,0),b);break t}Y2(g,c,Hi,Ff,Od,s,rr,Co,Cl,Ca,S,null,-0,0)}}break}while(!0);as(i)}function Y2(i,s,c,g,b,S,M,_,V,st,mt,yt,ot,ht){if(i.timeoutHandle=-1,yt=s.subtreeFlags,yt&8192||(yt&16785408)===16785408){yt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pi},U2(s,S,yt);var zt=(S&62914560)===S?Uf-mn():(S&4194048)===S?V2-mn():0;if(zt=qS(yt,zt),zt!==null){Bs=S,i.cancelPendingCommit=zt($2.bind(null,i,s,S,c,g,b,M,_,V,mt,yt,null,ot,ht)),Na(i,S,M,!st);return}}$2(i,s,S,c,g,b,M,_,V)}function dS(i){for(var s=i;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var g=0;g<c.length;g++){var b=c[g],S=b.getSnapshot;b=b.value;try{if(!m(S(),b))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Na(i,s,c,g){s&=~Md,s&=~Co,i.suspendedLanes|=s,i.pingedLanes&=~s,g&&(i.warmLanes|=s),g=i.expirationTimes;for(var b=s;0<b;){var S=31-se(b),M=1<<S;g[S]=-1,b&=~M}c!==0&&ju(i,c,s)}function zf(){return(Le&6)===0?(Yc(0),!1):!0}function _d(){if(pe!==null){if(He===0)var i=pe.return;else i=pe,Es=go=null,W0(i),ml=null,Nc=0,i=pe;for(;i!==null;)E2(i.alternate,i),i=i.return;pe=null}}function Tl(i,s){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,BS(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Bs=0,_d(),$e=i,pe=c=ws(i.current,null),be=s,He=0,ir=null,Ca=!1,El=ci(i,s),Id=!1,Cl=rr=Md=Co=Sa=Sn=0,Hi=Gc=null,Od=!1,(s&8)!==0&&(s|=s&32);var g=i.entangledLanes;if(g!==0)for(i=i.entanglements,g&=s;0<g;){var b=31-se(g),S=1<<b;s|=i[b],g&=~S}return Ds=s,of(),c}function X2(i,s){ie=null,Q.H=Lc,s===gl||s===mf?(s=lp(),He=3):s===k0?(s=lp(),He=4):He=s===hd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ir=s,pe===null&&(Sn=1,Mf(i,Ar(s,i.current)))}function Q2(){var i=er.current;return i===null?!0:(be&4194048)===be?Cr===null:(be&62914560)===be||(be&536870912)!==0?i===Cr:!1}function Z2(){var i=Q.H;return Q.H=Lc,i===null?Lc:i}function K2(){var i=Q.A;return Q.A=fS,i}function Vf(){Sn=4,Ca||(be&4194048)!==be&&er.current!==null||(El=!0),(Sa&134217727)===0&&(Co&134217727)===0||$e===null||Na($e,be,rr,!1)}function Ld(i,s,c){var g=Le;Le|=2;var b=Z2(),S=K2();($e!==i||be!==s)&&(Ff=null,Tl(i,s)),s=!1;var M=Sn;t:do try{if(He!==0&&pe!==null){var _=pe,V=ir;switch(He){case 8:_d(),M=6;break t;case 3:case 2:case 9:case 6:er.current===null&&(s=!0);var st=He;if(He=0,ir=null,vl(i,_,V,st),c&&El){M=0;break t}break;default:st=He,He=0,ir=null,vl(i,_,V,st)}}gS(),M=Sn;break}catch(mt){X2(i,mt)}while(!0);return s&&i.shellSuspendCounter++,Es=go=null,Le=g,Q.H=b,Q.A=S,pe===null&&($e=null,be=0,of()),M}function gS(){for(;pe!==null;)W2(pe)}function mS(i,s){var c=Le;Le|=2;var g=Z2(),b=K2();$e!==i||be!==s?(Ff=null,kf=mn()+500,Tl(i,s)):El=ci(i,s);t:do try{if(He!==0&&pe!==null){s=pe;var S=ir;e:switch(He){case 1:He=0,ir=null,vl(i,s,S,1);break;case 2:case 9:if(ap(S)){He=0,ir=null,q2(s);break}s=function(){He!==2&&He!==9||$e!==i||(He=7),as(i)},S.then(s,s);break t;case 3:He=7;break t;case 4:He=5;break t;case 7:ap(S)?(He=0,ir=null,q2(s)):(He=0,ir=null,vl(i,s,S,7));break;case 5:var M=null;switch(pe.tag){case 26:M=pe.memoizedState;case 5:case 27:var _=pe;if(M?Py(M):_.stateNode.complete){He=0,ir=null;var V=_.sibling;if(V!==null)pe=V;else{var st=_.return;st!==null?(pe=st,Hf(st)):pe=null}break e}}He=0,ir=null,vl(i,s,S,5);break;case 6:He=0,ir=null,vl(i,s,S,6);break;case 8:_d(),Sn=6;break t;default:throw Error(a(462))}}pS();break}catch(mt){X2(i,mt)}while(!0);return Es=go=null,Q.H=g,Q.A=b,Le=c,pe!==null?0:($e=null,be=0,of(),Sn)}function pS(){for(;pe!==null&&!Qo();)W2(pe)}function W2(i){var s=w2(i.alternate,i,Ds);i.memoizedProps=i.pendingProps,s===null?Hf(i):pe=s}function q2(i){var s=i,c=s.alternate;switch(s.tag){case 15:case 0:s=g2(c,s,s.pendingProps,s.type,void 0,be);break;case 11:s=g2(c,s,s.pendingProps,s.type.render,s.ref,be);break;case 5:W0(s);default:E2(c,s),s=pe=Km(s,Ds),s=w2(c,s,Ds)}i.memoizedProps=i.pendingProps,s===null?Hf(i):pe=s}function vl(i,s,c,g){Es=go=null,W0(s),ml=null,Nc=0;var b=s.return;try{if(rS(i,b,s,c,be)){Sn=1,Mf(i,Ar(c,i.current)),pe=null;return}}catch(S){if(b!==null)throw pe=b,S;Sn=1,Mf(i,Ar(c,i.current)),pe=null;return}s.flags&32768?(Se||g===1?i=!0:El||(be&536870912)!==0?i=!1:(Ca=i=!0,(g===2||g===9||g===3||g===6)&&(g=er.current,g!==null&&g.tag===13&&(g.flags|=16384))),J2(s,i)):Hf(s)}function Hf(i){var s=i;do{if((s.flags&32768)!==0){J2(s,Ca);return}i=s.return;var c=oS(s.alternate,s,Ds);if(c!==null){pe=c;return}if(s=s.sibling,s!==null){pe=s;return}pe=s=i}while(s!==null);Sn===0&&(Sn=5)}function J2(i,s){do{var c=lS(i.alternate,i);if(c!==null){c.flags&=32767,pe=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(i=i.sibling,i!==null)){pe=i;return}pe=i=c}while(i!==null);Sn=6,pe=null}function $2(i,s,c,g,b,S,M,_,V){i.cancelPendingCommit=null;do Gf();while($n!==0);if((Le&6)!==0)throw Error(a(327));if(s!==null){if(s===i.current)throw Error(a(177));if(S=s.lanes|s.childLanes,S|=C0,gr(i,c,S,M,_,V),i===$e&&(pe=$e=null,be=0),Sl=s,va=i,Bs=c,Rd=S,Dd=b,H2=g,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,wS(Qi,function(){return ry(),null})):(i.callbackNode=null,i.callbackPriority=0),g=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||g){g=Q.T,Q.T=null,b=tt.p,tt.p=2,M=Le,Le|=4;try{cS(i,s,c)}finally{Le=M,tt.p=b,Q.T=g}}$n=1,ty(),ey(),ny()}}function ty(){if($n===1){$n=0;var i=va,s=Sl,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null;var g=tt.p;tt.p=2;var b=Le;Le|=4;try{_2(s,i);var S=Qd,M=R(i.containerInfo),_=S.focusedElem,V=S.selectionRange;if(M!==_&&_&&_.ownerDocument&&N(_.ownerDocument.documentElement,_)){if(V!==null&&B(_)){var st=V.start,mt=V.end;if(mt===void 0&&(mt=st),"selectionStart"in _)_.selectionStart=st,_.selectionEnd=Math.min(mt,_.value.length);else{var yt=_.ownerDocument||document,ot=yt&&yt.defaultView||window;if(ot.getSelection){var ht=ot.getSelection(),zt=_.textContent.length,Wt=Math.min(V.start,zt),Ze=V.end===void 0?Wt:Math.min(V.end,zt);!ht.extend&&Wt>Ze&&(M=Ze,Ze=Wt,Wt=M);var $=v(_,Wt),Z=v(_,Ze);if($&&Z&&(ht.rangeCount!==1||ht.anchorNode!==$.node||ht.anchorOffset!==$.offset||ht.focusNode!==Z.node||ht.focusOffset!==Z.offset)){var rt=yt.createRange();rt.setStart($.node,$.offset),ht.removeAllRanges(),Wt>Ze?(ht.addRange(rt),ht.extend(Z.node,Z.offset)):(rt.setEnd(Z.node,Z.offset),ht.addRange(rt))}}}}for(yt=[],ht=_;ht=ht.parentNode;)ht.nodeType===1&&yt.push({element:ht,left:ht.scrollLeft,top:ht.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<yt.length;_++){var pt=yt[_];pt.element.scrollLeft=pt.left,pt.element.scrollTop=pt.top}}eh=!!Xd,Qd=Xd=null}finally{Le=b,tt.p=g,Q.T=c}}i.current=s,$n=2}}function ey(){if($n===2){$n=0;var i=va,s=Sl,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=Q.T,Q.T=null;var g=tt.p;tt.p=2;var b=Le;Le|=4;try{M2(i,s.alternate,s)}finally{Le=b,tt.p=g,Q.T=c}}$n=3}}function ny(){if($n===4||$n===3){$n=0,Gu();var i=va,s=Sl,c=Bs,g=H2;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?$n=5:($n=0,Sl=va=null,iy(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(Ta=null),Dr(c),s=s.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(tn,s,void 0,(s.current.flags&128)===128)}catch{}if(g!==null){s=Q.T,b=tt.p,tt.p=2,Q.T=null;try{for(var S=i.onRecoverableError,M=0;M<g.length;M++){var _=g[M];S(_.value,{componentStack:_.stack})}}finally{Q.T=s,tt.p=b}}(Bs&3)!==0&&Gf(),as(i),b=i.pendingLanes,(c&261930)!==0&&(b&42)!==0?i===Bd?jc++:(jc=0,Bd=i):jc=0,Yc(0)}}function iy(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Tc(s)))}function Gf(){return ty(),ey(),ny(),ry()}function ry(){if($n!==5)return!1;var i=va,s=Rd;Rd=0;var c=Dr(Bs),g=Q.T,b=tt.p;try{tt.p=32>c?32:c,Q.T=null,c=Dd,Dd=null;var S=va,M=Bs;if($n=0,Sl=va=null,Bs=0,(Le&6)!==0)throw Error(a(331));var _=Le;if(Le|=4,F2(S.current),P2(S,S.current,M,c),Le=_,Yc(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(tn,S)}catch{}return!0}finally{tt.p=b,Q.T=g,iy(i,s)}}function sy(i,s,c){s=Ar(c,s),s=fd(i.stateNode,s,2),i=Aa(i,s,2),i!==null&&(qr(i,2),as(i))}function Ge(i,s,c){if(i.tag===3)sy(i,i,c);else for(;s!==null;){if(s.tag===3){sy(s,i,c);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ta===null||!Ta.has(g))){i=Ar(c,i),c=a2(2),g=Aa(s,c,2),g!==null&&(o2(c,g,s,i),qr(g,2),as(g));break}}s=s.return}}function Pd(i,s,c){var g=i.pingCache;if(g===null){g=i.pingCache=new hS;var b=new Set;g.set(s,b)}else b=g.get(s),b===void 0&&(b=new Set,g.set(s,b));b.has(c)||(Id=!0,b.add(c),i=yS.bind(null,i,s,c),s.then(i,i))}function yS(i,s,c){var g=i.pingCache;g!==null&&g.delete(s),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,$e===i&&(be&c)===c&&(Sn===4||Sn===3&&(be&62914560)===be&&300>mn()-Uf?(Le&2)===0&&Tl(i,0):Md|=c,Cl===be&&(Cl=0)),as(i)}function ay(i,s){s===0&&(s=Kn()),i=uo(i,s),i!==null&&(qr(i,s),as(i))}function xS(i){var s=i.memoizedState,c=0;s!==null&&(c=s.retryLane),ay(i,c)}function AS(i,s){var c=0;switch(i.tag){case 31:case 13:var g=i.stateNode,b=i.memoizedState;b!==null&&(c=b.retryLane);break;case 19:g=i.stateNode;break;case 22:g=i.stateNode._retryCache;break;default:throw Error(a(314))}g!==null&&g.delete(s),ay(i,c)}function wS(i,s){return Js(i,s)}var jf=null,Nl=null,Ud=!1,Yf=!1,kd=!1,Ia=0;function as(i){i!==Nl&&i.next===null&&(Nl===null?jf=Nl=i:Nl=Nl.next=i),Yf=!0,Ud||(Ud=!0,ES())}function Yc(i,s){if(!kd&&Yf){kd=!0;do for(var c=!1,g=jf;g!==null;){if(i!==0){var b=g.pendingLanes;if(b===0)var S=0;else{var M=g.suspendedLanes,_=g.pingedLanes;S=(1<<31-se(42|i)+1)-1,S&=b&~(M&~_),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(c=!0,uy(g,S))}else S=be,S=to(g,g===$e?S:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(S&3)===0||ci(g,S)||(c=!0,uy(g,S));g=g.next}while(c);kd=!1}}function bS(){oy()}function oy(){Yf=Ud=!1;var i=0;Ia!==0&&DS()&&(i=Ia);for(var s=mn(),c=null,g=jf;g!==null;){var b=g.next,S=ly(g,s);S===0?(g.next=null,c===null?jf=b:c.next=b,b===null&&(Nl=c)):(c=g,(i!==0||(S&3)!==0)&&(Yf=!0)),g=b}$n!==0&&$n!==5||Yc(i),Ia!==0&&(Ia=0)}function ly(i,s){for(var c=i.suspendedLanes,g=i.pingedLanes,b=i.expirationTimes,S=i.pendingLanes&-62914561;0<S;){var M=31-se(S),_=1<<M,V=b[M];V===-1?((_&c)===0||(_&g)!==0)&&(b[M]=hc(_,s)):V<=s&&(i.expiredLanes|=_),S&=~_}if(s=$e,c=be,c=to(i,i===s?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),g=i.callbackNode,c===0||i===s&&(He===2||He===9)||i.cancelPendingCommit!==null)return g!==null&&g!==null&&Ft(g),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||ci(i,c)){if(s=c&-c,s===i.callbackPriority)return s;switch(g!==null&&Ft(g),Dr(c)){case 2:case 8:c=cc;break;case 32:c=Qi;break;case 268435456:c=uc;break;default:c=Qi}return g=cy.bind(null,i),c=Js(c,g),i.callbackPriority=s,i.callbackNode=c,s}return g!==null&&g!==null&&Ft(g),i.callbackPriority=2,i.callbackNode=null,2}function cy(i,s){if($n!==0&&$n!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(Gf()&&i.callbackNode!==c)return null;var g=be;return g=to(i,i===$e?g:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),g===0?null:(j2(i,g,s),ly(i,mn()),i.callbackNode!=null&&i.callbackNode===c?cy.bind(null,i):null)}function uy(i,s){if(Gf())return null;j2(i,s,!0)}function ES(){_S(function(){(Le&6)!==0?Js(_i,bS):oy()})}function Fd(){if(Ia===0){var i=hl;i===0&&(i=$a,$a<<=1,($a&261888)===0&&($a=256)),Ia=i}return Ia}function fy(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:sa(""+i)}function hy(i,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,i.id&&c.setAttribute("form",i.id),s.parentNode.insertBefore(c,s),i=new FormData(i),c.parentNode.removeChild(c),i}function CS(i,s,c,g,b){if(s==="submit"&&c&&c.stateNode===b){var S=fy((b[Ve]||null).action),M=g.submitter;M&&(s=(s=M[Ve]||null)?fy(s.formAction):M.getAttribute("formAction"),s!==null&&(S=s,M=null));var _=new Wn("action","action",null,g,b);i.push({event:_,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Ia!==0){var V=M?hy(b,M):new FormData(b);sd(c,{pending:!0,data:V,method:b.method,action:S},null,V)}}else typeof S=="function"&&(_.preventDefault(),V=M?hy(b,M):new FormData(b),sd(c,{pending:!0,data:V,method:b.method,action:S},S,V))},currentTarget:b}]})}}for(var zd=0;zd<Ec.length;zd++){var Vd=Ec[zd],SS=Vd.toLowerCase(),TS=Vd[0].toUpperCase()+Vd.slice(1);kr(SS,"on"+TS)}kr(ki,"onAnimationEnd"),kr(ui,"onAnimationIteration"),kr(ke,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(Jn,"onTransitionRun"),kr(Ti,"onTransitionStart"),kr(ha,"onTransitionCancel"),kr(As,"onTransitionEnd"),Ki("onMouseEnter",["mouseout","mouseover"]),Ki("onMouseLeave",["mouseout","mouseover"]),Ki("onPointerEnter",["pointerout","pointerover"]),Ki("onPointerLeave",["pointerout","pointerover"]),Pe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xc));function dy(i,s){s=(s&4)!==0;for(var c=0;c<i.length;c++){var g=i[c],b=g.event;g=g.listeners;t:{var S=void 0;if(s)for(var M=g.length-1;0<=M;M--){var _=g[M],V=_.instance,st=_.currentTarget;if(_=_.listener,V!==S&&b.isPropagationStopped())break t;S=_,b.currentTarget=st;try{S(b)}catch(mt){af(mt)}b.currentTarget=null,S=V}else for(M=0;M<g.length;M++){if(_=g[M],V=_.instance,st=_.currentTarget,_=_.listener,V!==S&&b.isPropagationStopped())break t;S=_,b.currentTarget=st;try{S(b)}catch(mt){af(mt)}b.currentTarget=null,S=V}}}}function ye(i,s){var c=s[$s];c===void 0&&(c=s[$s]=new Set);var g=i+"__bubble";c.has(g)||(gy(s,i,2,!1),c.add(g))}function Hd(i,s,c){var g=0;s&&(g|=4),gy(c,i,g,s)}var Xf="_reactListening"+Math.random().toString(36).slice(2);function Gd(i){if(!i[Xf]){i[Xf]=!0,xt.forEach(function(c){c!=="selectionchange"&&(vS.has(c)||Hd(c,!1,i),Hd(c,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Xf]||(s[Xf]=!0,Hd("selectionchange",!1,s))}}function gy(i,s,c,g){switch(Gy(s)){case 2:var b=t4;break;case 8:b=e4;break;default:b=r1}c=b.bind(null,s,c,i),b=void 0,!mc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),g?b!==void 0?i.addEventListener(s,c,{capture:!0,passive:b}):i.addEventListener(s,c,!0):b!==void 0?i.addEventListener(s,c,{passive:b}):i.addEventListener(s,c,!1)}function jd(i,s,c,g,b){var S=g;if((s&1)===0&&(s&2)===0&&g!==null)t:for(;;){if(g===null)return;var M=g.tag;if(M===3||M===4){var _=g.stateNode.containerInfo;if(_===b)break;if(M===4)for(M=g.return;M!==null;){var V=M.tag;if((V===3||V===4)&&M.stateNode.containerInfo===b)return;M=M.return}for(;_!==null;){if(M=wn(_),M===null)return;if(V=M.tag,V===5||V===6||V===26||V===27){g=S=M;continue t}_=_.parentNode}}g=g.return}Zu(function(){var st=S,mt=gc(c),yt=[];t:{var ot=sf.get(i);if(ot!==void 0){var ht=Wn,zt=i;switch(i){case"keypress":if($r(c)===0)break t;case"keydown":case"keyup":ht=il;break;case"focusin":zt="focus",ht=xc;break;case"focusout":zt="blur",ht=xc;break;case"beforeblur":case"afterblur":ht=xc;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=_e;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=el;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=w0;break;case ki:case ui:case ke:ht=ae;break;case As:ht=ms;break;case"scroll":case"scrollend":ht=Ku;break;case"wheel":ht=b0;break;case"copy":case"cut":case"paste":ht=nl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=Ue;break;case"toggle":case"beforetoggle":ht=wc}var Wt=(s&4)!==0,Ze=!Wt&&(i==="scroll"||i==="scrollend"),$=Wt?ot!==null?ot+"Capture":null:ot;Wt=[];for(var Z=st,rt;Z!==null;){var pt=Z;if(rt=pt.stateNode,pt=pt.tag,pt!==5&&pt!==26&&pt!==27||rt===null||$===null||(pt=$t(Z,$),pt!=null&&Wt.push(Qc(Z,pt,rt))),Ze)break;Z=Z.return}0<Wt.length&&(ot=new ht(ot,zt,null,c,mt),yt.push({event:ot,listeners:Wt}))}}if((s&7)===0){t:{if(ot=i==="mouseover"||i==="pointerover",ht=i==="mouseout"||i==="pointerout",ot&&c!==no&&(zt=c.relatedTarget||c.fromElement)&&(wn(zt)||zt[Zi]))break t;if((ht||ot)&&(ot=mt.window===mt?mt:(ot=mt.ownerDocument)?ot.defaultView||ot.parentWindow:window,ht?(zt=c.relatedTarget||c.toElement,ht=st,zt=zt?wn(zt):null,zt!==null&&(Ze=h(zt),Wt=zt.tag,zt!==Ze||Wt!==5&&Wt!==27&&Wt!==6)&&(zt=null)):(ht=null,zt=st),ht!==zt)){if(Wt=_e,pt="onMouseLeave",$="onMouseEnter",Z="mouse",(i==="pointerout"||i==="pointerover")&&(Wt=Ue,pt="onPointerLeave",$="onPointerEnter",Z="pointer"),Ze=ht==null?ot:ta(ht),rt=zt==null?ot:ta(zt),ot=new Wt(pt,Z+"leave",ht,c,mt),ot.target=Ze,ot.relatedTarget=rt,pt=null,wn(mt)===st&&(Wt=new Wt($,Z+"enter",zt,c,mt),Wt.target=rt,Wt.relatedTarget=Ze,pt=Wt),Ze=pt,ht&&zt)e:{for(Wt=NS,$=ht,Z=zt,rt=0,pt=$;pt;pt=Wt(pt))rt++;pt=0;for(var Xt=Z;Xt;Xt=Wt(Xt))pt++;for(;0<rt-pt;)$=Wt($),rt--;for(;0<pt-rt;)Z=Wt(Z),pt--;for(;rt--;){if($===Z||Z!==null&&$===Z.alternate){Wt=$;break e}$=Wt($),Z=Wt(Z)}Wt=null}else Wt=null;ht!==null&&my(yt,ot,ht,Wt,!1),zt!==null&&Ze!==null&&my(yt,Ze,zt,Wt,!0)}}t:{if(ot=st?ta(st):window,ht=ot.nodeName&&ot.nodeName.toLowerCase(),ht==="select"||ht==="input"&&ot.type==="file")var Oe=$i;else if(bc(ot))if(rf)Oe=f;else{Oe=o;var Gt=r}else ht=ot.nodeName,!ht||ht.toLowerCase()!=="input"||ot.type!=="checkbox"&&ot.type!=="radio"?st&&We(st.elementType)&&(Oe=$i):Oe=l;if(Oe&&(Oe=Oe(i,st))){Ji(yt,Oe,c,mt);break t}Gt&&Gt(i,ot,st),i==="focusout"&&st&&ot.type==="number"&&st.memoizedProps.value!=null&&U(ot,"number",ot.value)}switch(Gt=st?ta(st):window,i){case"focusin":(bc(Gt)||Gt.contentEditable==="true")&&(j=Gt,X=st,et=null);break;case"focusout":et=X=j=null;break;case"mousedown":ct=!0;break;case"contextmenu":case"mouseup":case"dragend":ct=!1,St(yt,c,mt);break;case"selectionchange":if(k)break;case"keydown":case"keyup":St(yt,c,mt)}var oe;if(so)t:{switch(i){case"compositionstart":var Ee="onCompositionStart";break t;case"compositionend":Ee="onCompositionEnd";break t;case"compositionupdate":Ee="onCompositionUpdate";break t}Ee=void 0}else fa?nf(i,c)&&(Ee="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Ee="onCompositionStart");Ee&&(ef&&c.locale!=="ko"&&(fa||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&fa&&(oe=aa()):(Pr=mt,Ur="value"in Pr?Pr.value:Pr.textContent,fa=!0)),Gt=Qf(st,Ee),0<Gt.length&&(Ee=new Ju(Ee,i,null,c,mt),yt.push({event:Ee,listeners:Gt}),oe?Ee.data=oe:(oe=ua(c),oe!==null&&(Ee.data=oe)))),(oe=tf?ns(i,c):sl(i,c))&&(Ee=Qf(st,"onBeforeInput"),0<Ee.length&&(Gt=new Ju("onBeforeInput","beforeinput",null,c,mt),yt.push({event:Gt,listeners:Ee}),Gt.data=oe)),CS(yt,i,st,c,mt)}dy(yt,s)})}function Qc(i,s,c){return{instance:i,listener:s,currentTarget:c}}function Qf(i,s){for(var c=s+"Capture",g=[];i!==null;){var b=i,S=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||S===null||(b=$t(i,c),b!=null&&g.unshift(Qc(i,b,S)),b=$t(i,s),b!=null&&g.push(Qc(i,b,S))),i.tag===3)return g;i=i.return}return[]}function NS(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function my(i,s,c,g,b){for(var S=s._reactName,M=[];c!==null&&c!==g;){var _=c,V=_.alternate,st=_.stateNode;if(_=_.tag,V!==null&&V===g)break;_!==5&&_!==26&&_!==27||st===null||(V=st,b?(st=$t(c,S),st!=null&&M.unshift(Qc(c,st,V))):b||(st=$t(c,S),st!=null&&M.push(Qc(c,st,V)))),c=c.return}M.length!==0&&i.push({event:s,listeners:M})}var IS=/\r\n?/g,MS=/\u0000|\uFFFD/g;function py(i){return(typeof i=="string"?i:""+i).replace(IS,`
`).replace(MS,"")}function yy(i,s){return s=py(s),py(i)===s}function Qe(i,s,c,g,b,S){switch(c){case"children":typeof g=="string"?s==="body"||s==="textarea"&&g===""||ra(i,g):(typeof g=="number"||typeof g=="bigint")&&s!=="body"&&ra(i,""+g);break;case"className":na(i,"class",g);break;case"tabIndex":na(i,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":na(i,c,g);break;case"style":Yt(i,g,S);break;case"data":if(s!=="object"){na(i,"data",g);break}case"src":case"href":if(g===""&&(s!=="a"||c!=="href")){i.removeAttribute(c);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){i.removeAttribute(c);break}g=sa(""+g),i.setAttribute(c,g);break;case"action":case"formAction":if(typeof g=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(c==="formAction"?(s!=="input"&&Qe(i,s,"name",b.name,b,null),Qe(i,s,"formEncType",b.formEncType,b,null),Qe(i,s,"formMethod",b.formMethod,b,null),Qe(i,s,"formTarget",b.formTarget,b,null)):(Qe(i,s,"encType",b.encType,b,null),Qe(i,s,"method",b.method,b,null),Qe(i,s,"target",b.target,b,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){i.removeAttribute(c);break}g=sa(""+g),i.setAttribute(c,g);break;case"onClick":g!=null&&(i.onclick=Pi);break;case"onScroll":g!=null&&ye("scroll",i);break;case"onScrollEnd":g!=null&&ye("scrollend",i);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(a(61));if(c=g.__html,c!=null){if(b.children!=null)throw Error(a(60));i.innerHTML=c}}break;case"multiple":i.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":i.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){i.removeAttribute("xlink:href");break}c=sa(""+g),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?i.setAttribute(c,""+g):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":g===!0?i.setAttribute(c,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?i.setAttribute(c,g):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?i.setAttribute(c,g):i.removeAttribute(c);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?i.removeAttribute(c):i.setAttribute(c,g);break;case"popover":ye("beforetoggle",i),ye("toggle",i),ea(i,"popover",g);break;case"xlinkActuate":Wi(i,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Wi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Wi(i,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Wi(i,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Wi(i,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Wi(i,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Wi(i,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Wi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Wi(i,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":ea(i,"is",g);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Qu.get(c)||c,ea(i,c,g))}}function Yd(i,s,c,g,b,S){switch(c){case"style":Yt(i,g,S);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(a(61));if(c=g.__html,c!=null){if(b.children!=null)throw Error(a(60));i.innerHTML=c}}break;case"children":typeof g=="string"?ra(i,g):(typeof g=="number"||typeof g=="bigint")&&ra(i,""+g);break;case"onScroll":g!=null&&ye("scroll",i);break;case"onScrollEnd":g!=null&&ye("scrollend",i);break;case"onClick":g!=null&&(i.onclick=Pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xu.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(b=c.endsWith("Capture"),s=c.slice(2,b?c.length-7:void 0),S=i[Ve]||null,S=S!=null?S[c]:null,typeof S=="function"&&i.removeEventListener(s,S,b),typeof g=="function")){typeof S!="function"&&S!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(s,g,b);break t}c in i?i[c]=g:g===!0?i.setAttribute(c,""):ea(i,c,g)}}}function gi(i,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",i),ye("load",i);var g=!1,b=!1,S;for(S in c)if(c.hasOwnProperty(S)){var M=c[S];if(M!=null)switch(S){case"src":g=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Qe(i,s,S,M,c,null)}}b&&Qe(i,s,"srcSet",c.srcSet,c,null),g&&Qe(i,s,"src",c.src,c,null);return;case"input":ye("invalid",i);var _=S=M=b=null,V=null,st=null;for(g in c)if(c.hasOwnProperty(g)){var mt=c[g];if(mt!=null)switch(g){case"name":b=mt;break;case"type":M=mt;break;case"checked":V=mt;break;case"defaultChecked":st=mt;break;case"value":S=mt;break;case"defaultValue":_=mt;break;case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(a(137,s));break;default:Qe(i,s,g,mt,c,null)}}nt(i,S,_,V,st,M,b,!1);return;case"select":ye("invalid",i),g=M=S=null;for(b in c)if(c.hasOwnProperty(b)&&(_=c[b],_!=null))switch(b){case"value":S=_;break;case"defaultValue":M=_;break;case"multiple":g=_;default:Qe(i,s,b,_,c,null)}s=S,c=M,i.multiple=!!g,s!=null?Ht(i,!!g,s,!1):c!=null&&Ht(i,!!g,c,!0);return;case"textarea":ye("invalid",i),S=b=g=null;for(M in c)if(c.hasOwnProperty(M)&&(_=c[M],_!=null))switch(M){case"value":g=_;break;case"defaultValue":b=_;break;case"children":S=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Qe(i,s,M,_,c,null)}Ci(i,g,b,S);return;case"option":for(V in c)c.hasOwnProperty(V)&&(g=c[V],g!=null)&&(V==="selected"?i.selected=g&&typeof g!="function"&&typeof g!="symbol":Qe(i,s,V,g,c,null));return;case"dialog":ye("beforetoggle",i),ye("toggle",i),ye("cancel",i),ye("close",i);break;case"iframe":case"object":ye("load",i);break;case"video":case"audio":for(g=0;g<Xc.length;g++)ye(Xc[g],i);break;case"image":ye("error",i),ye("load",i);break;case"details":ye("toggle",i);break;case"embed":case"source":case"link":ye("error",i),ye("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(st in c)if(c.hasOwnProperty(st)&&(g=c[st],g!=null))switch(st){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Qe(i,s,st,g,c,null)}return;default:if(We(s)){for(mt in c)c.hasOwnProperty(mt)&&(g=c[mt],g!==void 0&&Yd(i,s,mt,g,c,void 0));return}}for(_ in c)c.hasOwnProperty(_)&&(g=c[_],g!=null&&Qe(i,s,_,g,c,null))}function OS(i,s,c,g){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,S=null,M=null,_=null,V=null,st=null,mt=null;for(ht in c){var yt=c[ht];if(c.hasOwnProperty(ht)&&yt!=null)switch(ht){case"checked":break;case"value":break;case"defaultValue":V=yt;default:g.hasOwnProperty(ht)||Qe(i,s,ht,null,g,yt)}}for(var ot in g){var ht=g[ot];if(yt=c[ot],g.hasOwnProperty(ot)&&(ht!=null||yt!=null))switch(ot){case"type":S=ht;break;case"name":b=ht;break;case"checked":st=ht;break;case"defaultChecked":mt=ht;break;case"value":M=ht;break;case"defaultValue":_=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(a(137,s));break;default:ht!==yt&&Qe(i,s,ot,ht,g,yt)}}Un(i,M,_,V,st,mt,S,b);return;case"select":ht=M=_=ot=null;for(S in c)if(V=c[S],c.hasOwnProperty(S)&&V!=null)switch(S){case"value":break;case"multiple":ht=V;default:g.hasOwnProperty(S)||Qe(i,s,S,null,g,V)}for(b in g)if(S=g[b],V=c[b],g.hasOwnProperty(b)&&(S!=null||V!=null))switch(b){case"value":ot=S;break;case"defaultValue":_=S;break;case"multiple":M=S;default:S!==V&&Qe(i,s,b,S,g,V)}s=_,c=M,g=ht,ot!=null?Ht(i,!!c,ot,!1):!!g!=!!c&&(s!=null?Ht(i,!!c,s,!0):Ht(i,!!c,c?[]:"",!1));return;case"textarea":ht=ot=null;for(_ in c)if(b=c[_],c.hasOwnProperty(_)&&b!=null&&!g.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Qe(i,s,_,null,g,b)}for(M in g)if(b=g[M],S=c[M],g.hasOwnProperty(M)&&(b!=null||S!=null))switch(M){case"value":ot=b;break;case"defaultValue":ht=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:b!==S&&Qe(i,s,M,b,g,S)}Rn(i,ot,ht);return;case"option":for(var zt in c)ot=c[zt],c.hasOwnProperty(zt)&&ot!=null&&!g.hasOwnProperty(zt)&&(zt==="selected"?i.selected=!1:Qe(i,s,zt,null,g,ot));for(V in g)ot=g[V],ht=c[V],g.hasOwnProperty(V)&&ot!==ht&&(ot!=null||ht!=null)&&(V==="selected"?i.selected=ot&&typeof ot!="function"&&typeof ot!="symbol":Qe(i,s,V,ot,g,ht));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Wt in c)ot=c[Wt],c.hasOwnProperty(Wt)&&ot!=null&&!g.hasOwnProperty(Wt)&&Qe(i,s,Wt,null,g,ot);for(st in g)if(ot=g[st],ht=c[st],g.hasOwnProperty(st)&&ot!==ht&&(ot!=null||ht!=null))switch(st){case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(a(137,s));break;default:Qe(i,s,st,ot,g,ht)}return;default:if(We(s)){for(var Ze in c)ot=c[Ze],c.hasOwnProperty(Ze)&&ot!==void 0&&!g.hasOwnProperty(Ze)&&Yd(i,s,Ze,void 0,g,ot);for(mt in g)ot=g[mt],ht=c[mt],!g.hasOwnProperty(mt)||ot===ht||ot===void 0&&ht===void 0||Yd(i,s,mt,ot,g,ht);return}}for(var $ in c)ot=c[$],c.hasOwnProperty($)&&ot!=null&&!g.hasOwnProperty($)&&Qe(i,s,$,null,g,ot);for(yt in g)ot=g[yt],ht=c[yt],!g.hasOwnProperty(yt)||ot===ht||ot==null&&ht==null||Qe(i,s,yt,ot,g,ht)}function xy(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RS(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,c=performance.getEntriesByType("resource"),g=0;g<c.length;g++){var b=c[g],S=b.transferSize,M=b.initiatorType,_=b.duration;if(S&&_&&xy(M)){for(M=0,_=b.responseEnd,g+=1;g<c.length;g++){var V=c[g],st=V.startTime;if(st>_)break;var mt=V.transferSize,yt=V.initiatorType;mt&&xy(yt)&&(V=V.responseEnd,M+=mt*(V<_?1:(_-st)/(V-st)))}if(--g,s+=8*(S+M)/(b.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Xd=null,Qd=null;function Zf(i){return i.nodeType===9?i:i.ownerDocument}function Ay(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wy(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Zd(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Kd=null;function DS(){var i=window.event;return i&&i.type==="popstate"?i===Kd?!1:(Kd=i,!0):(Kd=null,!1)}var by=typeof setTimeout=="function"?setTimeout:void 0,BS=typeof clearTimeout=="function"?clearTimeout:void 0,Ey=typeof Promise=="function"?Promise:void 0,_S=typeof queueMicrotask=="function"?queueMicrotask:typeof Ey<"u"?function(i){return Ey.resolve(null).then(i).catch(LS)}:by;function LS(i){setTimeout(function(){throw i})}function Ma(i){return i==="head"}function Cy(i,s){var c=s,g=0;do{var b=c.nextSibling;if(i.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"||c==="/&"){if(g===0){i.removeChild(b),Rl(s);return}g--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")g++;else if(c==="html")Zc(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,Zc(c);for(var S=c.firstChild;S;){var M=S.nextSibling,_=S.nodeName;S[eo]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=M}}else c==="body"&&Zc(i.ownerDocument.body);c=b}while(c);Rl(s)}function Sy(i,s){var c=i;i=0;do{var g=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=g}while(c)}function Wd(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Wd(c),Li(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function PS(i,s,c,g){for(;i.nodeType===1;){var b=c;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!g&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(g){if(!i[eo])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(S=i.getAttribute("rel"),S==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(S!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(S=i.getAttribute("src"),(S!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&S&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var S=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===S)return i}else return i;if(i=Sr(i.nextSibling),i===null)break}return null}function US(i,s,c){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Sr(i.nextSibling),i===null))return null;return i}function Ty(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Sr(i.nextSibling),i===null))return null;return i}function qd(i){return i.data==="$?"||i.data==="$~"}function Jd(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function kS(i,s){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||c.readyState!=="loading")s();else{var g=function(){s(),c.removeEventListener("DOMContentLoaded",g)};c.addEventListener("DOMContentLoaded",g),i._reactRetry=g}}function Sr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var $d=null;function vy(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(s===0)return Sr(i.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}i=i.nextSibling}return null}function Ny(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return i;s--}else c!=="/$"&&c!=="/&"||s++}i=i.previousSibling}return null}function Iy(i,s,c){switch(s=Zf(c),i){case"html":if(i=s.documentElement,!i)throw Error(a(452));return i;case"head":if(i=s.head,!i)throw Error(a(453));return i;case"body":if(i=s.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function Zc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Li(i)}var Tr=new Map,My=new Set;function Kf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var _s=tt.d;tt.d={f:FS,r:zS,D:VS,C:HS,L:GS,m:jS,X:XS,S:YS,M:QS};function FS(){var i=_s.f(),s=zf();return i||s}function zS(i){var s=Be(i);s!==null&&s.tag===5&&s.type==="form"?Xp(s):_s.r(i)}var Il=typeof document>"u"?null:document;function Oy(i,s,c){var g=Il;if(g&&typeof s=="string"&&s){var b=ue(s);b='link[rel="'+i+'"][href="'+b+'"]',typeof c=="string"&&(b+='[crossorigin="'+c+'"]'),My.has(b)||(My.add(b),i={rel:i,crossOrigin:c,href:s},g.querySelector(b)===null&&(s=g.createElement("link"),gi(s,"link",i),bn(s),g.head.appendChild(s)))}}function VS(i){_s.D(i),Oy("dns-prefetch",i,null)}function HS(i,s){_s.C(i,s),Oy("preconnect",i,s)}function GS(i,s,c){_s.L(i,s,c);var g=Il;if(g&&i&&s){var b='link[rel="preload"][as="'+ue(s)+'"]';s==="image"&&c&&c.imageSrcSet?(b+='[imagesrcset="'+ue(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(b+='[imagesizes="'+ue(c.imageSizes)+'"]')):b+='[href="'+ue(i)+'"]';var S=b;switch(s){case"style":S=Ml(i);break;case"script":S=Ol(i)}Tr.has(S)||(i=T({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:i,as:s},c),Tr.set(S,i),g.querySelector(b)!==null||s==="style"&&g.querySelector(Kc(S))||s==="script"&&g.querySelector(Wc(S))||(s=g.createElement("link"),gi(s,"link",i),bn(s),g.head.appendChild(s)))}}function jS(i,s){_s.m(i,s);var c=Il;if(c&&i){var g=s&&typeof s.as=="string"?s.as:"script",b='link[rel="modulepreload"][as="'+ue(g)+'"][href="'+ue(i)+'"]',S=b;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Ol(i)}if(!Tr.has(S)&&(i=T({rel:"modulepreload",href:i},s),Tr.set(S,i),c.querySelector(b)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Wc(S)))return}g=c.createElement("link"),gi(g,"link",i),bn(g),c.head.appendChild(g)}}}function YS(i,s,c){_s.S(i,s,c);var g=Il;if(g&&i){var b=Ei(g).hoistableStyles,S=Ml(i);s=s||"default";var M=b.get(S);if(!M){var _={loading:0,preload:null};if(M=g.querySelector(Kc(S)))_.loading=5;else{i=T({rel:"stylesheet",href:i,"data-precedence":s},c),(c=Tr.get(S))&&t1(i,c);var V=M=g.createElement("link");bn(V),gi(V,"link",i),V._p=new Promise(function(st,mt){V.onload=st,V.onerror=mt}),V.addEventListener("load",function(){_.loading|=1}),V.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Wf(M,s,g)}M={type:"stylesheet",instance:M,count:1,state:_},b.set(S,M)}}}function XS(i,s){_s.X(i,s);var c=Il;if(c&&i){var g=Ei(c).hoistableScripts,b=Ol(i),S=g.get(b);S||(S=c.querySelector(Wc(b)),S||(i=T({src:i,async:!0},s),(s=Tr.get(b))&&e1(i,s),S=c.createElement("script"),bn(S),gi(S,"link",i),c.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(b,S))}}function QS(i,s){_s.M(i,s);var c=Il;if(c&&i){var g=Ei(c).hoistableScripts,b=Ol(i),S=g.get(b);S||(S=c.querySelector(Wc(b)),S||(i=T({src:i,async:!0,type:"module"},s),(s=Tr.get(b))&&e1(i,s),S=c.createElement("script"),bn(S),gi(S,"link",i),c.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(b,S))}}function Ry(i,s,c,g){var b=(b=Ct.current)?Kf(b):null;if(!b)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Ml(c.href),c=Ei(b).hoistableStyles,g=c.get(s),g||(g={type:"style",instance:null,count:0,state:null},c.set(s,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Ml(c.href);var S=Ei(b).hoistableStyles,M=S.get(i);if(M||(b=b.ownerDocument||b,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(i,M),(S=b.querySelector(Kc(i)))&&!S._p&&(M.instance=S,M.state.loading=5),Tr.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Tr.set(i,c),S||ZS(b,i,c,M.state))),s&&g===null)throw Error(a(528,""));return M}if(s&&g!==null)throw Error(a(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ol(c),c=Ei(b).hoistableScripts,g=c.get(s),g||(g={type:"script",instance:null,count:0,state:null},c.set(s,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function Ml(i){return'href="'+ue(i)+'"'}function Kc(i){return'link[rel="stylesheet"]['+i+"]"}function Dy(i){return T({},i,{"data-precedence":i.precedence,precedence:null})}function ZS(i,s,c,g){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?g.loading=1:(s=i.createElement("link"),g.preload=s,s.addEventListener("load",function(){return g.loading|=1}),s.addEventListener("error",function(){return g.loading|=2}),gi(s,"link",c),bn(s),i.head.appendChild(s))}function Ol(i){return'[src="'+ue(i)+'"]'}function Wc(i){return"script[async]"+i}function By(i,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var g=i.querySelector('style[data-href~="'+ue(c.href)+'"]');if(g)return s.instance=g,bn(g),g;var b=T({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return g=(i.ownerDocument||i).createElement("style"),bn(g),gi(g,"style",b),Wf(g,c.precedence,i),s.instance=g;case"stylesheet":b=Ml(c.href);var S=i.querySelector(Kc(b));if(S)return s.state.loading|=4,s.instance=S,bn(S),S;g=Dy(c),(b=Tr.get(b))&&t1(g,b),S=(i.ownerDocument||i).createElement("link"),bn(S);var M=S;return M._p=new Promise(function(_,V){M.onload=_,M.onerror=V}),gi(S,"link",g),s.state.loading|=4,Wf(S,c.precedence,i),s.instance=S;case"script":return S=Ol(c.src),(b=i.querySelector(Wc(S)))?(s.instance=b,bn(b),b):(g=c,(b=Tr.get(S))&&(g=T({},c),e1(g,b)),i=i.ownerDocument||i,b=i.createElement("script"),bn(b),gi(b,"link",g),i.head.appendChild(b),s.instance=b);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(g=s.instance,s.state.loading|=4,Wf(g,c.precedence,i));return s.instance}function Wf(i,s,c){for(var g=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=g.length?g[g.length-1]:null,S=b,M=0;M<g.length;M++){var _=g[M];if(_.dataset.precedence===s)S=_;else if(S!==b)break}S?S.parentNode.insertBefore(i,S.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(i,s.firstChild))}function t1(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function e1(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var qf=null;function _y(i,s,c){if(qf===null){var g=new Map,b=qf=new Map;b.set(c,g)}else b=qf,g=b.get(c),g||(g=new Map,b.set(c,g));if(g.has(i))return g;for(g.set(i,null),c=c.getElementsByTagName(i),b=0;b<c.length;b++){var S=c[b];if(!(S[eo]||S[On]||i==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var M=S.getAttribute(s)||"";M=i+M;var _=g.get(M);_?_.push(S):g.set(M,[S])}}return g}function Ly(i,s,c){i=i.ownerDocument||i,i.head.insertBefore(c,s==="title"?i.querySelector("head > title"):null)}function KS(i,s,c){if(c===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Py(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function WS(i,s,c,g){if(c.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var b=Ml(g.href),S=s.querySelector(Kc(b));if(S){s=S._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Jf.bind(i),s.then(i,i)),c.state.loading|=4,c.instance=S,bn(S);return}S=s.ownerDocument||s,g=Dy(g),(b=Tr.get(b))&&t1(g,b),S=S.createElement("link"),bn(S);var M=S;M._p=new Promise(function(_,V){M.onload=_,M.onerror=V}),gi(S,"link",g),c.instance=S}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=Jf.bind(i),s.addEventListener("load",c),s.addEventListener("error",c))}}var n1=0;function qS(i,s){return i.stylesheets&&i.count===0&&th(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var g=setTimeout(function(){if(i.stylesheets&&th(i,i.stylesheets),i.unsuspend){var S=i.unsuspend;i.unsuspend=null,S()}},6e4+s);0<i.imgBytes&&n1===0&&(n1=62500*RS());var b=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&th(i,i.stylesheets),i.unsuspend)){var S=i.unsuspend;i.unsuspend=null,S()}},(i.imgBytes>n1?50:800)+s);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(g),clearTimeout(b)}}:null}function Jf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)th(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var $f=null;function th(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,$f=new Map,s.forEach(JS,i),$f=null,Jf.call(i))}function JS(i,s){if(!(s.state.loading&4)){var c=$f.get(i);if(c)var g=c.get(null);else{c=new Map,$f.set(i,c);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<b.length;S++){var M=b[S];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(c.set(M.dataset.precedence,M),g=M)}g&&c.set(null,g)}b=s.instance,M=b.getAttribute("data-precedence"),S=c.get(M)||g,S===g&&c.set(null,b),c.set(M,b),this.count++,g=Jf.bind(this),b.addEventListener("load",g),b.addEventListener("error",g),S?S.parentNode.insertBefore(b,S.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),s.state.loading|=4}}var qc={$$typeof:z,Provider:null,Consumer:null,_currentValue:Et,_currentValue2:Et,_threadCount:0};function $S(i,s,c,g,b,S,M,_,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wr(0),this.hiddenUpdates=Wr(null),this.identifierPrefix=g,this.onUncaughtError=b,this.onCaughtError=S,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function Uy(i,s,c,g,b,S,M,_,V,st,mt,yt){return i=new $S(i,s,c,M,V,st,mt,yt,_),s=1,S===!0&&(s|=24),S=tr(3,null,null,s),i.current=S,S.stateNode=i,s=L0(),s.refCount++,i.pooledCache=s,s.refCount++,S.memoizedState={element:g,isDehydrated:c,cache:s},F0(S),i}function ky(i){return i?(i=ol,i):ol}function Fy(i,s,c,g,b,S){b=ky(b),g.context===null?g.context=b:g.pendingContext=b,g=xa(s),g.payload={element:c},S=S===void 0?null:S,S!==null&&(g.callback=S),c=Aa(i,g,s),c!==null&&(Gi(c,i,s),Mc(c,i,s))}function zy(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<s?c:s}}function i1(i,s){zy(i,s),(i=i.alternate)&&zy(i,s)}function Vy(i){if(i.tag===13||i.tag===31){var s=uo(i,67108864);s!==null&&Gi(s,i,67108864),i1(i,67108864)}}function Hy(i){if(i.tag===13||i.tag===31){var s=sr();s=ii(s);var c=uo(i,s);c!==null&&Gi(c,i,s),i1(i,s)}}var eh=!0;function t4(i,s,c,g){var b=Q.T;Q.T=null;var S=tt.p;try{tt.p=2,r1(i,s,c,g)}finally{tt.p=S,Q.T=b}}function e4(i,s,c,g){var b=Q.T;Q.T=null;var S=tt.p;try{tt.p=8,r1(i,s,c,g)}finally{tt.p=S,Q.T=b}}function r1(i,s,c,g){if(eh){var b=s1(g);if(b===null)jd(i,s,g,nh,c),jy(i,g);else if(i4(b,i,s,c,g))g.stopPropagation();else if(jy(i,g),s&4&&-1<n4.indexOf(i)){for(;b!==null;){var S=Be(b);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var M=Kr(S.pendingLanes);if(M!==0){var _=S;for(_.pendingLanes|=2,_.entangledLanes|=2;M;){var V=1<<31-se(M);_.entanglements[1]|=V,M&=~V}as(S),(Le&6)===0&&(kf=mn()+500,Yc(0))}}break;case 31:case 13:_=uo(S,2),_!==null&&Gi(_,S,2),zf(),i1(S,2)}if(S=s1(g),S===null&&jd(i,s,g,nh,c),S===b)break;b=S}b!==null&&g.stopPropagation()}else jd(i,s,g,null,c)}}function s1(i){return i=gc(i),a1(i)}var nh=null;function a1(i){if(nh=null,i=wn(i),i!==null){var s=h(i);if(s===null)i=null;else{var c=s.tag;if(c===13){if(i=p(s),i!==null)return i;i=null}else if(c===31){if(i=w(s),i!==null)return i;i=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return nh=i,null}function Gy(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lc()){case _i:return 2;case cc:return 8;case Qi:case li:return 32;case uc:return 268435456;default:return 32}default:return 32}}var o1=!1,Oa=null,Ra=null,Da=null,Jc=new Map,$c=new Map,Ba=[],n4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jy(i,s){switch(i){case"focusin":case"focusout":Oa=null;break;case"dragenter":case"dragleave":Ra=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":Jc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":$c.delete(s.pointerId)}}function tu(i,s,c,g,b,S){return i===null||i.nativeEvent!==S?(i={blockedOn:s,domEventName:c,eventSystemFlags:g,nativeEvent:S,targetContainers:[b]},s!==null&&(s=Be(s),s!==null&&Vy(s)),i):(i.eventSystemFlags|=g,s=i.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),i)}function i4(i,s,c,g,b){switch(s){case"focusin":return Oa=tu(Oa,i,s,c,g,b),!0;case"dragenter":return Ra=tu(Ra,i,s,c,g,b),!0;case"mouseover":return Da=tu(Da,i,s,c,g,b),!0;case"pointerover":var S=b.pointerId;return Jc.set(S,tu(Jc.get(S)||null,i,s,c,g,b)),!0;case"gotpointercapture":return S=b.pointerId,$c.set(S,tu($c.get(S)||null,i,s,c,g,b)),!0}return!1}function Yy(i){var s=wn(i.target);if(s!==null){var c=h(s);if(c!==null){if(s=c.tag,s===13){if(s=p(c),s!==null){i.blockedOn=s,Bt(i.priority,function(){Hy(c)});return}}else if(s===31){if(s=w(c),s!==null){i.blockedOn=s,Bt(i.priority,function(){Hy(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ih(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var c=s1(i.nativeEvent);if(c===null){c=i.nativeEvent;var g=new c.constructor(c.type,c);no=g,c.target.dispatchEvent(g),no=null}else return s=Be(c),s!==null&&Vy(s),i.blockedOn=c,!1;s.shift()}return!0}function Xy(i,s,c){ih(i)&&c.delete(s)}function r4(){o1=!1,Oa!==null&&ih(Oa)&&(Oa=null),Ra!==null&&ih(Ra)&&(Ra=null),Da!==null&&ih(Da)&&(Da=null),Jc.forEach(Xy),$c.forEach(Xy)}function rh(i,s){i.blockedOn===s&&(i.blockedOn=null,o1||(o1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,r4)))}var sh=null;function Qy(i){sh!==i&&(sh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){sh===i&&(sh=null);for(var s=0;s<i.length;s+=3){var c=i[s],g=i[s+1],b=i[s+2];if(typeof g!="function"){if(a1(g||c)===null)continue;break}var S=Be(c);S!==null&&(i.splice(s,3),s-=3,sd(S,{pending:!0,data:b,method:c.method,action:g},g,b))}}))}function Rl(i){function s(V){return rh(V,i)}Oa!==null&&rh(Oa,i),Ra!==null&&rh(Ra,i),Da!==null&&rh(Da,i),Jc.forEach(s),$c.forEach(s);for(var c=0;c<Ba.length;c++){var g=Ba[c];g.blockedOn===i&&(g.blockedOn=null)}for(;0<Ba.length&&(c=Ba[0],c.blockedOn===null);)Yy(c),c.blockedOn===null&&Ba.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(g=0;g<c.length;g+=3){var b=c[g],S=c[g+1],M=b[Ve]||null;if(typeof S=="function")M||Qy(c);else if(M){var _=null;if(S&&S.hasAttribute("formAction")){if(b=S,M=S[Ve]||null)_=M.formAction;else if(a1(b)!==null)continue}else _=M.action;typeof _=="function"?c[g+1]=_:(c.splice(g,3),g-=3),Qy(c)}}}function Zy(){function i(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(M){return b=M})},focusReset:"manual",scroll:"manual"})}function s(){b!==null&&(b(),b=null),g||setTimeout(c,20)}function c(){if(!g&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,b=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){g=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),b!==null&&(b(),b=null)}}}function l1(i){this._internalRoot=i}ah.prototype.render=l1.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(a(409));var c=s.current,g=sr();Fy(c,g,i,s,null,null)},ah.prototype.unmount=l1.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Fy(i.current,2,null,i,null,null),zf(),s[Zi]=null}};function ah(i){this._internalRoot=i}ah.prototype.unstable_scheduleHydration=function(i){if(i){var s=wi();i={blockedOn:null,target:i,priority:s};for(var c=0;c<Ba.length&&s!==0&&s<Ba[c].priority;c++);Ba.splice(c,0,i),c===0&&Yy(i)}};var Ky=t.version;if(Ky!=="19.2.3")throw Error(a(527,Ky,"19.2.3"));tt.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=y(s),i=i!==null?C(i):null,i=i===null?null:i.stateNode,i};var s4={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{tn=oh.inject(s4),Tt=oh}catch{}}return nu.createRoot=function(i,s){if(!u(i))throw Error(a(299));var c=!1,g="",b=n2,S=i2,M=r2;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(M=s.onRecoverableError)),s=Uy(i,1,!1,null,null,c,g,null,b,S,M,Zy),i[Zi]=s.current,Gd(i),new l1(s)},nu.hydrateRoot=function(i,s,c){if(!u(i))throw Error(a(299));var g=!1,b="",S=n2,M=i2,_=r2,V=null;return c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(S=c.onUncaughtError),c.onCaughtError!==void 0&&(M=c.onCaughtError),c.onRecoverableError!==void 0&&(_=c.onRecoverableError),c.formState!==void 0&&(V=c.formState)),s=Uy(i,1,!0,s,c??null,g,b,V,S,M,_,Zy),s.context=ky(null),c=s.current,g=sr(),g=ii(g),b=xa(g),b.callback=null,Aa(c,b,g),c=g,s.current.lanes=c,qr(s,c),as(s),i[Zi]=s.current,Gd(i),new ah(s)},nu.version="19.2.3",nu}var sx;function p4(){if(sx)return f1.exports;sx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),f1.exports=m4(),f1.exports}var y4=p4();const x4="6.16.0";function A4(n,t,e){const a=t.split("|").map(h=>h.trim());for(let h=0;h<a.length;h++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof n===t)return}const u=new Error(`invalid value for type ${t}`);throw u.code="INVALID_ARGUMENT",u.argument=`value.${e}`,u.value=n,u}async function Ni(n){const t=Object.keys(n);return(await Promise.all(t.map(a=>Promise.resolve(n[a])))).reduce((a,u,h)=>(a[t[h]]=u,a),{})}function Jt(n,t,e){for(let a in t){let u=t[a];const h=e?e[a]:null;h&&A4(u,h,a),Object.defineProperty(n,a,{enumerable:!0,value:u,writable:!1})}}function _l(n,t){if(n==null)return"null";if(t==null&&(t=new Set),typeof n=="object"){if(t.has(n))return"[Circular]";t.add(n)}if(Array.isArray(n))return"[ "+n.map(e=>_l(e,t)).join(", ")+" ]";if(n instanceof Uint8Array){const e="0123456789abcdef";let a="0x";for(let u=0;u<n.length;u++)a+=e[n[u]>>4],a+=e[n[u]&15];return a}if(typeof n=="object"&&typeof n.toJSON=="function")return _l(n.toJSON(),t);switch(typeof n){case"boolean":case"number":case"symbol":return n.toString();case"bigint":return BigInt(n).toString();case"string":return JSON.stringify(n);case"object":{const e=Object.keys(n);return e.sort(),"{ "+e.map(a=>`${_l(a,t)}: ${_l(n[a],t)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function yi(n,t){return n&&n.code===t}function Yg(n){return yi(n,"CALL_EXCEPTION")}function dn(n,t,e){let a=n;{const h=[];if(e){if("message"in e||"code"in e||"name"in e)throw new Error(`value will overwrite populated values: ${_l(e)}`);for(const p in e){if(p==="shortMessage")continue;const w=e[p];h.push(p+"="+_l(w))}}h.push(`code=${t}`),h.push(`version=${x4}`),h.length&&(n+=" ("+h.join(", ")+")")}let u;switch(t){case"INVALID_ARGUMENT":u=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":u=new RangeError(n);break;default:u=new Error(n)}return Jt(u,{code:t}),e&&Object.assign(u,e),u.shortMessage==null&&Jt(u,{shortMessage:a}),u}function wt(n,t,e,a){if(!n)throw dn(t,e,a)}function W(n,t,e,a){wt(n,t,"INVALID_ARGUMENT",{argument:e,value:a})}function qw(n,t,e){e==null&&(e=""),e&&(e=": "+e),wt(n>=t,"missing argument"+e,"MISSING_ARGUMENT",{count:n,expectedCount:t}),wt(n<=t,"too many arguments"+e,"UNEXPECTED_ARGUMENT",{count:n,expectedCount:t})}["NFD","NFC","NFKD","NFKC"].reduce((n,t)=>{try{if("test".normalize(t)!=="test")throw new Error("bad");if(t==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");n.push(t)}catch{}return n},[]);function Kh(n,t,e){if(e==null&&(e=""),n!==t){let a=e,u="new";e&&(a+=".",u+=" "+e),wt(!1,`private constructor; use ${a}from* methods`,"UNSUPPORTED_OPERATION",{operation:u})}}function Jw(n,t,e){if(n instanceof Uint8Array)return e?new Uint8Array(n):n;if(typeof n=="string"&&n.length%2===0&&n.match(/^0x[0-9a-f]*$/i)){const a=new Uint8Array((n.length-2)/2);let u=2;for(let h=0;h<a.length;h++)a[h]=parseInt(n.substring(u,u+2),16),u+=2;return a}W(!1,"invalid BytesLike value",t||"value",n)}function fe(n,t){return Jw(n,t,!1)}function Ii(n,t){return Jw(n,t,!0)}function nn(n,t){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||typeof t=="number"&&n.length!==2+2*t||t===!0&&n.length%2!==0)}function Xg(n){return nn(n,!0)||n instanceof Uint8Array}const ax="0123456789abcdef";function Dt(n){const t=fe(n);let e="0x";for(let a=0;a<t.length;a++){const u=t[a];e+=ax[(u&240)>>4]+ax[u&15]}return e}function gn(n){return"0x"+n.map(t=>Dt(t).substring(2)).join("")}function Hl(n){return nn(n,!0)?(n.length-2)/2:fe(n).length}function Nn(n,t,e){const a=fe(n);return e!=null&&e>a.length&&wt(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:a,length:a.length,offset:e}),Dt(a.slice(t??0,e??a.length))}function $w(n,t,e){const a=fe(n);wt(t>=a.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(a),length:t,offset:t+1});const u=new Uint8Array(t);return u.fill(0),e?u.set(a,t-a.length):u.set(a,0),Dt(u)}function Xs(n,t){return $w(n,t,!0)}function w4(n,t){return $w(n,t,!1)}const Du=BigInt(0),Qr=BigInt(1),Ll=9007199254740991;function b4(n,t){const e=Wh(n,"value"),a=BigInt(he(t,"width"));if(wt(e>>a===Du,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:n}),e>>a-Qr){const u=(Qr<<a)-Qr;return-((~e&u)+Qr)}return e}function tb(n,t){let e=Vt(n,"value");const a=BigInt(he(t,"width")),u=Qr<<a-Qr;if(e<Du){e=-e,wt(e<=u,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});const h=(Qr<<a)-Qr;return(~e&h)+Qr}else wt(e<u,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});return e}function au(n,t){const e=Wh(n,"value"),a=BigInt(he(t,"bits"));return e&(Qr<<a)-Qr}function Vt(n,t){switch(typeof n){case"bigint":return n;case"number":return W(Number.isInteger(n),"underflow",t||"value",n),W(n>=-Ll&&n<=Ll,"overflow",t||"value",n),BigInt(n);case"string":try{if(n==="")throw new Error("empty string");return n[0]==="-"&&n[1]!=="-"?-BigInt(n.substring(1)):BigInt(n)}catch(e){W(!1,`invalid BigNumberish string: ${e.message}`,t||"value",n)}}W(!1,"invalid BigNumberish value",t||"value",n)}function Wh(n,t){const e=Vt(n,t);return wt(e>=Du,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:n}),e}const ox="0123456789abcdef";function Qg(n){if(n instanceof Uint8Array){let t="0x0";for(const e of n)t+=ox[e>>4],t+=ox[e&15];return BigInt(t)}return Vt(n)}function he(n,t){switch(typeof n){case"bigint":return W(n>=-Ll&&n<=Ll,"overflow",t||"value",n),Number(n);case"number":return W(Number.isInteger(n),"underflow",t||"value",n),W(n>=-Ll&&n<=Ll,"overflow",t||"value",n),n;case"string":try{if(n==="")throw new Error("empty string");return he(BigInt(n),t)}catch(e){W(!1,`invalid numeric string: ${e.message}`,t||"value",n)}}W(!1,"invalid numeric value",t||"value",n)}function E4(n){return he(Qg(n))}function Ya(n,t){const e=Wh(n,"value");let a=e.toString(16);if(t==null)a.length%2&&(a="0"+a);else{const u=he(t,"width");if(u===0&&e===Du)return"0x";for(wt(u*2>=a.length,`value exceeds width (${u} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:n});a.length<u*2;)a="0"+a}return"0x"+a}function Yn(n,t){const e=Wh(n,"value");if(e===Du)return new Uint8Array(0);let a=e.toString(16);a.length%2&&(a="0"+a);const u=new Uint8Array(a.length/2);for(let h=0;h<u.length;h++){const p=h*2;u[h]=parseInt(a.substring(p,p+2),16)}return u}function Xr(n){let t=Dt(Xg(n)?n:Yn(n)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return t===""&&(t="0"),"0x"+t}const lx="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const cx=BigInt(58);function C4(n){const t=fe(n);let e=Qg(t),a="";for(;e;)a=lx[Number(e%cx)]+a,e/=cx;for(let u=0;u<t.length&&!t[u];u++)a=lx[0]+a;return a}function S4(n){n=atob(n);const t=new Uint8Array(n.length);for(let e=0;e<n.length;e++)t[e]=n.charCodeAt(e);return fe(t)}function T4(n){const t=fe(n);let e="";for(let a=0;a<t.length;a++)e+=String.fromCharCode(t[a]);return btoa(e)}class eb{filter;emitter;#t;constructor(t,e,a){this.#t=e,Jt(this,{emitter:t,filter:a})}async removeListener(){this.#t!=null&&await this.emitter.off(this.filter,this.#t)}}function v4(n,t,e,a,u){W(!1,`invalid codepoint at offset ${t}; ${n}`,"bytes",e)}function nb(n,t,e,a,u){if(n==="BAD_PREFIX"||n==="UNEXPECTED_CONTINUE"){let h=0;for(let p=t+1;p<e.length&&e[p]>>6===2;p++)h++;return h}return n==="OVERRUN"?e.length-t-1:0}function N4(n,t,e,a,u){return n==="OVERLONG"?(W(typeof u=="number","invalid bad code point for replacement","badCodepoint",u),a.push(u),0):(a.push(65533),nb(n,t,e))}const I4=Object.freeze({error:v4,ignore:nb,replace:N4});function M4(n,t){t==null&&(t=I4.error);const e=fe(n,"bytes"),a=[];let u=0;for(;u<e.length;){const h=e[u++];if(h>>7===0){a.push(h);continue}let p=null,w=null;if((h&224)===192)p=1,w=127;else if((h&240)===224)p=2,w=2047;else if((h&248)===240)p=3,w=65535;else{(h&192)===128?u+=t("UNEXPECTED_CONTINUE",u-1,e,a):u+=t("BAD_PREFIX",u-1,e,a);continue}if(u-1+p>=e.length){u+=t("OVERRUN",u-1,e,a);continue}let A=h&(1<<8-p-1)-1;for(let y=0;y<p;y++){let C=e[u];if((C&192)!=128){u+=t("MISSING_CONTINUE",u,e,a),A=null;break}A=A<<6|C&63,u++}if(A!==null){if(A>1114111){u+=t("OUT_OF_RANGE",u-1-p,e,a,A);continue}if(A>=55296&&A<=57343){u+=t("UTF16_SURROGATE",u-1-p,e,a,A);continue}if(A<=w){u+=t("OVERLONG",u-1-p,e,a,A);continue}a.push(A)}}return a}function Hs(n,t){W(typeof n=="string","invalid string value","str",n);let e=[];for(let a=0;a<n.length;a++){const u=n.charCodeAt(a);if(u<128)e.push(u);else if(u<2048)e.push(u>>6|192),e.push(u&63|128);else if((u&64512)==55296){a++;const h=n.charCodeAt(a);W(a<n.length&&(h&64512)===56320,"invalid surrogate pair","str",n);const p=65536+((u&1023)<<10)+(h&1023);e.push(p>>18|240),e.push(p>>12&63|128),e.push(p>>6&63|128),e.push(p&63|128)}else e.push(u>>12|224),e.push(u>>6&63|128),e.push(u&63|128)}return new Uint8Array(e)}function O4(n){return n.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("")}function Rh(n,t){return O4(M4(n,t))}function ib(n){async function t(e,a){wt(a==null||!a.cancelled,"request cancelled before sending","CANCELLED");const u=e.url.split(":")[0].toLowerCase();wt(u==="http"||u==="https",`unsupported protocol ${u}`,"UNSUPPORTED_OPERATION",{info:{protocol:u},operation:"request"}),wt(u==="https"||!e.credentials||e.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let h=null;const p=new AbortController,w=setTimeout(()=>{h=dn("request timeout","TIMEOUT"),p.abort()},e.timeout);a&&a.addListener(()=>{h=dn("request cancelled","CANCELLED"),p.abort()});const A=Object.assign({},n,{method:e.method,headers:new Headers(Array.from(e)),body:e.body||void 0,signal:p.signal});let y;try{y=await fetch(e.url,A)}catch(D){throw clearTimeout(w),h||D}clearTimeout(w);const C={};y.headers.forEach((D,P)=>{C[P.toLowerCase()]=D});const T=await y.arrayBuffer(),I=T==null?null:new Uint8Array(T);return{statusCode:y.status,statusMessage:y.statusText,headers:C,body:I}}return t}const R4=12,D4=250;let ux=ib();const B4=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),_4=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let m1=!1;async function rb(n,t){try{const e=n.match(B4);if(!e)throw new Error("invalid data");return new ja(200,"OK",{"content-type":e[1]||"text/plain"},e[2]?S4(e[3]):P4(e[3]))}catch{return new ja(599,"BAD REQUEST (invalid data: URI)",{},null,new Qs(n))}}function sb(n){async function t(e,a){try{const u=e.match(_4);if(!u)throw new Error("invalid link");return new Qs(`${n}${u[2]}`)}catch{return new ja(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Qs(e))}}return t}const ch={data:rb,ipfs:sb("https://gateway.ipfs.io/ipfs/")},ab=new WeakMap;class L4{#t;#e;constructor(t){this.#t=[],this.#e=!1,ab.set(t,()=>{if(!this.#e){this.#e=!0;for(const e of this.#t)setTimeout(()=>{e()},0);this.#t=[]}})}addListener(t){wt(!this.#e,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#t.push(t)}get cancelled(){return this.#e}checkSignal(){wt(!this.cancelled,"cancelled","CANCELLED",{})}}function uh(n){if(n==null)throw new Error("missing signal; should not happen");return n.checkSignal(),n}class Qs{#t;#e;#n;#i;#r;#a;#s;#o;#d;#c;#g;#m;#l;#u;#f;get url(){return this.#a}set url(t){this.#a=String(t)}get body(){return this.#s==null?null:new Uint8Array(this.#s)}set body(t){if(t==null)this.#s=void 0,this.#o=void 0;else if(typeof t=="string")this.#s=Hs(t),this.#o="text/plain";else if(t instanceof Uint8Array)this.#s=t,this.#o="application/octet-stream";else if(typeof t=="object")this.#s=Hs(JSON.stringify(t)),this.#o="application/json";else throw new Error("invalid body")}hasBody(){return this.#s!=null}get method(){return this.#i?this.#i:this.hasBody()?"POST":"GET"}set method(t){t==null&&(t=""),this.#i=String(t).toUpperCase()}get headers(){const t=Object.assign({},this.#n);return this.#d&&(t.authorization=`Basic ${T4(Hs(this.#d))}`),this.allowGzip&&(t["accept-encoding"]="gzip"),t["content-type"]==null&&this.#o&&(t["content-type"]=this.#o),this.body&&(t["content-length"]=String(this.body.length)),t}getHeader(t){return this.headers[t.toLowerCase()]}setHeader(t,e){this.#n[String(t).toLowerCase()]=String(e)}clearHeaders(){this.#n={}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let a=0;return{next:()=>{if(a<e.length){const u=e[a++];return{value:[u,t[u]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#d||null}setCredentials(t,e){W(!t.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#d=`${t}:${e}`}get allowGzip(){return this.#e}set allowGzip(t){this.#e=!!t}get allowInsecureAuthentication(){return!!this.#t}set allowInsecureAuthentication(t){this.#t=!!t}get timeout(){return this.#r}set timeout(t){W(t>=0,"timeout must be non-zero","timeout",t),this.#r=t}get preflightFunc(){return this.#c||null}set preflightFunc(t){this.#c=t}get processFunc(){return this.#g||null}set processFunc(t){this.#g=t}get retryFunc(){return this.#m||null}set retryFunc(t){this.#m=t}get getUrlFunc(){return this.#f||ux}set getUrlFunc(t){this.#f=t}constructor(t){this.#a=String(t),this.#t=!1,this.#e=!0,this.#n={},this.#i="",this.#r=3e5,this.#u={slotInterval:D4,maxAttempts:R4},this.#f=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#s?Dt(this.#s):"null"}>`}setThrottleParams(t){t.slotInterval!=null&&(this.#u.slotInterval=t.slotInterval),t.maxAttempts!=null&&(this.#u.maxAttempts=t.maxAttempts)}async#h(t,e,a,u,h){if(t>=this.#u.maxAttempts)return h.makeServerError("exceeded maximum retry limit");wt(fx()<=e,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:u}),a>0&&await U4(a);let p=this.clone();const w=(p.url.split(":")[0]||"").toLowerCase();if(w in ch){const C=await ch[w](p.url,uh(u.#l));if(C instanceof ja){let T=C;if(this.processFunc){uh(u.#l);try{T=await this.processFunc(p,T)}catch(I){(I.throttle==null||typeof I.stall!="number")&&T.makeServerError("error in post-processing function",I).assertOk()}}return T}p=C}this.preflightFunc&&(p=await this.preflightFunc(p));const A=await this.getUrlFunc(p,uh(u.#l));let y=new ja(A.statusCode,A.statusMessage,A.headers,A.body,u);if(y.statusCode===301||y.statusCode===302){try{const C=y.headers.location||"";return p.redirect(C).#h(t+1,e,0,u,y)}catch{}return y}else if(y.statusCode===429&&(this.retryFunc==null||await this.retryFunc(p,y,t))){const C=y.headers["retry-after"];let T=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return typeof C=="string"&&C.match(/^[1-9][0-9]*$/)&&(T=parseInt(C)),p.clone().#h(t+1,e,T,u,y)}if(this.processFunc){uh(u.#l);try{y=await this.processFunc(p,y)}catch(C){(C.throttle==null||typeof C.stall!="number")&&y.makeServerError("error in post-processing function",C).assertOk();let T=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return C.stall>=0&&(T=C.stall),p.clone().#h(t+1,e,T,u,y)}}return y}send(){return wt(this.#l==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#l=new L4(this),this.#h(0,fx()+this.timeout,0,this,new ja(0,"",{},null,this))}cancel(){wt(this.#l!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const t=ab.get(this);if(!t)throw new Error("missing signal; should not happen");t()}redirect(t){const e=this.url.split(":")[0].toLowerCase(),a=t.split(":")[0].toLowerCase();wt(this.method==="GET"&&(e!=="https"||a!=="http")&&t.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(t)})`});const u=new Qs(t);return u.method="GET",u.allowGzip=this.allowGzip,u.timeout=this.timeout,u.#n=Object.assign({},this.#n),this.#s&&(u.#s=new Uint8Array(this.#s)),u.#o=this.#o,u}clone(){const t=new Qs(this.url);return t.#i=this.#i,this.#s&&(t.#s=this.#s),t.#o=this.#o,t.#n=Object.assign({},this.#n),t.#d=this.#d,this.allowGzip&&(t.allowGzip=!0),t.timeout=this.timeout,this.allowInsecureAuthentication&&(t.allowInsecureAuthentication=!0),t.#c=this.#c,t.#g=this.#g,t.#m=this.#m,t.#u=Object.assign({},this.#u),t.#f=this.#f,t}static lockConfig(){m1=!0}static getGateway(t){return ch[t.toLowerCase()]||null}static registerGateway(t,e){if(t=t.toLowerCase(),t==="http"||t==="https")throw new Error(`cannot intercept ${t}; use registerGetUrl`);if(m1)throw new Error("gateways locked");ch[t]=e}static registerGetUrl(t){if(m1)throw new Error("gateways locked");ux=t}static createGetUrlFunc(t){return ib(t)}static createDataGateway(){return rb}static createIpfsGatewayFunc(t){return sb(t)}}class ja{#t;#e;#n;#i;#r;#a;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#i?Dt(this.#i):"null"}>`}get statusCode(){return this.#t}get statusMessage(){return this.#e}get headers(){return Object.assign({},this.#n)}get body(){return this.#i==null?null:new Uint8Array(this.#i)}get bodyText(){try{return this.#i==null?"":Rh(this.#i)}catch{wt(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{wt(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let a=0;return{next:()=>{if(a<e.length){const u=e[a++];return{value:[u,t[u]],done:!1}}return{value:void 0,done:!0}}}}constructor(t,e,a,u,h){this.#t=t,this.#e=e,this.#n=Object.keys(a).reduce((p,w)=>(p[w.toLowerCase()]=String(a[w]),p),{}),this.#i=u==null?null:new Uint8Array(u),this.#r=h||null,this.#a={message:""}}makeServerError(t,e){let a;t?a=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${t})`:(t=`${this.statusCode} ${this.statusMessage}`,a=`CLIENT ESCALATED SERVER ERROR (${t})`);const u=new ja(599,a,this.headers,this.body,this.#r||void 0);return u.#a={message:t,error:e},u}throwThrottleError(t,e){e==null?e=-1:W(Number.isInteger(e)&&e>=0,"invalid stall timeout","stall",e);const a=new Error(t||"throttling requests");throw Jt(a,{stall:e,throttle:!0}),a}getHeader(t){return this.headers[t.toLowerCase()]}hasBody(){return this.#i!=null}get request(){return this.#r}ok(){return this.#a.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:t,error:e}=this.#a;t===""&&(t=`server response ${this.statusCode} ${this.statusMessage}`);let a=null;this.request&&(a=this.request.url);let u=null;try{this.#i&&(u=Rh(this.#i))}catch{}wt(!1,t,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:e,info:{requestUrl:a,responseBody:u,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function fx(){return new Date().getTime()}function P4(n){return Hs(n.replace(/%([0-9a-f][0-9a-f])/gi,(t,e)=>String.fromCharCode(parseInt(e,16))))}function U4(n){return new Promise(t=>setTimeout(t,n))}function k4(n){let t=n.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function hx(n,t,e){let a=0;for(let u=0;u<e;u++)a=a*256+n[t+u];return a}function dx(n,t,e,a){const u=[];for(;e<t+1+a;){const h=ob(n,e);u.push(h.result),e+=h.consumed,wt(e<=t+1+a,"child data too short","BUFFER_OVERRUN",{buffer:n,length:a,offset:t})}return{consumed:1+a,result:u}}function ob(n,t){wt(n.length!==0,"data too short","BUFFER_OVERRUN",{buffer:n,length:0,offset:1});const e=a=>{wt(a<=n.length,"data short segment too short","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:a})};if(n[t]>=248){const a=n[t]-247;e(t+1+a);const u=hx(n,t+1,a);return e(t+1+a+u),dx(n,t,t+1+a,a+u)}else if(n[t]>=192){const a=n[t]-192;return e(t+1+a),dx(n,t,t+1,a)}else if(n[t]>=184){const a=n[t]-183;e(t+1+a);const u=hx(n,t+1,a);e(t+1+a+u);const h=Dt(n.slice(t+1+a,t+1+a+u));return{consumed:1+a+u,result:h}}else if(n[t]>=128){const a=n[t]-128;e(t+1+a);const u=Dt(n.slice(t+1,t+1+a));return{consumed:1+a,result:u}}return{consumed:1,result:k4(n[t])}}function Bu(n){const t=fe(n,"data"),e=ob(t,0);return W(e.consumed===t.length,"unexpected junk after rlp payload","data",n),e.result}function gx(n){const t=[];for(;n;)t.unshift(n&255),n>>=8;return t}function lb(n){if(Array.isArray(n)){let a=[];if(n.forEach(function(h){a=a.concat(lb(h))}),a.length<=55)return a.unshift(192+a.length),a;const u=gx(a.length);return u.unshift(247+u.length),u.concat(a)}const t=Array.prototype.slice.call(fe(n,"object"));if(t.length===1&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const e=gx(t.length);return e.unshift(183+e.length),e.concat(t)}const mx="0123456789abcdef";function Gs(n){let t="0x";for(const e of lb(n))t+=mx[e>>4],t+=mx[e&15];return t}const Mi=32,K1=new Uint8Array(Mi),F4=["then"],fh={},cb=new WeakMap;function Mo(n){return cb.get(n)}function px(n,t){cb.set(n,t)}function iu(n,t){const e=new Error(`deferred error during ABI decoding triggered accessing ${n}`);throw e.error=t,e}function W1(n,t,e){return n.indexOf(null)>=0?t.map((a,u)=>a instanceof Fs?W1(Mo(a),a,e):a):n.reduce((a,u,h)=>{let p=t.getValue(u);return u in a||(e&&p instanceof Fs&&(p=W1(Mo(p),p,e)),a[u]=p),a},{})}class Fs extends Array{#t;constructor(...t){const e=t[0];let a=t[1],u=(t[2]||[]).slice(),h=!0;e!==fh&&(a=t,u=[],h=!1),super(a.length),a.forEach((A,y)=>{this[y]=A});const p=u.reduce((A,y)=>(typeof y=="string"&&A.set(y,(A.get(y)||0)+1),A),new Map);if(px(this,Object.freeze(a.map((A,y)=>{const C=u[y];return C!=null&&p.get(C)===1?C:null}))),this.#t=[],this.#t==null&&this.#t,!h)return;Object.freeze(this);const w=new Proxy(this,{get:(A,y,C)=>{if(typeof y=="string"){if(y.match(/^[0-9]+$/)){const I=he(y,"%index");if(I<0||I>=this.length)throw new RangeError("out of result range");const D=A[I];return D instanceof Error&&iu(`index ${I}`,D),D}if(F4.indexOf(y)>=0)return Reflect.get(A,y,C);const T=A[y];if(T instanceof Function)return function(...I){return T.apply(this===C?A:this,I)};if(!(y in A))return A.getValue.apply(this===C?A:this,[y])}return Reflect.get(A,y,C)}});return px(w,Mo(this)),w}toArray(t){const e=[];return this.forEach((a,u)=>{a instanceof Error&&iu(`index ${u}`,a),t&&a instanceof Fs&&(a=a.toArray(t)),e.push(a)}),e}toObject(t){const e=Mo(this);return e.reduce((a,u,h)=>(wt(u!=null,`value at index ${h} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),W1(e,this,t)),{})}slice(t,e){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),e==null&&(e=this.length),e<0&&(e+=this.length,e<0&&(e=0)),e>this.length&&(e=this.length);const a=Mo(this),u=[],h=[];for(let p=t;p<e;p++)u.push(this[p]),h.push(a[p]);return new Fs(fh,u,h)}filter(t,e){const a=Mo(this),u=[],h=[];for(let p=0;p<this.length;p++){const w=this[p];w instanceof Error&&iu(`index ${p}`,w),t.call(e,w,p,this)&&(u.push(w),h.push(a[p]))}return new Fs(fh,u,h)}map(t,e){const a=[];for(let u=0;u<this.length;u++){const h=this[u];h instanceof Error&&iu(`index ${u}`,h),a.push(t.call(e,h,u,this))}return a}getValue(t){const e=Mo(this).indexOf(t);if(e===-1)return;const a=this[e];return a instanceof Error&&iu(`property ${JSON.stringify(t)}`,a.error),a}static fromItems(t,e){return new Fs(fh,t,e)}}function yx(n){let t=Yn(n);return wt(t.length<=Mi,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:Mi,offset:t.length}),t.length!==Mi&&(t=Ii(gn([K1.slice(t.length%Mi),t]))),t}class Ws{name;type;localName;dynamic;constructor(t,e,a,u){Jt(this,{name:t,type:e,localName:a,dynamic:u},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,e){W(!1,t,this.localName,e)}}class q1{#t;#e;constructor(){this.#t=[],this.#e=0}get data(){return gn(this.#t)}get length(){return this.#e}#n(t){return this.#t.push(t),this.#e+=t.length,t.length}appendWriter(t){return this.#n(Ii(t.data))}writeBytes(t){let e=Ii(t);const a=e.length%Mi;return a&&(e=Ii(gn([e,K1.slice(a)]))),this.#n(e)}writeValue(t){return this.#n(yx(t))}writeUpdatableValue(){const t=this.#t.length;return this.#t.push(K1),this.#e+=Mi,e=>{this.#t[t]=yx(e)}}}class Zg{allowLoose;#t;#e;#n;#i;#r;constructor(t,e,a){Jt(this,{allowLoose:!!e}),this.#t=Ii(t),this.#n=0,this.#i=null,this.#r=a??1024,this.#e=0}get data(){return Dt(this.#t)}get dataLength(){return this.#t.length}get consumed(){return this.#e}get bytes(){return new Uint8Array(this.#t)}#a(t){if(this.#i)return this.#i.#a(t);this.#n+=t,wt(this.#r<1||this.#n<=this.#r*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#r} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Ii(this.#t),offset:this.#e,length:t,info:{bytesRead:this.#n,dataLength:this.dataLength}})}#s(t,e,a){let u=Math.ceil(e/Mi)*Mi;return this.#e+u>this.#t.length&&(this.allowLoose&&a&&this.#e+e<=this.#t.length?u=e:wt(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Ii(this.#t),length:this.#t.length,offset:this.#e+u})),this.#t.slice(this.#e,this.#e+u)}subReader(t){const e=new Zg(this.#t.slice(this.#e+t),this.allowLoose,this.#r);return e.#i=this,e}readBytes(t,e){let a=this.#s(0,t,!!e);return this.#a(t),this.#e+=a.length,a.slice(0,t)}readValue(){return Qg(this.readBytes(Mi))}readIndex(){return E4(this.readBytes(Mi))}}function Dh(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function Kg(n,...t){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(n.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${n.length}`)}function z4(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Dh(n.outputLen),Dh(n.blockLen)}function Ql(n,t=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(t&&n.finished)throw new Error("Hash#digest() has already been called")}function ub(n,t){Kg(n);const e=t.outputLen;if(n.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}const p1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const fb=n=>n instanceof Uint8Array,V4=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),y1=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),os=(n,t)=>n<<32-t|n>>>t,H4=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!H4)throw new Error("Non little-endian hardware is not supported");function G4(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function qh(n){if(typeof n=="string"&&(n=G4(n)),!fb(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}function j4(...n){const t=new Uint8Array(n.reduce((a,u)=>a+u.length,0));let e=0;return n.forEach(a=>{if(!fb(a))throw new Error("Uint8Array expected");t.set(a,e),e+=a.length}),t}class Wg{clone(){return this._cloneInto()}}function qg(n){const t=a=>n().update(qh(a)).digest(),e=n();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>n(),t}function Y4(n=32){if(p1&&typeof p1.getRandomValues=="function")return p1.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}class hb extends Wg{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,z4(t);const a=qh(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const u=this.blockLen,h=new Uint8Array(u);h.set(a.length>u?t.create().update(a).digest():a);for(let p=0;p<h.length;p++)h[p]^=54;this.iHash.update(h),this.oHash=t.create();for(let p=0;p<h.length;p++)h[p]^=106;this.oHash.update(h),h.fill(0)}update(t){return Ql(this),this.iHash.update(t),this}digestInto(t){Ql(this),Kg(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:a,finished:u,destroyed:h,blockLen:p,outputLen:w}=this;return t=t,t.finished=u,t.destroyed=h,t.blockLen=p,t.outputLen=w,t.oHash=e._cloneInto(t.oHash),t.iHash=a._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const db=(n,t,e)=>new hb(n,t).update(e).digest();db.create=(n,t)=>new hb(n,t);function X4(n,t,e,a){if(typeof n.setBigUint64=="function")return n.setBigUint64(t,e,a);const u=BigInt(32),h=BigInt(4294967295),p=Number(e>>u&h),w=Number(e&h),A=a?4:0,y=a?0:4;n.setUint32(t+A,p,a),n.setUint32(t+y,w,a)}class gb extends Wg{constructor(t,e,a,u){super(),this.blockLen=t,this.outputLen=e,this.padOffset=a,this.isLE=u,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=y1(this.buffer)}update(t){Ql(this);const{view:e,buffer:a,blockLen:u}=this;t=qh(t);const h=t.length;for(let p=0;p<h;){const w=Math.min(u-this.pos,h-p);if(w===u){const A=y1(t);for(;u<=h-p;p+=u)this.process(A,p);continue}a.set(t.subarray(p,p+w),this.pos),this.pos+=w,p+=w,this.pos===u&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ql(this),ub(t,this),this.finished=!0;const{buffer:e,view:a,blockLen:u,isLE:h}=this;let{pos:p}=this;e[p++]=128,this.buffer.subarray(p).fill(0),this.padOffset>u-p&&(this.process(a,0),p=0);for(let T=p;T<u;T++)e[T]=0;X4(a,u-8,BigInt(this.length*8),h),this.process(a,0);const w=y1(t),A=this.outputLen;if(A%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const y=A/4,C=this.get();if(y>C.length)throw new Error("_sha2: outputLen bigger than state");for(let T=0;T<y;T++)w.setUint32(4*T,C[T],h)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const a=t.slice(0,e);return this.destroy(),a}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:a,length:u,finished:h,destroyed:p,pos:w}=this;return t.length=u,t.pos=w,t.finished=h,t.destroyed=p,u%e&&t.buffer.set(a),t}}const Q4=(n,t,e)=>n&t^~n&e,Z4=(n,t,e)=>n&t^n&e^t&e,K4=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),La=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Pa=new Uint32Array(64);class W4 extends gb{constructor(){super(64,32,8,!1),this.A=La[0]|0,this.B=La[1]|0,this.C=La[2]|0,this.D=La[3]|0,this.E=La[4]|0,this.F=La[5]|0,this.G=La[6]|0,this.H=La[7]|0}get(){const{A:t,B:e,C:a,D:u,E:h,F:p,G:w,H:A}=this;return[t,e,a,u,h,p,w,A]}set(t,e,a,u,h,p,w,A){this.A=t|0,this.B=e|0,this.C=a|0,this.D=u|0,this.E=h|0,this.F=p|0,this.G=w|0,this.H=A|0}process(t,e){for(let T=0;T<16;T++,e+=4)Pa[T]=t.getUint32(e,!1);for(let T=16;T<64;T++){const I=Pa[T-15],D=Pa[T-2],P=os(I,7)^os(I,18)^I>>>3,L=os(D,17)^os(D,19)^D>>>10;Pa[T]=L+Pa[T-7]+P+Pa[T-16]|0}let{A:a,B:u,C:h,D:p,E:w,F:A,G:y,H:C}=this;for(let T=0;T<64;T++){const I=os(w,6)^os(w,11)^os(w,25),D=C+I+Q4(w,A,y)+K4[T]+Pa[T]|0,L=(os(a,2)^os(a,13)^os(a,22))+Z4(a,u,h)|0;C=y,y=A,A=w,w=p+D|0,p=h,h=u,u=a,a=D+L|0}a=a+this.A|0,u=u+this.B|0,h=h+this.C|0,p=p+this.D|0,w=w+this.E|0,A=A+this.F|0,y=y+this.G|0,C=C+this.H|0,this.set(a,u,h,p,w,A,y,C)}roundClean(){Pa.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const mb=qg(()=>new W4),hh=BigInt(2**32-1),J1=BigInt(32);function pb(n,t=!1){return t?{h:Number(n&hh),l:Number(n>>J1&hh)}:{h:Number(n>>J1&hh)|0,l:Number(n&hh)|0}}function yb(n,t=!1){let e=new Uint32Array(n.length),a=new Uint32Array(n.length);for(let u=0;u<n.length;u++){const{h,l:p}=pb(n[u],t);[e[u],a[u]]=[h,p]}return[e,a]}const q4=(n,t)=>BigInt(n>>>0)<<J1|BigInt(t>>>0),J4=(n,t,e)=>n>>>e,$4=(n,t,e)=>n<<32-e|t>>>e,tT=(n,t,e)=>n>>>e|t<<32-e,eT=(n,t,e)=>n<<32-e|t>>>e,nT=(n,t,e)=>n<<64-e|t>>>e-32,iT=(n,t,e)=>n>>>e-32|t<<64-e,rT=(n,t)=>t,sT=(n,t)=>n,xb=(n,t,e)=>n<<e|t>>>32-e,Ab=(n,t,e)=>t<<e|n>>>32-e,wb=(n,t,e)=>t<<e-32|n>>>64-e,bb=(n,t,e)=>n<<e-32|t>>>64-e;function aT(n,t,e,a){const u=(t>>>0)+(a>>>0);return{h:n+e+(u/2**32|0)|0,l:u|0}}const oT=(n,t,e)=>(n>>>0)+(t>>>0)+(e>>>0),lT=(n,t,e,a)=>t+e+a+(n/2**32|0)|0,cT=(n,t,e,a)=>(n>>>0)+(t>>>0)+(e>>>0)+(a>>>0),uT=(n,t,e,a,u)=>t+e+a+u+(n/2**32|0)|0,fT=(n,t,e,a,u)=>(n>>>0)+(t>>>0)+(e>>>0)+(a>>>0)+(u>>>0),hT=(n,t,e,a,u,h)=>t+e+a+u+h+(n/2**32|0)|0,ce={fromBig:pb,split:yb,toBig:q4,shrSH:J4,shrSL:$4,rotrSH:tT,rotrSL:eT,rotrBH:nT,rotrBL:iT,rotr32H:rT,rotr32L:sT,rotlSH:xb,rotlSL:Ab,rotlBH:wb,rotlBL:bb,add:aT,add3L:oT,add3H:lT,add4L:cT,add4H:uT,add5H:hT,add5L:fT},[dT,gT]=ce.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),Ua=new Uint32Array(80),ka=new Uint32Array(80);class mT extends gb{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:a,Bl:u,Ch:h,Cl:p,Dh:w,Dl:A,Eh:y,El:C,Fh:T,Fl:I,Gh:D,Gl:P,Hh:L,Hl:F}=this;return[t,e,a,u,h,p,w,A,y,C,T,I,D,P,L,F]}set(t,e,a,u,h,p,w,A,y,C,T,I,D,P,L,F){this.Ah=t|0,this.Al=e|0,this.Bh=a|0,this.Bl=u|0,this.Ch=h|0,this.Cl=p|0,this.Dh=w|0,this.Dl=A|0,this.Eh=y|0,this.El=C|0,this.Fh=T|0,this.Fl=I|0,this.Gh=D|0,this.Gl=P|0,this.Hh=L|0,this.Hl=F|0}process(t,e){for(let z=0;z<16;z++,e+=4)Ua[z]=t.getUint32(e),ka[z]=t.getUint32(e+=4);for(let z=16;z<80;z++){const lt=Ua[z-15]|0,gt=ka[z-15]|0,dt=ce.rotrSH(lt,gt,1)^ce.rotrSH(lt,gt,8)^ce.shrSH(lt,gt,7),K=ce.rotrSL(lt,gt,1)^ce.rotrSL(lt,gt,8)^ce.shrSL(lt,gt,7),it=Ua[z-2]|0,at=ka[z-2]|0,_t=ce.rotrSH(it,at,19)^ce.rotrBH(it,at,61)^ce.shrSH(it,at,6),Ot=ce.rotrSL(it,at,19)^ce.rotrBL(it,at,61)^ce.shrSL(it,at,6),Mt=ce.add4L(K,Ot,ka[z-7],ka[z-16]),jt=ce.add4H(Mt,dt,_t,Ua[z-7],Ua[z-16]);Ua[z]=jt|0,ka[z]=Mt|0}let{Ah:a,Al:u,Bh:h,Bl:p,Ch:w,Cl:A,Dh:y,Dl:C,Eh:T,El:I,Fh:D,Fl:P,Gh:L,Gl:F,Hh:G,Hl:q}=this;for(let z=0;z<80;z++){const lt=ce.rotrSH(T,I,14)^ce.rotrSH(T,I,18)^ce.rotrBH(T,I,41),gt=ce.rotrSL(T,I,14)^ce.rotrSL(T,I,18)^ce.rotrBL(T,I,41),dt=T&D^~T&L,K=I&P^~I&F,it=ce.add5L(q,gt,K,gT[z],ka[z]),at=ce.add5H(it,G,lt,dt,dT[z],Ua[z]),_t=it|0,Ot=ce.rotrSH(a,u,28)^ce.rotrBH(a,u,34)^ce.rotrBH(a,u,39),Mt=ce.rotrSL(a,u,28)^ce.rotrBL(a,u,34)^ce.rotrBL(a,u,39),jt=a&h^a&w^h&w,qt=u&p^u&A^p&A;G=L|0,q=F|0,L=D|0,F=P|0,D=T|0,P=I|0,{h:T,l:I}=ce.add(y|0,C|0,at|0,_t|0),y=w|0,C=A|0,w=h|0,A=p|0,h=a|0,p=u|0;const H=ce.add3L(_t,Mt,qt);a=ce.add3H(H,at,Ot,jt),u=H|0}({h:a,l:u}=ce.add(this.Ah|0,this.Al|0,a|0,u|0)),{h,l:p}=ce.add(this.Bh|0,this.Bl|0,h|0,p|0),{h:w,l:A}=ce.add(this.Ch|0,this.Cl|0,w|0,A|0),{h:y,l:C}=ce.add(this.Dh|0,this.Dl|0,y|0,C|0),{h:T,l:I}=ce.add(this.Eh|0,this.El|0,T|0,I|0),{h:D,l:P}=ce.add(this.Fh|0,this.Fl|0,D|0,P|0),{h:L,l:F}=ce.add(this.Gh|0,this.Gl|0,L|0,F|0),{h:G,l:q}=ce.add(this.Hh|0,this.Hl|0,G|0,q|0),this.set(a,u,h,p,w,A,y,C,T,I,D,P,L,F,G,q)}roundClean(){Ua.fill(0),ka.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const pT=qg(()=>new mT);function yT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const xx=yT();xx.crypto||xx.msCrypto;function xT(n){switch(n){case"sha256":return mb.create();case"sha512":return pT.create()}W(!1,"invalid hashing algorithm name","algorithm",n)}const[Eb,Cb,Sb]=[[],[],[]],AT=BigInt(0),ru=BigInt(1),wT=BigInt(2),bT=BigInt(7),ET=BigInt(256),CT=BigInt(113);for(let n=0,t=ru,e=1,a=0;n<24;n++){[e,a]=[a,(2*e+3*a)%5],Eb.push(2*(5*a+e)),Cb.push((n+1)*(n+2)/2%64);let u=AT;for(let h=0;h<7;h++)t=(t<<ru^(t>>bT)*CT)%ET,t&wT&&(u^=ru<<(ru<<BigInt(h))-ru);Sb.push(u)}const[ST,TT]=yb(Sb,!0),Ax=(n,t,e)=>e>32?wb(n,t,e):xb(n,t,e),wx=(n,t,e)=>e>32?bb(n,t,e):Ab(n,t,e);function vT(n,t=24){const e=new Uint32Array(10);for(let a=24-t;a<24;a++){for(let p=0;p<10;p++)e[p]=n[p]^n[p+10]^n[p+20]^n[p+30]^n[p+40];for(let p=0;p<10;p+=2){const w=(p+8)%10,A=(p+2)%10,y=e[A],C=e[A+1],T=Ax(y,C,1)^e[w],I=wx(y,C,1)^e[w+1];for(let D=0;D<50;D+=10)n[p+D]^=T,n[p+D+1]^=I}let u=n[2],h=n[3];for(let p=0;p<24;p++){const w=Cb[p],A=Ax(u,h,w),y=wx(u,h,w),C=Eb[p];u=n[C],h=n[C+1],n[C]=A,n[C+1]=y}for(let p=0;p<50;p+=10){for(let w=0;w<10;w++)e[w]=n[p+w];for(let w=0;w<10;w++)n[p+w]^=~e[(w+2)%10]&e[(w+4)%10]}n[0]^=ST[a],n[1]^=TT[a]}e.fill(0)}class Jg extends Wg{constructor(t,e,a,u=!1,h=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=a,this.enableXOF=u,this.rounds=h,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Dh(a),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=V4(this.state)}keccak(){vT(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Ql(this);const{blockLen:e,state:a}=this;t=qh(t);const u=t.length;for(let h=0;h<u;){const p=Math.min(e-this.pos,u-h);for(let w=0;w<p;w++)a[this.pos++]^=t[h++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:a,blockLen:u}=this;t[a]^=e,(e&128)!==0&&a===u-1&&this.keccak(),t[u-1]^=128,this.keccak()}writeInto(t){Ql(this,!1),Kg(t),this.finish();const e=this.state,{blockLen:a}=this;for(let u=0,h=t.length;u<h;){this.posOut>=a&&this.keccak();const p=Math.min(a-this.posOut,h-u);t.set(e.subarray(this.posOut,this.posOut+p),u),this.posOut+=p,u+=p}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Dh(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(ub(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:a,outputLen:u,rounds:h,enableXOF:p}=this;return t||(t=new Jg(e,a,u,p,h)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=h,t.suffix=a,t.outputLen=u,t.enableXOF=p,t.destroyed=this.destroyed,t}}const NT=(n,t,e)=>qg(()=>new Jg(t,n,e)),IT=NT(1,136,256/8);let Tb=!1;const vb=function(n){return IT(n)};let Nb=vb;function jn(n){const t=fe(n,"data");return Dt(Nb(t))}jn._=vb;jn.lock=function(){Tb=!0};jn.register=function(n){if(Tb)throw new TypeError("keccak256 is locked");Nb=n};Object.freeze(jn);const Ib=function(n){return xT("sha256").update(n).digest()};let Mb=Ib,Ob=!1;function ic(n){const t=fe(n,"data");return Dt(Mb(t))}ic._=Ib;ic.lock=function(){Ob=!0};ic.register=function(n){if(Ob)throw new Error("sha256 is locked");Mb=n};Object.freeze(ic);Object.freeze(ic);const Rb=BigInt(0),Jh=BigInt(1),MT=BigInt(2),$h=n=>n instanceof Uint8Array,OT=Array.from({length:256},(n,t)=>t.toString(16).padStart(2,"0"));function Zl(n){if(!$h(n))throw new Error("Uint8Array expected");let t="";for(let e=0;e<n.length;e++)t+=OT[n[e]];return t}function Db(n){const t=n.toString(16);return t.length&1?`0${t}`:t}function $g(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function Kl(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const t=n.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const e=new Uint8Array(t/2);for(let a=0;a<e.length;a++){const u=a*2,h=n.slice(u,u+2),p=Number.parseInt(h,16);if(Number.isNaN(p)||p<0)throw new Error("Invalid byte sequence");e[a]=p}return e}function Uo(n){return $g(Zl(n))}function tm(n){if(!$h(n))throw new Error("Uint8Array expected");return $g(Zl(Uint8Array.from(n).reverse()))}function Wl(n,t){return Kl(n.toString(16).padStart(t*2,"0"))}function em(n,t){return Wl(n,t).reverse()}function RT(n){return Kl(Db(n))}function Gr(n,t,e){let a;if(typeof t=="string")try{a=Kl(t)}catch(h){throw new Error(`${n} must be valid hex string, got "${t}". Cause: ${h}`)}else if($h(t))a=Uint8Array.from(t);else throw new Error(`${n} must be hex string or Uint8Array`);const u=a.length;if(typeof e=="number"&&u!==e)throw new Error(`${n} expected ${e} bytes, got ${u}`);return a}function Au(...n){const t=new Uint8Array(n.reduce((a,u)=>a+u.length,0));let e=0;return n.forEach(a=>{if(!$h(a))throw new Error("Uint8Array expected");t.set(a,e),e+=a.length}),t}function DT(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}function BT(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function _T(n){let t;for(t=0;n>Rb;n>>=Jh,t+=1);return t}function LT(n,t){return n>>BigInt(t)&Jh}const PT=(n,t,e)=>n|(e?Jh:Rb)<<BigInt(t),nm=n=>(MT<<BigInt(n-1))-Jh,x1=n=>new Uint8Array(n),bx=n=>Uint8Array.from(n);function Bb(n,t,e){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");let a=x1(n),u=x1(n),h=0;const p=()=>{a.fill(1),u.fill(0),h=0},w=(...T)=>e(u,a,...T),A=(T=x1())=>{u=w(bx([0]),T),a=w(),T.length!==0&&(u=w(bx([1]),T),a=w())},y=()=>{if(h++>=1e3)throw new Error("drbg: tried 1000 values");let T=0;const I=[];for(;T<t;){a=w();const D=a.slice();I.push(D),T+=a.length}return Au(...I)};return(T,I)=>{p(),A(T);let D;for(;!(D=I(y()));)A();return p(),D}}const UT={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||n instanceof Uint8Array,isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,t)=>t.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function _u(n,t,e={}){const a=(u,h,p)=>{const w=UT[h];if(typeof w!="function")throw new Error(`Invalid validator "${h}", expected function`);const A=n[u];if(!(p&&A===void 0)&&!w(A,n))throw new Error(`Invalid param ${String(u)}=${A} (${typeof A}), expected ${h}`)};for(const[u,h]of Object.entries(t))a(u,h,!1);for(const[u,h]of Object.entries(e))a(u,h,!0);return n}const kT=Object.freeze(Object.defineProperty({__proto__:null,bitGet:LT,bitLen:_T,bitMask:nm,bitSet:PT,bytesToHex:Zl,bytesToNumberBE:Uo,bytesToNumberLE:tm,concatBytes:Au,createHmacDrbg:Bb,ensureBytes:Gr,equalBytes:DT,hexToBytes:Kl,hexToNumber:$g,numberToBytesBE:Wl,numberToBytesLE:em,numberToHexUnpadded:Db,numberToVarBytesBE:RT,utf8ToBytes:BT,validateObject:_u},Symbol.toStringTag,{value:"Module"}));const ai=BigInt(0),Pn=BigInt(1),Oo=BigInt(2),FT=BigInt(3),$1=BigInt(4),Ex=BigInt(5),Cx=BigInt(8);BigInt(9);BigInt(16);function ji(n,t){const e=n%t;return e>=ai?e:t+e}function zT(n,t,e){if(e<=ai||t<ai)throw new Error("Expected power/modulo > 0");if(e===Pn)return ai;let a=Pn;for(;t>ai;)t&Pn&&(a=a*n%e),n=n*n%e,t>>=Pn;return a}function vr(n,t,e){let a=n;for(;t-- >ai;)a*=a,a%=e;return a}function tg(n,t){if(n===ai||t<=ai)throw new Error(`invert: expected positive integers, got n=${n} mod=${t}`);let e=ji(n,t),a=t,u=ai,h=Pn;for(;e!==ai;){const w=a/e,A=a%e,y=u-h*w;a=e,e=A,u=h,h=y}if(a!==Pn)throw new Error("invert: does not exist");return ji(u,t)}function VT(n){const t=(n-Pn)/Oo;let e,a,u;for(e=n-Pn,a=0;e%Oo===ai;e/=Oo,a++);for(u=Oo;u<n&&zT(u,t,n)!==n-Pn;u++);if(a===1){const p=(n+Pn)/$1;return function(A,y){const C=A.pow(y,p);if(!A.eql(A.sqr(C),y))throw new Error("Cannot find square root");return C}}const h=(e+Pn)/Oo;return function(w,A){if(w.pow(A,t)===w.neg(w.ONE))throw new Error("Cannot find square root");let y=a,C=w.pow(w.mul(w.ONE,u),e),T=w.pow(A,h),I=w.pow(A,e);for(;!w.eql(I,w.ONE);){if(w.eql(I,w.ZERO))return w.ZERO;let D=1;for(let L=w.sqr(I);D<y&&!w.eql(L,w.ONE);D++)L=w.sqr(L);const P=w.pow(C,Pn<<BigInt(y-D-1));C=w.sqr(P),T=w.mul(T,P),I=w.mul(I,C),y=D}return T}}function HT(n){if(n%$1===FT){const t=(n+Pn)/$1;return function(a,u){const h=a.pow(u,t);if(!a.eql(a.sqr(h),u))throw new Error("Cannot find square root");return h}}if(n%Cx===Ex){const t=(n-Ex)/Cx;return function(a,u){const h=a.mul(u,Oo),p=a.pow(h,t),w=a.mul(u,p),A=a.mul(a.mul(w,Oo),p),y=a.mul(w,a.sub(A,a.ONE));if(!a.eql(a.sqr(y),u))throw new Error("Cannot find square root");return y}}return VT(n)}const GT=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function jT(n){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},e=GT.reduce((a,u)=>(a[u]="function",a),t);return _u(n,e)}function YT(n,t,e){if(e<ai)throw new Error("Expected power > 0");if(e===ai)return n.ONE;if(e===Pn)return t;let a=n.ONE,u=t;for(;e>ai;)e&Pn&&(a=n.mul(a,u)),u=n.sqr(u),e>>=Pn;return a}function XT(n,t){const e=new Array(t.length),a=t.reduce((h,p,w)=>n.is0(p)?h:(e[w]=h,n.mul(h,p)),n.ONE),u=n.inv(a);return t.reduceRight((h,p,w)=>n.is0(p)?h:(e[w]=n.mul(h,e[w]),n.mul(h,p)),u),e}function _b(n,t){const e=t!==void 0?t:n.toString(2).length,a=Math.ceil(e/8);return{nBitLength:e,nByteLength:a}}function QT(n,t,e=!1,a={}){if(n<=ai)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:u,nByteLength:h}=_b(n,t);if(h>2048)throw new Error("Field lengths over 2048 bytes are not supported");const p=HT(n),w=Object.freeze({ORDER:n,BITS:u,BYTES:h,MASK:nm(u),ZERO:ai,ONE:Pn,create:A=>ji(A,n),isValid:A=>{if(typeof A!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof A}`);return ai<=A&&A<n},is0:A=>A===ai,isOdd:A=>(A&Pn)===Pn,neg:A=>ji(-A,n),eql:(A,y)=>A===y,sqr:A=>ji(A*A,n),add:(A,y)=>ji(A+y,n),sub:(A,y)=>ji(A-y,n),mul:(A,y)=>ji(A*y,n),pow:(A,y)=>YT(w,A,y),div:(A,y)=>ji(A*tg(y,n),n),sqrN:A=>A*A,addN:(A,y)=>A+y,subN:(A,y)=>A-y,mulN:(A,y)=>A*y,inv:A=>tg(A,n),sqrt:a.sqrt||(A=>p(w,A)),invertBatch:A=>XT(w,A),cmov:(A,y,C)=>C?y:A,toBytes:A=>e?em(A,h):Wl(A,h),fromBytes:A=>{if(A.length!==h)throw new Error(`Fp.fromBytes: expected ${h}, got ${A.length}`);return e?tm(A):Uo(A)}});return Object.freeze(w)}function Lb(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const t=n.toString(2).length;return Math.ceil(t/8)}function Pb(n){const t=Lb(n);return t+Math.ceil(t/2)}function ZT(n,t,e=!1){const a=n.length,u=Lb(t),h=Pb(t);if(a<16||a<h||a>1024)throw new Error(`expected ${h}-1024 bytes of input, got ${a}`);const p=e?Uo(n):tm(n),w=ji(p,t-Pn)+Pn;return e?em(w,u):Wl(w,u)}const KT=BigInt(0),A1=BigInt(1);function WT(n,t){const e=(u,h)=>{const p=h.negate();return u?p:h},a=u=>{const h=Math.ceil(t/u)+1,p=2**(u-1);return{windows:h,windowSize:p}};return{constTimeNegate:e,unsafeLadder(u,h){let p=n.ZERO,w=u;for(;h>KT;)h&A1&&(p=p.add(w)),w=w.double(),h>>=A1;return p},precomputeWindow(u,h){const{windows:p,windowSize:w}=a(h),A=[];let y=u,C=y;for(let T=0;T<p;T++){C=y,A.push(C);for(let I=1;I<w;I++)C=C.add(y),A.push(C);y=C.double()}return A},wNAF(u,h,p){const{windows:w,windowSize:A}=a(u);let y=n.ZERO,C=n.BASE;const T=BigInt(2**u-1),I=2**u,D=BigInt(u);for(let P=0;P<w;P++){const L=P*A;let F=Number(p&T);p>>=D,F>A&&(F-=I,p+=A1);const G=L,q=L+Math.abs(F)-1,z=P%2!==0,lt=F<0;F===0?C=C.add(e(z,h[G])):y=y.add(e(lt,h[q]))}return{p:y,f:C}},wNAFCached(u,h,p,w){const A=u._WINDOW_SIZE||1;let y=h.get(u);return y||(y=this.precomputeWindow(u,A),A!==1&&h.set(u,w(y))),this.wNAF(A,y,p)}}}function Ub(n){return jT(n.Fp),_u(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({..._b(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}function qT(n){const t=Ub(n);_u(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:e,Fp:a,a:u}=t;if(e){if(!a.eql(u,a.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof e!="object"||typeof e.beta!="bigint"||typeof e.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:JT,hexToBytes:$T}=kT,Do={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(n){const{Err:t}=Do;if(n.length<2||n[0]!==2)throw new t("Invalid signature integer tag");const e=n[1],a=n.subarray(2,e+2);if(!e||a.length!==e)throw new t("Invalid signature integer: wrong length");if(a[0]&128)throw new t("Invalid signature integer: negative");if(a[0]===0&&!(a[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:JT(a),l:n.subarray(e+2)}},toSig(n){const{Err:t}=Do,e=typeof n=="string"?$T(n):n;if(!(e instanceof Uint8Array))throw new Error("ui8a expected");let a=e.length;if(a<2||e[0]!=48)throw new t("Invalid signature tag");if(e[1]!==a-2)throw new t("Invalid signature: incorrect length");const{d:u,l:h}=Do._parseInt(e.subarray(2)),{d:p,l:w}=Do._parseInt(h);if(w.length)throw new t("Invalid signature: left bytes after parsing");return{r:u,s:p}},hexFromSig(n){const t=y=>Number.parseInt(y[0],16)&8?"00"+y:y,e=y=>{const C=y.toString(16);return C.length&1?`0${C}`:C},a=t(e(n.s)),u=t(e(n.r)),h=a.length/2,p=u.length/2,w=e(h),A=e(p);return`30${e(p+h+4)}02${A}${u}02${w}${a}`}},Us=BigInt(0),Ir=BigInt(1);BigInt(2);const Sx=BigInt(3);BigInt(4);function t8(n){const t=qT(n),{Fp:e}=t,a=t.toBytes||((P,L,F)=>{const G=L.toAffine();return Au(Uint8Array.from([4]),e.toBytes(G.x),e.toBytes(G.y))}),u=t.fromBytes||(P=>{const L=P.subarray(1),F=e.fromBytes(L.subarray(0,e.BYTES)),G=e.fromBytes(L.subarray(e.BYTES,2*e.BYTES));return{x:F,y:G}});function h(P){const{a:L,b:F}=t,G=e.sqr(P),q=e.mul(G,P);return e.add(e.add(q,e.mul(P,L)),F)}if(!e.eql(e.sqr(t.Gy),h(t.Gx)))throw new Error("bad generator point: equation left != right");function p(P){return typeof P=="bigint"&&Us<P&&P<t.n}function w(P){if(!p(P))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function A(P){const{allowedPrivateKeyLengths:L,nByteLength:F,wrapPrivateKey:G,n:q}=t;if(L&&typeof P!="bigint"){if(P instanceof Uint8Array&&(P=Zl(P)),typeof P!="string"||!L.includes(P.length))throw new Error("Invalid key");P=P.padStart(F*2,"0")}let z;try{z=typeof P=="bigint"?P:Uo(Gr("private key",P,F))}catch{throw new Error(`private key must be ${F} bytes, hex or bigint, not ${typeof P}`)}return G&&(z=ji(z,q)),w(z),z}const y=new Map;function C(P){if(!(P instanceof T))throw new Error("ProjectivePoint expected")}class T{constructor(L,F,G){if(this.px=L,this.py=F,this.pz=G,L==null||!e.isValid(L))throw new Error("x required");if(F==null||!e.isValid(F))throw new Error("y required");if(G==null||!e.isValid(G))throw new Error("z required")}static fromAffine(L){const{x:F,y:G}=L||{};if(!L||!e.isValid(F)||!e.isValid(G))throw new Error("invalid affine point");if(L instanceof T)throw new Error("projective point not allowed");const q=z=>e.eql(z,e.ZERO);return q(F)&&q(G)?T.ZERO:new T(F,G,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(L){const F=e.invertBatch(L.map(G=>G.pz));return L.map((G,q)=>G.toAffine(F[q])).map(T.fromAffine)}static fromHex(L){const F=T.fromAffine(u(Gr("pointHex",L)));return F.assertValidity(),F}static fromPrivateKey(L){return T.BASE.multiply(A(L))}_setWindowSize(L){this._WINDOW_SIZE=L,y.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!e.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:L,y:F}=this.toAffine();if(!e.isValid(L)||!e.isValid(F))throw new Error("bad point: x or y not FE");const G=e.sqr(F),q=h(L);if(!e.eql(G,q))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:L}=this.toAffine();if(e.isOdd)return!e.isOdd(L);throw new Error("Field doesn't support isOdd")}equals(L){C(L);const{px:F,py:G,pz:q}=this,{px:z,py:lt,pz:gt}=L,dt=e.eql(e.mul(F,gt),e.mul(z,q)),K=e.eql(e.mul(G,gt),e.mul(lt,q));return dt&&K}negate(){return new T(this.px,e.neg(this.py),this.pz)}double(){const{a:L,b:F}=t,G=e.mul(F,Sx),{px:q,py:z,pz:lt}=this;let gt=e.ZERO,dt=e.ZERO,K=e.ZERO,it=e.mul(q,q),at=e.mul(z,z),_t=e.mul(lt,lt),Ot=e.mul(q,z);return Ot=e.add(Ot,Ot),K=e.mul(q,lt),K=e.add(K,K),gt=e.mul(L,K),dt=e.mul(G,_t),dt=e.add(gt,dt),gt=e.sub(at,dt),dt=e.add(at,dt),dt=e.mul(gt,dt),gt=e.mul(Ot,gt),K=e.mul(G,K),_t=e.mul(L,_t),Ot=e.sub(it,_t),Ot=e.mul(L,Ot),Ot=e.add(Ot,K),K=e.add(it,it),it=e.add(K,it),it=e.add(it,_t),it=e.mul(it,Ot),dt=e.add(dt,it),_t=e.mul(z,lt),_t=e.add(_t,_t),it=e.mul(_t,Ot),gt=e.sub(gt,it),K=e.mul(_t,at),K=e.add(K,K),K=e.add(K,K),new T(gt,dt,K)}add(L){C(L);const{px:F,py:G,pz:q}=this,{px:z,py:lt,pz:gt}=L;let dt=e.ZERO,K=e.ZERO,it=e.ZERO;const at=t.a,_t=e.mul(t.b,Sx);let Ot=e.mul(F,z),Mt=e.mul(G,lt),jt=e.mul(q,gt),qt=e.add(F,G),H=e.add(z,lt);qt=e.mul(qt,H),H=e.add(Ot,Mt),qt=e.sub(qt,H),H=e.add(F,q);let Q=e.add(z,gt);return H=e.mul(H,Q),Q=e.add(Ot,jt),H=e.sub(H,Q),Q=e.add(G,q),dt=e.add(lt,gt),Q=e.mul(Q,dt),dt=e.add(Mt,jt),Q=e.sub(Q,dt),it=e.mul(at,H),dt=e.mul(_t,jt),it=e.add(dt,it),dt=e.sub(Mt,it),it=e.add(Mt,it),K=e.mul(dt,it),Mt=e.add(Ot,Ot),Mt=e.add(Mt,Ot),jt=e.mul(at,jt),H=e.mul(_t,H),Mt=e.add(Mt,jt),jt=e.sub(Ot,jt),jt=e.mul(at,jt),H=e.add(H,jt),Ot=e.mul(Mt,H),K=e.add(K,Ot),Ot=e.mul(Q,H),dt=e.mul(qt,dt),dt=e.sub(dt,Ot),Ot=e.mul(qt,Mt),it=e.mul(Q,it),it=e.add(it,Ot),new T(dt,K,it)}subtract(L){return this.add(L.negate())}is0(){return this.equals(T.ZERO)}wNAF(L){return D.wNAFCached(this,y,L,F=>{const G=e.invertBatch(F.map(q=>q.pz));return F.map((q,z)=>q.toAffine(G[z])).map(T.fromAffine)})}multiplyUnsafe(L){const F=T.ZERO;if(L===Us)return F;if(w(L),L===Ir)return this;const{endo:G}=t;if(!G)return D.unsafeLadder(this,L);let{k1neg:q,k1:z,k2neg:lt,k2:gt}=G.splitScalar(L),dt=F,K=F,it=this;for(;z>Us||gt>Us;)z&Ir&&(dt=dt.add(it)),gt&Ir&&(K=K.add(it)),it=it.double(),z>>=Ir,gt>>=Ir;return q&&(dt=dt.negate()),lt&&(K=K.negate()),K=new T(e.mul(K.px,G.beta),K.py,K.pz),dt.add(K)}multiply(L){w(L);let F=L,G,q;const{endo:z}=t;if(z){const{k1neg:lt,k1:gt,k2neg:dt,k2:K}=z.splitScalar(F);let{p:it,f:at}=this.wNAF(gt),{p:_t,f:Ot}=this.wNAF(K);it=D.constTimeNegate(lt,it),_t=D.constTimeNegate(dt,_t),_t=new T(e.mul(_t.px,z.beta),_t.py,_t.pz),G=it.add(_t),q=at.add(Ot)}else{const{p:lt,f:gt}=this.wNAF(F);G=lt,q=gt}return T.normalizeZ([G,q])[0]}multiplyAndAddUnsafe(L,F,G){const q=T.BASE,z=(gt,dt)=>dt===Us||dt===Ir||!gt.equals(q)?gt.multiplyUnsafe(dt):gt.multiply(dt),lt=z(this,F).add(z(L,G));return lt.is0()?void 0:lt}toAffine(L){const{px:F,py:G,pz:q}=this,z=this.is0();L==null&&(L=z?e.ONE:e.inv(q));const lt=e.mul(F,L),gt=e.mul(G,L),dt=e.mul(q,L);if(z)return{x:e.ZERO,y:e.ZERO};if(!e.eql(dt,e.ONE))throw new Error("invZ was invalid");return{x:lt,y:gt}}isTorsionFree(){const{h:L,isTorsionFree:F}=t;if(L===Ir)return!0;if(F)return F(T,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:L,clearCofactor:F}=t;return L===Ir?this:F?F(T,this):this.multiplyUnsafe(t.h)}toRawBytes(L=!0){return this.assertValidity(),a(T,this,L)}toHex(L=!0){return Zl(this.toRawBytes(L))}}T.BASE=new T(t.Gx,t.Gy,e.ONE),T.ZERO=new T(e.ZERO,e.ONE,e.ZERO);const I=t.nBitLength,D=WT(T,t.endo?Math.ceil(I/2):I);return{CURVE:t,ProjectivePoint:T,normPrivateKeyToScalar:A,weierstrassEquation:h,isWithinCurveOrder:p}}function e8(n){const t=Ub(n);return _u(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function n8(n){const t=e8(n),{Fp:e,n:a}=t,u=e.BYTES+1,h=2*e.BYTES+1;function p(H){return Us<H&&H<e.ORDER}function w(H){return ji(H,a)}function A(H){return tg(H,a)}const{ProjectivePoint:y,normPrivateKeyToScalar:C,weierstrassEquation:T,isWithinCurveOrder:I}=t8({...t,toBytes(H,Q,tt){const Et=Q.toAffine(),Rt=e.toBytes(Et.x),kt=Au;return tt?kt(Uint8Array.from([Q.hasEvenY()?2:3]),Rt):kt(Uint8Array.from([4]),Rt,e.toBytes(Et.y))},fromBytes(H){const Q=H.length,tt=H[0],Et=H.subarray(1);if(Q===u&&(tt===2||tt===3)){const Rt=Uo(Et);if(!p(Rt))throw new Error("Point is not on curve");const kt=T(Rt);let Y=e.sqrt(kt);const ft=(Y&Ir)===Ir;return(tt&1)===1!==ft&&(Y=e.neg(Y)),{x:Rt,y:Y}}else if(Q===h&&tt===4){const Rt=e.fromBytes(Et.subarray(0,e.BYTES)),kt=e.fromBytes(Et.subarray(e.BYTES,2*e.BYTES));return{x:Rt,y:kt}}else throw new Error(`Point of length ${Q} was invalid. Expected ${u} compressed bytes or ${h} uncompressed bytes`)}}),D=H=>Zl(Wl(H,t.nByteLength));function P(H){const Q=a>>Ir;return H>Q}function L(H){return P(H)?w(-H):H}const F=(H,Q,tt)=>Uo(H.slice(Q,tt));class G{constructor(Q,tt,Et){this.r=Q,this.s=tt,this.recovery=Et,this.assertValidity()}static fromCompact(Q){const tt=t.nByteLength;return Q=Gr("compactSignature",Q,tt*2),new G(F(Q,0,tt),F(Q,tt,2*tt))}static fromDER(Q){const{r:tt,s:Et}=Do.toSig(Gr("DER",Q));return new G(tt,Et)}assertValidity(){if(!I(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!I(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Q){return new G(this.r,this.s,Q)}recoverPublicKey(Q){const{r:tt,s:Et,recovery:Rt}=this,kt=K(Gr("msgHash",Q));if(Rt==null||![0,1,2,3].includes(Rt))throw new Error("recovery id invalid");const Y=Rt===2||Rt===3?tt+t.n:tt;if(Y>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");const ft=(Rt&1)===0?"02":"03",vt=y.fromHex(ft+D(Y)),It=A(Y),Qt=w(-kt*It),Ct=w(Et*It),ne=y.BASE.multiplyAndAddUnsafe(vt,Qt,Ct);if(!ne)throw new Error("point at infinify");return ne.assertValidity(),ne}hasHighS(){return P(this.s)}normalizeS(){return this.hasHighS()?new G(this.r,w(-this.s),this.recovery):this}toDERRawBytes(){return Kl(this.toDERHex())}toDERHex(){return Do.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Kl(this.toCompactHex())}toCompactHex(){return D(this.r)+D(this.s)}}const q={isValidPrivateKey(H){try{return C(H),!0}catch{return!1}},normPrivateKeyToScalar:C,randomPrivateKey:()=>{const H=Pb(t.n);return ZT(t.randomBytes(H),t.n)},precompute(H=8,Q=y.BASE){return Q._setWindowSize(H),Q.multiply(BigInt(3)),Q}};function z(H,Q=!0){return y.fromPrivateKey(H).toRawBytes(Q)}function lt(H){const Q=H instanceof Uint8Array,tt=typeof H=="string",Et=(Q||tt)&&H.length;return Q?Et===u||Et===h:tt?Et===2*u||Et===2*h:H instanceof y}function gt(H,Q,tt=!0){if(lt(H))throw new Error("first arg must be private key");if(!lt(Q))throw new Error("second arg must be public key");return y.fromHex(Q).multiply(C(H)).toRawBytes(tt)}const dt=t.bits2int||function(H){const Q=Uo(H),tt=H.length*8-t.nBitLength;return tt>0?Q>>BigInt(tt):Q},K=t.bits2int_modN||function(H){return w(dt(H))},it=nm(t.nBitLength);function at(H){if(typeof H!="bigint")throw new Error("bigint expected");if(!(Us<=H&&H<it))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Wl(H,t.nByteLength)}function _t(H,Q,tt=Ot){if(["recovered","canonical"].some(Ce=>Ce in tt))throw new Error("sign() legacy options not supported");const{hash:Et,randomBytes:Rt}=t;let{lowS:kt,prehash:Y,extraEntropy:ft}=tt;kt==null&&(kt=!0),H=Gr("msgHash",H),Y&&(H=Gr("prehashed msgHash",Et(H)));const vt=K(H),It=C(Q),Qt=[at(It),at(vt)];if(ft!=null){const Ce=ft===!0?Rt(e.BYTES):ft;Qt.push(Gr("extraEntropy",Ce))}const Ct=Au(...Qt),ne=vt;function de(Ce){const ni=dt(Ce);if(!I(ni))return;const An=A(ni),Xn=y.BASE.multiply(ni).toAffine(),re=w(Xn.x);if(re===Us)return;const Qn=w(An*w(ne+re*It));if(Qn===Us)return;let oi=(Xn.x===re?0:2)|Number(Xn.y&Ir),hr=Qn;return kt&&P(Qn)&&(hr=L(Qn),oi^=1),new G(re,hr,oi)}return{seed:Ct,k2sig:de}}const Ot={lowS:t.lowS,prehash:!1},Mt={lowS:t.lowS,prehash:!1};function jt(H,Q,tt=Ot){const{seed:Et,k2sig:Rt}=_t(H,Q,tt),kt=t;return Bb(kt.hash.outputLen,kt.nByteLength,kt.hmac)(Et,Rt)}y.BASE._setWindowSize(8);function qt(H,Q,tt,Et=Mt){const Rt=H;if(Q=Gr("msgHash",Q),tt=Gr("publicKey",tt),"strict"in Et)throw new Error("options.strict was renamed to lowS");const{lowS:kt,prehash:Y}=Et;let ft,vt;try{if(typeof Rt=="string"||Rt instanceof Uint8Array)try{ft=G.fromDER(Rt)}catch(Xn){if(!(Xn instanceof Do.Err))throw Xn;ft=G.fromCompact(Rt)}else if(typeof Rt=="object"&&typeof Rt.r=="bigint"&&typeof Rt.s=="bigint"){const{r:Xn,s:re}=Rt;ft=new G(Xn,re)}else throw new Error("PARSE");vt=y.fromHex(tt)}catch(Xn){if(Xn.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(kt&&ft.hasHighS())return!1;Y&&(Q=t.hash(Q));const{r:It,s:Qt}=ft,Ct=K(Q),ne=A(Qt),de=w(Ct*ne),Ce=w(It*ne),ni=y.BASE.multiplyAndAddUnsafe(vt,de,Ce)?.toAffine();return ni?w(ni.x)===It:!1}return{CURVE:t,getPublicKey:z,getSharedSecret:gt,sign:jt,verify:qt,ProjectivePoint:y,Signature:G,utils:q}}function i8(n){return{hash:n,hmac:(t,...e)=>db(n,t,j4(...e)),randomBytes:Y4}}function r8(n,t){const e=a=>n8({...n,...i8(a)});return Object.freeze({...e(t),create:e})}const kb=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Tx=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),s8=BigInt(1),eg=BigInt(2),vx=(n,t)=>(n+t/eg)/t;function a8(n){const t=kb,e=BigInt(3),a=BigInt(6),u=BigInt(11),h=BigInt(22),p=BigInt(23),w=BigInt(44),A=BigInt(88),y=n*n*n%t,C=y*y*n%t,T=vr(C,e,t)*C%t,I=vr(T,e,t)*C%t,D=vr(I,eg,t)*y%t,P=vr(D,u,t)*D%t,L=vr(P,h,t)*P%t,F=vr(L,w,t)*L%t,G=vr(F,A,t)*F%t,q=vr(G,w,t)*L%t,z=vr(q,e,t)*C%t,lt=vr(z,p,t)*P%t,gt=vr(lt,a,t)*y%t,dt=vr(gt,eg,t);if(!ng.eql(ng.sqr(dt),n))throw new Error("Cannot find square root");return dt}const ng=QT(kb,void 0,void 0,{sqrt:a8}),za=r8({a:BigInt(0),b:BigInt(7),Fp:ng,n:Tx,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const t=Tx,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),a=-s8*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),u=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),h=e,p=BigInt("0x100000000000000000000000000000000"),w=vx(h*n,t),A=vx(-a*n,t);let y=ji(n-w*e-A*u,t),C=ji(-w*a-A*h,t);const T=y>p,I=C>p;if(T&&(y=t-y),I&&(C=t-C),y>p||C>p)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:T,k1:y,k2neg:I,k2:C}}}},mb);BigInt(0);za.ProjectivePoint;const wu="0x0000000000000000000000000000000000000000",Nx="0x0000000000000000000000000000000000000000000000000000000000000000",Ix=BigInt(0),Mx=BigInt(1),ig=BigInt(2),Ox=BigInt(27),Rx=BigInt(28),dh=BigInt(35),Fb=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),o8=Fb/ig,l8=Symbol.for("nodejs.util.inspect.custom"),So={};function w1(n){return Xs(Yn(n),32)}class pn{#t;#e;#n;#i;get r(){return this.#t}set r(t){W(Hl(t)===32,"invalid r","value",t),this.#t=Dt(t)}get s(){return W(parseInt(this.#e.substring(0,3))<8,"non-canonical s; use ._s","s",this.#e),this.#e}set s(t){W(Hl(t)===32,"invalid s","value",t),this.#e=Dt(t)}get _s(){return this.#e}isValid(){return BigInt(this.#e)<=o8}get v(){return this.#n}set v(t){const e=he(t,"value");W(e===27||e===28,"invalid v","v",t),this.#n=e}get networkV(){return this.#i}get legacyChainId(){const t=this.networkV;return t==null?null:pn.getChainId(t)}get yParity(){return this.v===27?0:1}get yParityAndS(){const t=fe(this.s);return this.yParity&&(t[0]|=128),Dt(t)}get compactSerialized(){return gn([this.r,this.yParityAndS])}get serialized(){return gn([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(t,e,a,u){Kh(t,So,"Signature"),this.#t=e,this.#e=a,this.#n=u,this.#i=null}getCanonical(){if(this.isValid())return this;const t=Fb-BigInt(this._s),e=55-this.v,a=new pn(So,this.r,w1(t),e);return this.networkV&&(a.#i=this.networkV),a}clone(){const t=new pn(So,this.r,this._s,this.v);return this.networkV&&(t.#i=this.networkV),t}toJSON(){const t=this.networkV;return{_type:"signature",networkV:t!=null?t.toString():null,r:this.r,s:this._s,v:this.v}}[l8](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(t){const e=Vt(t,"v");return e==Ox||e==Rx?Ix:(W(e>=dh,"invalid EIP-155 v","v",t),(e-dh)/ig)}static getChainIdV(t,e){return Vt(t)*ig+BigInt(35+e-27)}static getNormalizedV(t){const e=Vt(t);return e===Ix||e===Ox?27:e===Mx||e===Rx?28:(W(e>=dh,"invalid v","v",t),e&Mx?27:28)}static from(t){function e(y,C){W(y,C,"signature",t)}if(t==null)return new pn(So,Nx,Nx,27);if(typeof t=="string"){const y=fe(t,"signature");if(y.length===64){const C=Dt(y.slice(0,32)),T=y.slice(32,64),I=T[0]&128?28:27;return T[0]&=127,new pn(So,C,Dt(T),I)}if(y.length===65){const C=Dt(y.slice(0,32)),T=Dt(y.slice(32,64)),I=pn.getNormalizedV(y[64]);return new pn(So,C,T,I)}e(!1,"invalid raw signature length")}if(t instanceof pn)return t.clone();const a=t.r;e(a!=null,"missing r");const u=w1(a),h=(function(y,C){if(y!=null)return w1(y);if(C!=null){e(nn(C,32),"invalid yParityAndS");const T=fe(C);return T[0]&=127,Dt(T)}e(!1,"missing s")})(t.s,t.yParityAndS),{networkV:p,v:w}=(function(y,C,T){if(y!=null){const I=Vt(y);return{networkV:I>=dh?I:void 0,v:pn.getNormalizedV(I)}}if(C!=null)return e(nn(C,32),"invalid yParityAndS"),{v:fe(C)[0]&128?28:27};if(T!=null){switch(he(T,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}e(!1,"invalid yParity")}e(!1,"missing v")})(t.v,t.yParityAndS,t.yParity),A=new pn(So,u,h,w);return p&&(A.#i=p),e(t.yParity==null||he(t.yParity,"sig.yParity")===A.yParity,"yParity mismatch"),e(t.yParityAndS==null||t.yParityAndS===A.yParityAndS,"yParityAndS mismatch"),A}}class ks{#t;constructor(t){W(Hl(t)===32,"invalid private key","privateKey","[REDACTED]"),this.#t=Dt(t)}get privateKey(){return this.#t}get publicKey(){return ks.computePublicKey(this.#t)}get compressedPublicKey(){return ks.computePublicKey(this.#t,!0)}sign(t){W(Hl(t)===32,"invalid digest length","digest",t);const e=za.sign(Ii(t),Ii(this.#t),{lowS:!0});return pn.from({r:Ya(e.r,32),s:Ya(e.s,32),v:e.recovery?28:27})}computeSharedSecret(t){const e=ks.computePublicKey(t);return Dt(za.getSharedSecret(Ii(this.#t),fe(e),!1))}static computePublicKey(t,e){let a=fe(t,"key");if(a.length===32){const h=za.getPublicKey(a,!!e);return Dt(h)}if(a.length===64){const h=new Uint8Array(65);h[0]=4,h.set(a,1),a=h}const u=za.ProjectivePoint.fromHex(a);return Dt(u.toRawBytes(e))}static recoverPublicKey(t,e){W(Hl(t)===32,"invalid digest length","digest",t);const a=pn.from(e);let u=za.Signature.fromCompact(Ii(gn([a.r,a.s])));u=u.addRecoveryBit(a.yParity);const h=u.recoverPublicKey(Ii(t));return W(h!=null,"invalid signature for digest","signature",e),"0x"+h.toHex(!1)}static addPoints(t,e,a){const u=za.ProjectivePoint.fromHex(ks.computePublicKey(t).substring(2)),h=za.ProjectivePoint.fromHex(ks.computePublicKey(e).substring(2));return"0x"+u.add(h).toHex(!!a)}}const c8=BigInt(0),u8=BigInt(36);function Dx(n){n=n.toLowerCase();const t=n.substring(2).split(""),e=new Uint8Array(40);for(let u=0;u<40;u++)e[u]=t[u].charCodeAt(0);const a=fe(jn(e));for(let u=0;u<40;u+=2)a[u>>1]>>4>=8&&(t[u]=t[u].toUpperCase()),(a[u>>1]&15)>=8&&(t[u+1]=t[u+1].toUpperCase());return"0x"+t.join("")}const im={};for(let n=0;n<10;n++)im[String(n)]=String(n);for(let n=0;n<26;n++)im[String.fromCharCode(65+n)]=String(10+n);const Bx=15;function f8(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let t=n.split("").map(a=>im[a]).join("");for(;t.length>=Bx;){let a=t.substring(0,Bx);t=parseInt(a,10)%97+t.substring(a.length)}let e=String(98-parseInt(t,10)%97);for(;e.length<2;)e="0"+e;return e}const h8=(function(){const n={};for(let t=0;t<36;t++){const e="0123456789abcdefghijklmnopqrstuvwxyz"[t];n[e]=BigInt(t)}return n})();function d8(n){n=n.toLowerCase();let t=c8;for(let e=0;e<n.length;e++)t=t*u8+h8[n[e]];return t}function Fe(n){if(W(typeof n=="string","invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/)){n.startsWith("0x")||(n="0x"+n);const t=Dx(n);return W(!n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===n,"bad address checksum","address",n),t}if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){W(n.substring(2,4)===f8(n),"bad icap checksum","address",n);let t=d8(n.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return Dx("0x"+t)}W(!1,"invalid address","address",n)}function g8(n){const t=Fe(n.from);let a=Vt(n.nonce,"tx.nonce").toString(16);return a==="0"?a="0x":a.length%2?a="0x0"+a:a="0x"+a,Fe(Nn(jn(Gs([t,a])),12))}function zb(n){return n&&typeof n.getAddress=="function"}async function b1(n,t){const e=await t;return(e==null||e==="0x0000000000000000000000000000000000000000")&&(wt(typeof n!="string","unconfigured name","UNCONFIGURED_NAME",{value:n}),W(!1,"invalid AddressLike value; did not resolve to a value address","target",n)),Fe(e)}function Oi(n,t){if(typeof n=="string")return n.match(/^0x[0-9a-f]{40}$/i)?Fe(n):(wt(t!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),b1(n,t.resolveName(n)));if(zb(n))return b1(n,n.getAddress());if(n&&typeof n.then=="function")return b1(n,n);W(!1,"unsupported addressable value","target",n)}const Ls={};function Ut(n,t){let e=!1;return t<0&&(e=!0,t*=-1),new Mn(Ls,`${e?"":"u"}int${t}`,n,{signed:e,width:t})}function De(n,t){return new Mn(Ls,`bytes${t||""}`,n,{size:t})}const _x=Symbol.for("_ethers_typed");class Mn{type;value;#t;_typedSymbol;constructor(t,e,a,u){u==null&&(u=null),Kh(Ls,t,"Typed"),Jt(this,{_typedSymbol:_x,type:e,value:a}),this.#t=u,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(t=>t.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#t}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#t===!0?-1:this.#t===!1?this.value.length:null}static from(t,e){return new Mn(Ls,t,e)}static uint8(t){return Ut(t,8)}static uint16(t){return Ut(t,16)}static uint24(t){return Ut(t,24)}static uint32(t){return Ut(t,32)}static uint40(t){return Ut(t,40)}static uint48(t){return Ut(t,48)}static uint56(t){return Ut(t,56)}static uint64(t){return Ut(t,64)}static uint72(t){return Ut(t,72)}static uint80(t){return Ut(t,80)}static uint88(t){return Ut(t,88)}static uint96(t){return Ut(t,96)}static uint104(t){return Ut(t,104)}static uint112(t){return Ut(t,112)}static uint120(t){return Ut(t,120)}static uint128(t){return Ut(t,128)}static uint136(t){return Ut(t,136)}static uint144(t){return Ut(t,144)}static uint152(t){return Ut(t,152)}static uint160(t){return Ut(t,160)}static uint168(t){return Ut(t,168)}static uint176(t){return Ut(t,176)}static uint184(t){return Ut(t,184)}static uint192(t){return Ut(t,192)}static uint200(t){return Ut(t,200)}static uint208(t){return Ut(t,208)}static uint216(t){return Ut(t,216)}static uint224(t){return Ut(t,224)}static uint232(t){return Ut(t,232)}static uint240(t){return Ut(t,240)}static uint248(t){return Ut(t,248)}static uint256(t){return Ut(t,256)}static uint(t){return Ut(t,256)}static int8(t){return Ut(t,-8)}static int16(t){return Ut(t,-16)}static int24(t){return Ut(t,-24)}static int32(t){return Ut(t,-32)}static int40(t){return Ut(t,-40)}static int48(t){return Ut(t,-48)}static int56(t){return Ut(t,-56)}static int64(t){return Ut(t,-64)}static int72(t){return Ut(t,-72)}static int80(t){return Ut(t,-80)}static int88(t){return Ut(t,-88)}static int96(t){return Ut(t,-96)}static int104(t){return Ut(t,-104)}static int112(t){return Ut(t,-112)}static int120(t){return Ut(t,-120)}static int128(t){return Ut(t,-128)}static int136(t){return Ut(t,-136)}static int144(t){return Ut(t,-144)}static int152(t){return Ut(t,-152)}static int160(t){return Ut(t,-160)}static int168(t){return Ut(t,-168)}static int176(t){return Ut(t,-176)}static int184(t){return Ut(t,-184)}static int192(t){return Ut(t,-192)}static int200(t){return Ut(t,-200)}static int208(t){return Ut(t,-208)}static int216(t){return Ut(t,-216)}static int224(t){return Ut(t,-224)}static int232(t){return Ut(t,-232)}static int240(t){return Ut(t,-240)}static int248(t){return Ut(t,-248)}static int256(t){return Ut(t,-256)}static int(t){return Ut(t,-256)}static bytes1(t){return De(t,1)}static bytes2(t){return De(t,2)}static bytes3(t){return De(t,3)}static bytes4(t){return De(t,4)}static bytes5(t){return De(t,5)}static bytes6(t){return De(t,6)}static bytes7(t){return De(t,7)}static bytes8(t){return De(t,8)}static bytes9(t){return De(t,9)}static bytes10(t){return De(t,10)}static bytes11(t){return De(t,11)}static bytes12(t){return De(t,12)}static bytes13(t){return De(t,13)}static bytes14(t){return De(t,14)}static bytes15(t){return De(t,15)}static bytes16(t){return De(t,16)}static bytes17(t){return De(t,17)}static bytes18(t){return De(t,18)}static bytes19(t){return De(t,19)}static bytes20(t){return De(t,20)}static bytes21(t){return De(t,21)}static bytes22(t){return De(t,22)}static bytes23(t){return De(t,23)}static bytes24(t){return De(t,24)}static bytes25(t){return De(t,25)}static bytes26(t){return De(t,26)}static bytes27(t){return De(t,27)}static bytes28(t){return De(t,28)}static bytes29(t){return De(t,29)}static bytes30(t){return De(t,30)}static bytes31(t){return De(t,31)}static bytes32(t){return De(t,32)}static address(t){return new Mn(Ls,"address",t)}static bool(t){return new Mn(Ls,"bool",!!t)}static bytes(t){return new Mn(Ls,"bytes",t)}static string(t){return new Mn(Ls,"string",t)}static array(t,e){throw new Error("not implemented yet")}static tuple(t,e){throw new Error("not implemented yet")}static overrides(t){return new Mn(Ls,"overrides",Object.assign({},t))}static isTyped(t){return t&&typeof t=="object"&&"_typedSymbol"in t&&t._typedSymbol===_x}static dereference(t,e){if(Mn.isTyped(t)){if(t.type!==e)throw new Error(`invalid type: expecetd ${e}, got ${t.type}`);return t.value}return t}}class m8 extends Ws{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){let a=Mn.dereference(e,"string");try{a=Fe(a)}catch(u){return this._throwError(u.message,e)}return t.writeValue(a)}decode(t){return Fe(Ya(t.readValue(),20))}}class p8 extends Ws{coder;constructor(t){super(t.name,t.type,"_",t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}function Vb(n,t,e){let a=[];if(Array.isArray(e))a=e;else if(e&&typeof e=="object"){let A={};a=t.map(y=>{const C=y.localName;return wt(C,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:y},value:e}),wt(!A[C],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:y},value:e}),A[C]=!0,e[C]})}else W(!1,"invalid tuple value","tuple",e);W(t.length===a.length,"types/value length mismatch","tuple",e);let u=new q1,h=new q1,p=[];t.forEach((A,y)=>{let C=a[y];if(A.dynamic){let T=h.length;A.encode(h,C);let I=u.writeUpdatableValue();p.push(D=>{I(D+T)})}else A.encode(u,C)}),p.forEach(A=>{A(u.length)});let w=n.appendWriter(u);return w+=n.appendWriter(h),w}function Hb(n,t){let e=[],a=[],u=n.subReader(0);return t.forEach(h=>{let p=null;if(h.dynamic){let w=n.readIndex(),A=u.subReader(w);try{p=h.decode(A)}catch(y){if(yi(y,"BUFFER_OVERRUN"))throw y;p=y,p.baseType=h.name,p.name=h.localName,p.type=h.type}}else try{p=h.decode(n)}catch(w){if(yi(w,"BUFFER_OVERRUN"))throw w;p=w,p.baseType=h.name,p.name=h.localName,p.type=h.type}if(p==null)throw new Error("investigate");e.push(p),a.push(h.localName||null)}),Fs.fromItems(e,a)}class y8 extends Ws{coder;length;constructor(t,e,a){const u=t.type+"["+(e>=0?e:"")+"]",h=e===-1||t.dynamic;super("array",u,a,h),Jt(this,{coder:t,length:e})}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let a=0;a<this.length;a++)e.push(t);return e}encode(t,e){const a=Mn.dereference(e,"array");Array.isArray(a)||this._throwError("expected array value",a);let u=this.length;u===-1&&(u=a.length,t.writeValue(a.length)),qw(a.length,u,"coder array"+(this.localName?" "+this.localName:""));let h=[];for(let p=0;p<a.length;p++)h.push(this.coder);return Vb(t,h,a)}decode(t){let e=this.length;e===-1&&(e=t.readIndex(),wt(e*Mi<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:e*Mi,length:t.dataLength}));let a=[];for(let u=0;u<e;u++)a.push(new p8(this.coder));return Hb(t,a)}}class x8 extends Ws{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){const a=Mn.dereference(e,"bool");return t.writeValue(a?1:0)}decode(t){return!!t.readValue()}}class Gb extends Ws{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=Ii(e);let a=t.writeValue(e.length);return a+=t.writeBytes(e),a}decode(t){return t.readBytes(t.readIndex(),!0)}}class A8 extends Gb{constructor(t){super("bytes",t)}decode(t){return Dt(super.decode(t))}}class w8 extends Ws{size;constructor(t,e){let a="bytes"+String(t);super(a,a,e,!1),Jt(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,e){let a=Ii(Mn.dereference(e,this.type));return a.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(a)}decode(t){return Dt(t.readBytes(this.size))}}const b8=new Uint8Array([]);class E8 extends Ws{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return e!=null&&this._throwError("not null",e),t.writeBytes(b8)}decode(t){return t.readBytes(0),null}}const C8=BigInt(0),S8=BigInt(1),T8=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class v8 extends Ws{size;signed;constructor(t,e,a){const u=(e?"int":"uint")+t*8;super(u,u,a,!1),Jt(this,{size:t,signed:e},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,e){let a=Vt(Mn.dereference(e,this.type)),u=au(T8,Mi*8);if(this.signed){let h=au(u,this.size*8-1);(a>h||a<-(h+S8))&&this._throwError("value out-of-bounds",e),a=tb(a,8*Mi)}else(a<C8||a>au(u,this.size*8))&&this._throwError("value out-of-bounds",e);return t.writeValue(a)}decode(t){let e=au(t.readValue(),this.size*8);return this.signed&&(e=b4(e,this.size*8)),e}}class N8 extends Gb{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,Hs(Mn.dereference(e,"string")))}decode(t){return Rh(super.decode(t))}}class gh extends Ws{coders;constructor(t,e){let a=!1;const u=[];t.forEach(p=>{p.dynamic&&(a=!0),u.push(p.type)});const h="tuple("+u.join(",")+")";super("tuple",h,e,a),Jt(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach(a=>{t.push(a.defaultValue())});const e=this.coders.reduce((a,u)=>{const h=u.localName;return h&&(a[h]||(a[h]=0),a[h]++),a},{});return this.coders.forEach((a,u)=>{let h=a.localName;!h||e[h]!==1||(h==="length"&&(h="_length"),t[h]==null&&(t[h]=t[u]))}),Object.freeze(t)}encode(t,e){const a=Mn.dereference(e,"tuple");return Vb(t,this.coders,a)}decode(t){return Hb(t,this.coders)}}function E1(n,t){return{address:Fe(n),storageKeys:t.map((e,a)=>(W(nn(e,32),"invalid slot",`storageKeys[${a}]`,e),e.toLowerCase()))}}function Yo(n){if(Array.isArray(n))return n.map((e,a)=>Array.isArray(e)?(W(e.length===2,"invalid slot set",`value[${a}]`,e),E1(e[0],e[1])):(W(e!=null&&typeof e=="object","invalid address-slot set","value",n),E1(e.address,e.storageKeys)));W(n!=null&&typeof n=="object","invalid access list","value",n);const t=Object.keys(n).map(e=>{const a=n[e].reduce((u,h)=>(u[h]=!0,u),{});return E1(e,Object.keys(a).sort())});return t.sort((e,a)=>e.address.localeCompare(a.address)),t}function jb(n){return{address:Fe(n.address),nonce:Vt(n.nonce!=null?n.nonce:0),chainId:Vt(n.chainId!=null?n.chainId:0),signature:pn.from(n.signature)}}function I8(n){let t;return typeof n=="string"?t=ks.computePublicKey(n,!1):t=n.publicKey,Fe(jn("0x"+t.substring(4)).substring(26))}function M8(n,t){return I8(ks.recoverPublicKey(n,t))}const si=BigInt(0),O8=BigInt(2),R8=BigInt(27),D8=BigInt(28),B8=BigInt(35),_8=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),L8=Symbol.for("nodejs.util.inspect.custom"),C1=4096*32,Ch=128;function P8(n){return{blobToKzgCommitment:a=>{if("computeBlobProof"in n){if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return fe(n.blobToKzgCommitment(Dt(a)))}else if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return fe(n.blobToKzgCommitment(a));if("blobToKZGCommitment"in n&&typeof n.blobToKZGCommitment=="function")return fe(n.blobToKZGCommitment(Dt(a)));W(!1,"unsupported KZG library","kzg",n)},computeBlobKzgProof:(a,u)=>{if("computeBlobProof"in n&&typeof n.computeBlobProof=="function")return fe(n.computeBlobProof(Dt(a),Dt(u)));if("computeBlobKzgProof"in n&&typeof n.computeBlobKzgProof=="function")return n.computeBlobKzgProof(a,u);if("computeBlobKZGProof"in n&&typeof n.computeBlobKZGProof=="function")return fe(n.computeBlobKZGProof(Dt(a),Dt(u)));W(!1,"unsupported KZG library","kzg",n)}}}function Lx(n,t){let e=n.toString(16);for(;e.length<2;)e="0"+e;return e+=ic(t).substring(4),"0x"+e}function rc(n){return n==="0x"?null:Fe(n)}function t0(n,t){try{return Yo(n)}catch(e){W(!1,e.message,t,n)}}function U8(n,t){try{if(!Array.isArray(n))throw new Error("authorizationList: invalid array");const e=[];for(let a=0;a<n.length;a++){const u=n[a];if(!Array.isArray(u))throw new Error(`authorization[${a}]: invalid array`);if(u.length!==6)throw new Error(`authorization[${a}]: wrong length`);if(!u[1])throw new Error(`authorization[${a}]: null address`);e.push({address:rc(u[1]),nonce:Ke(u[2],"nonce"),chainId:Ke(u[0],"chainId"),signature:pn.from({yParity:Xo(u[3],"yParity"),r:Xs(u[4],32),s:Xs(u[5],32)})})}return e}catch(e){W(!1,e.message,t,n)}}function Xo(n,t){return n==="0x"?0:he(n,t)}function Ke(n,t){if(n==="0x")return si;const e=Vt(n,t);return W(e<=_8,"value exceeds uint size",t,e),e}function ve(n,t){const e=Vt(n,"value"),a=Yn(e);return W(a.length<=32,"value too large",`tx.${t}`,e),a}function e0(n){return Yo(n).map(t=>[t.address,t.storageKeys])}function k8(n){return n.map(t=>[ve(t.chainId,"chainId"),t.address,ve(t.nonce,"nonce"),ve(t.signature.yParity,"yParity"),Yn(t.signature.r),Yn(t.signature._s)])}function F8(n,t){W(Array.isArray(n),`invalid ${t}`,"value",n);for(let e=0;e<n.length;e++)W(nn(n[e],32),"invalid ${ param } hash",`value[${e}]`,n[e]);return n}function z8(n){const t=Bu(n);W(Array.isArray(t)&&(t.length===9||t.length===6),"invalid field count for legacy transaction","data",n);const e={type:0,nonce:Xo(t[0],"nonce"),gasPrice:Ke(t[1],"gasPrice"),gasLimit:Ke(t[2],"gasLimit"),to:rc(t[3]),value:Ke(t[4],"value"),data:Dt(t[5]),chainId:si};if(t.length===6)return e;const a=Ke(t[6],"v"),u=Ke(t[7],"r"),h=Ke(t[8],"s");if(u===si&&h===si)e.chainId=a;else{let p=(a-B8)/O8;p<si&&(p=si),e.chainId=p,W(p!==si||a===R8||a===D8,"non-canonical legacy v","v",t[6]),e.signature=pn.from({r:Xs(t[7],32),s:Xs(t[8],32),v:a})}return e}function V8(n,t){const e=[ve(n.nonce,"nonce"),ve(n.gasPrice||0,"gasPrice"),ve(n.gasLimit,"gasLimit"),n.to||"0x",ve(n.value,"value"),n.data];let a=si;if(n.chainId!=si)a=Vt(n.chainId,"tx.chainId"),W(!t||t.networkV==null||t.legacyChainId===a,"tx.chainId/sig.v mismatch","sig",t);else if(n.signature){const h=n.signature.legacyChainId;h!=null&&(a=h)}if(!t)return a!==si&&(e.push(Yn(a)),e.push("0x"),e.push("0x")),Gs(e);let u=BigInt(27+t.yParity);return a!==si?u=pn.getChainIdV(a,t.v):BigInt(t.v)!==u&&W(!1,"tx.chainId/sig.v mismatch","sig",t),e.push(Yn(u)),e.push(Yn(t.r)),e.push(Yn(t._s)),Gs(e)}function n0(n,t){let e;try{if(e=Xo(t[0],"yParity"),e!==0&&e!==1)throw new Error("bad yParity")}catch{W(!1,"invalid yParity","yParity",t[0])}const a=Xs(t[1],32),u=Xs(t[2],32),h=pn.from({r:a,s:u,yParity:e});n.signature=h}function H8(n){const t=Bu(fe(n).slice(1));W(Array.isArray(t)&&(t.length===9||t.length===12),"invalid field count for transaction type: 2","data",Dt(n));const e={type:2,chainId:Ke(t[0],"chainId"),nonce:Xo(t[1],"nonce"),maxPriorityFeePerGas:Ke(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Ke(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ke(t[4],"gasLimit"),to:rc(t[5]),value:Ke(t[6],"value"),data:Dt(t[7]),accessList:t0(t[8],"accessList")};return t.length===9||n0(e,t.slice(9)),e}function G8(n,t){const e=[ve(n.chainId,"chainId"),ve(n.nonce,"nonce"),ve(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ve(n.maxFeePerGas||0,"maxFeePerGas"),ve(n.gasLimit,"gasLimit"),n.to||"0x",ve(n.value,"value"),n.data,e0(n.accessList||[])];return t&&(e.push(ve(t.yParity,"yParity")),e.push(Yn(t.r)),e.push(Yn(t.s))),gn(["0x02",Gs(e)])}function j8(n){const t=Bu(fe(n).slice(1));W(Array.isArray(t)&&(t.length===8||t.length===11),"invalid field count for transaction type: 1","data",Dt(n));const e={type:1,chainId:Ke(t[0],"chainId"),nonce:Xo(t[1],"nonce"),gasPrice:Ke(t[2],"gasPrice"),gasLimit:Ke(t[3],"gasLimit"),to:rc(t[4]),value:Ke(t[5],"value"),data:Dt(t[6]),accessList:t0(t[7],"accessList")};return t.length===8||n0(e,t.slice(8)),e}function Y8(n,t){const e=[ve(n.chainId,"chainId"),ve(n.nonce,"nonce"),ve(n.gasPrice||0,"gasPrice"),ve(n.gasLimit,"gasLimit"),n.to||"0x",ve(n.value,"value"),n.data,e0(n.accessList||[])];return t&&(e.push(ve(t.yParity,"recoveryParam")),e.push(Yn(t.r)),e.push(Yn(t.s))),gn(["0x01",Gs(e)])}function X8(n){let t=Bu(fe(n).slice(1)),e="3",a=null,u=null;if(t.length===4&&Array.isArray(t[0])){e="3 (network format)";const p=t[1],w=t[2],A=t[3];W(Array.isArray(p),"invalid network format: blobs not an array","fields[1]",p),W(Array.isArray(w),"invalid network format: commitments not an array","fields[2]",w),W(Array.isArray(A),"invalid network format: proofs not an array","fields[3]",A),W(p.length===w.length,"invalid network format: blobs/commitments length mismatch","fields",t),W(p.length===A.length,"invalid network format: blobs/proofs length mismatch","fields",t),u=[];for(let y=0;y<t[1].length;y++)u.push({data:p[y],commitment:w[y],proof:A[y]});t=t[0]}else if(t.length===5&&Array.isArray(t[0])){e="3 (EIP-7594 network format)",a=he(t[1]);const p=t[2],w=t[3],A=t[4];W(a===1,`unsupported EIP-7594 network format version: ${a}`,"fields[1]",a),W(Array.isArray(p),"invalid EIP-7594 network format: blobs not an array","fields[2]",p),W(Array.isArray(w),"invalid EIP-7594 network format: commitments not an array","fields[3]",w),W(Array.isArray(A),"invalid EIP-7594 network format: proofs not an array","fields[4]",A),W(p.length===w.length,"invalid network format: blobs/commitments length mismatch","fields",t),W(p.length*Ch===A.length,"invalid network format: blobs/proofs length mismatch","fields",t),u=[];for(let y=0;y<p.length;y++){const C=[];for(let T=0;T<Ch;T++)C.push(A[y*Ch+T]);u.push({data:p[y],commitment:w[y],proof:gn(C)})}t=t[0]}W(Array.isArray(t)&&(t.length===11||t.length===14),`invalid field count for transaction type: ${e}`,"data",Dt(n));const h={type:3,chainId:Ke(t[0],"chainId"),nonce:Xo(t[1],"nonce"),maxPriorityFeePerGas:Ke(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Ke(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ke(t[4],"gasLimit"),to:rc(t[5]),value:Ke(t[6],"value"),data:Dt(t[7]),accessList:t0(t[8],"accessList"),maxFeePerBlobGas:Ke(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10],blobWrapperVersion:a};u&&(h.blobs=u),W(h.to!=null,`invalid address for transaction type: ${e}`,"data",n),W(Array.isArray(h.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",n);for(let p=0;p<h.blobVersionedHashes.length;p++)W(nn(h.blobVersionedHashes[p],32),`invalid blobVersionedHash at index ${p}: must be length 32`,"data",n);return t.length===11||n0(h,t.slice(11)),h}function Q8(n,t,e){const a=[ve(n.chainId,"chainId"),ve(n.nonce,"nonce"),ve(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ve(n.maxFeePerGas||0,"maxFeePerGas"),ve(n.gasLimit,"gasLimit"),n.to||wu,ve(n.value,"value"),n.data,e0(n.accessList||[]),ve(n.maxFeePerBlobGas||0,"maxFeePerBlobGas"),F8(n.blobVersionedHashes||[],"blobVersionedHashes")];if(t&&(a.push(ve(t.yParity,"yParity")),a.push(Yn(t.r)),a.push(Yn(t.s)),e)){if(n.blobWrapperVersion!=null){const u=Yn(n.blobWrapperVersion),h=[];for(const{proof:p}of e){const w=fe(p),A=w.length/Ch;for(let y=0;y<w.length;y+=A)h.push(w.subarray(y,y+A))}return gn(["0x03",Gs([a,u,e.map(p=>p.data),e.map(p=>p.commitment),h])])}return gn(["0x03",Gs([a,e.map(u=>u.data),e.map(u=>u.commitment),e.map(u=>u.proof)])])}return gn(["0x03",Gs(a)])}function Z8(n){const t=Bu(fe(n).slice(1));W(Array.isArray(t)&&(t.length===10||t.length===13),"invalid field count for transaction type: 4","data",Dt(n));const e={type:4,chainId:Ke(t[0],"chainId"),nonce:Xo(t[1],"nonce"),maxPriorityFeePerGas:Ke(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Ke(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ke(t[4],"gasLimit"),to:rc(t[5]),value:Ke(t[6],"value"),data:Dt(t[7]),accessList:t0(t[8],"accessList"),authorizationList:U8(t[9],"authorizationList")};return t.length===10||n0(e,t.slice(10)),e}function K8(n,t){const e=[ve(n.chainId,"chainId"),ve(n.nonce,"nonce"),ve(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ve(n.maxFeePerGas||0,"maxFeePerGas"),ve(n.gasLimit,"gasLimit"),n.to||"0x",ve(n.value,"value"),n.data,e0(n.accessList||[]),k8(n.authorizationList||[])];return t&&(e.push(ve(t.yParity,"yParity")),e.push(Yn(t.r)),e.push(Yn(t.s))),gn(["0x04",Gs(e)])}class jr{#t;#e;#n;#i;#r;#a;#s;#o;#d;#c;#g;#m;#l;#u;#f;#h;#x;#p;get type(){return this.#t}set type(t){switch(t){case null:this.#t=null;break;case 0:case"legacy":this.#t=0;break;case 1:case"berlin":case"eip-2930":this.#t=1;break;case 2:case"london":case"eip-1559":this.#t=2;break;case 3:case"cancun":case"eip-4844":this.#t=3;break;case 4:case"pectra":case"eip-7702":this.#t=4;break;default:W(!1,"unsupported transaction type","type",t)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const t=this.#e;return t==null&&this.type===3?wu:t}set to(t){this.#e=t==null?null:Fe(t)}get nonce(){return this.#i}set nonce(t){this.#i=he(t,"value")}get gasLimit(){return this.#r}set gasLimit(t){this.#r=Vt(t)}get gasPrice(){const t=this.#a;return t==null&&(this.type===0||this.type===1)?si:t}set gasPrice(t){this.#a=t==null?null:Vt(t,"gasPrice")}get maxPriorityFeePerGas(){const t=this.#s;return t??(this.type===2||this.type===3?si:null)}set maxPriorityFeePerGas(t){this.#s=t==null?null:Vt(t,"maxPriorityFeePerGas")}get maxFeePerGas(){const t=this.#o;return t??(this.type===2||this.type===3?si:null)}set maxFeePerGas(t){this.#o=t==null?null:Vt(t,"maxFeePerGas")}get data(){return this.#n}set data(t){this.#n=Dt(t)}get value(){return this.#d}set value(t){this.#d=Vt(t,"value")}get chainId(){return this.#c}set chainId(t){this.#c=Vt(t)}get signature(){return this.#g||null}set signature(t){this.#g=t==null?null:pn.from(t)}isValid(){const t=this.signature;if(t&&!t.isValid())return!1;const e=this.authorizationList;if(e){for(const a of e)if(!a.signature.isValid())return!1}return!0}get accessList(){const t=this.#m||null;return t??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(t){this.#m=t==null?null:Yo(t)}get authorizationList(){const t=this.#x||null;return t==null&&this.type===4?[]:t}set authorizationList(t){this.#x=t==null?null:t.map(e=>jb(e))}get maxFeePerBlobGas(){const t=this.#l;return t==null&&this.type===3?si:t}set maxFeePerBlobGas(t){this.#l=t==null?null:Vt(t,"maxFeePerBlobGas")}get blobVersionedHashes(){let t=this.#u;return t==null&&this.type===3?[]:t}set blobVersionedHashes(t){if(t!=null){W(Array.isArray(t),"blobVersionedHashes must be an Array","value",t),t=t.slice();for(let e=0;e<t.length;e++)W(nn(t[e],32),"invalid blobVersionedHash",`value[${e}]`,t[e])}this.#u=t}get blobs(){return this.#h==null?null:this.#h.map(t=>Object.assign({},t))}set blobs(t){if(t==null){this.#h=null;return}const e=[],a=[];for(let u=0;u<t.length;u++){const h=t[u];if(Xg(h)){wt(this.#f,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let p=fe(h);if(W(p.length<=C1,"blob is too large",`blobs[${u}]`,h),p.length!==C1){const y=new Uint8Array(C1);y.set(p),p=y}const w=this.#f.blobToKzgCommitment(p),A=Dt(this.#f.computeBlobKzgProof(p,w));e.push({data:Dt(p),commitment:Dt(w),proof:A}),a.push(Lx(1,w))}else{const p=Dt(h.data),w=Dt(h.commitment),A=Dt(h.proof);e.push({data:p,commitment:w,proof:A}),a.push(Lx(1,w))}}this.#h=e,this.#u=a}get kzg(){return this.#f}set kzg(t){t==null?this.#f=null:this.#f=P8(t)}get blobWrapperVersion(){return this.#p}set blobWrapperVersion(t){this.#p=t}constructor(){this.#t=null,this.#e=null,this.#i=0,this.#r=si,this.#a=null,this.#s=null,this.#o=null,this.#n="0x",this.#d=si,this.#c=si,this.#g=null,this.#m=null,this.#l=null,this.#u=null,this.#f=null,this.#h=null,this.#x=null,this.#p=null}get hash(){return this.signature==null?null:jn(this.#y(!0,!1))}get unsignedHash(){return jn(this.unsignedSerialized)}get from(){return this.signature==null?null:M8(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:ks.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}#y(t,e){wt(!t||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const a=t?this.signature:null;switch(this.inferType()){case 0:return V8(this,a);case 1:return Y8(this,a);case 2:return G8(this,a);case 3:return Q8(this,a,e?this.blobs:null);case 4:return K8(this,a)}wt(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#y(!0,!0)}get unsignedSerialized(){return this.#y(!1,!1)}inferType(){const t=this.inferTypes();return t.indexOf(2)>=0?2:t.pop()}inferTypes(){const t=this.gasPrice!=null,e=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,a=this.accessList!=null,u=this.#l!=null||this.#u;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&wt(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),wt(!e||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),wt(this.type!==0||!a,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const h=[];return this.type!=null?h.push(this.type):this.authorizationList&&this.authorizationList.length?h.push(4):e?h.push(2):t?(h.push(1),a||h.push(0)):a?(h.push(1),h.push(2)):(u&&this.to||(h.push(0),h.push(1),h.push(2)),h.push(3)),h.sort(),h}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return jr.from(this)}toJSON(){const t=e=>e==null?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),maxPriorityFeePerGas:t(this.maxPriorityFeePerGas),maxFeePerGas:t(this.maxFeePerGas),value:t(this.value),chainId:t(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[L8](){return this.toString()}toString(){const t=[],e=u=>{let h=this[u];typeof h=="string"&&(h=JSON.stringify(h)),t.push(`${u}: ${h}`)};this.type&&e("type"),e("to"),e("data"),e("nonce"),e("gasLimit"),e("value"),this.chainId!=null&&e("chainId"),this.signature&&(e("from"),t.push(`signature: ${this.signature.toString()}`));const a=this.authorizationList;if(a){const u=[];for(const h of a){const p=[];p.push(`address: ${JSON.stringify(h.address)}`),h.nonce!=null&&p.push(`nonce: ${h.nonce}`),h.chainId!=null&&p.push(`chainId: ${h.chainId}`),h.signature&&p.push(`signature: ${h.signature.toString()}`),u.push(`Authorization { ${p.join(", ")} }`)}t.push(`authorizations: [ ${u.join(", ")} ]`)}return`Transaction { ${t.join(", ")} }`}static from(t){if(t==null)return new jr;if(typeof t=="string"){const a=fe(t);if(a[0]>=127)return jr.from(z8(a));switch(a[0]){case 1:return jr.from(j8(a));case 2:return jr.from(H8(a));case 3:return jr.from(X8(a));case 4:return jr.from(Z8(a))}wt(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const e=new jr;return t.type!=null&&(e.type=t.type),t.to!=null&&(e.to=t.to),t.nonce!=null&&(e.nonce=t.nonce),t.gasLimit!=null&&(e.gasLimit=t.gasLimit),t.gasPrice!=null&&(e.gasPrice=t.gasPrice),t.maxPriorityFeePerGas!=null&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas),t.maxFeePerGas!=null&&(e.maxFeePerGas=t.maxFeePerGas),t.maxFeePerBlobGas!=null&&(e.maxFeePerBlobGas=t.maxFeePerBlobGas),t.data!=null&&(e.data=t.data),t.value!=null&&(e.value=t.value),t.chainId!=null&&(e.chainId=t.chainId),t.signature!=null&&(e.signature=pn.from(t.signature)),t.accessList!=null&&(e.accessList=t.accessList),t.authorizationList!=null&&(e.authorizationList=t.authorizationList),t.blobVersionedHashes!=null&&(e.blobVersionedHashes=t.blobVersionedHashes),t.kzg!=null&&(e.kzg=t.kzg),t.blobWrapperVersion!=null&&(e.blobWrapperVersion=t.blobWrapperVersion),t.blobs!=null&&(e.blobs=t.blobs),t.hash!=null&&(W(e.isSigned(),"unsigned transaction cannot define '.hash'","tx",t),W(e.hash===t.hash,"hash mismatch","tx",t)),t.from!=null&&(W(e.isSigned(),"unsigned transaction cannot define '.from'","tx",t),W(e.from.toLowerCase()===(t.from||"").toLowerCase(),"from mismatch","tx",t)),e}}function zo(n){return jn(Hs(n))}var W8="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const Px=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Ux=4;function q8(n){let t=0;function e(){return n[t++]<<8|n[t++]}let a=e(),u=1,h=[0,1];for(let gt=1;gt<a;gt++)h.push(u+=e());let p=e(),w=t;t+=p;let A=0,y=0;function C(){return A==0&&(y=y<<8|n[t++],A=8),y>>--A&1}const T=31,I=2**T,D=I>>>1,P=D>>1,L=I-1;let F=0;for(let gt=0;gt<T;gt++)F=F<<1|C();let G=[],q=0,z=I;for(;;){let gt=Math.floor(((F-q+1)*u-1)/z),dt=0,K=a;for(;K-dt>1;){let _t=dt+K>>>1;gt<h[_t]?K=_t:dt=_t}if(dt==0)break;G.push(dt);let it=q+Math.floor(z*h[dt]/u),at=q+Math.floor(z*h[dt+1]/u)-1;for(;((it^at)&D)==0;)F=F<<1&L|C(),it=it<<1&L,at=at<<1&L|1;for(;it&~at&P;)F=F&D|F<<1&L>>>1|C(),it=it<<1^D,at=(at^D)<<1|D|1;q=it,z=1+at-it}let lt=a-4;return G.map(gt=>{switch(gt-lt){case 3:return lt+65792+(n[w++]<<16|n[w++]<<8|n[w++]);case 2:return lt+256+(n[w++]<<8|n[w++]);case 1:return lt+n[w++];default:return gt-1}})}function J8(n){let t=0;return()=>n[t++]}function Yb(n){return J8(q8($8(n)))}function $8(n){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((u,h)=>t[u.charCodeAt(0)]=h);let e=n.length,a=new Uint8Array(6*e>>3);for(let u=0,h=0,p=0,w=0;u<e;u++)w=w<<6|t[n.charCodeAt(u)],p+=6,p>=8&&(a[h++]=w>>(p-=8));return a}function tv(n){return n&1?~n>>1:n>>1}function ev(n,t){let e=Array(n);for(let a=0,u=0;a<n;a++)e[a]=u+=tv(t());return e}function bu(n,t=0){let e=[];for(;;){let a=n(),u=n();if(!u)break;t+=a;for(let h=0;h<u;h++)e.push(t+h);t+=u+1}return e}function Xb(n){return Eu(()=>{let t=bu(n);if(t.length)return t})}function Qb(n){let t=[];for(;;){let e=n();if(e==0)break;t.push(nv(e,n))}for(;;){let e=n()-1;if(e<0)break;t.push(iv(e,n))}return t.flat()}function Eu(n){let t=[];for(;;){let e=n(t.length);if(!e)break;t.push(e)}return t}function Zb(n,t,e){let a=Array(n).fill().map(()=>[]);for(let u=0;u<t;u++)ev(n,e).forEach((h,p)=>a[p].push(h));return a}function nv(n,t){let e=1+t(),a=t(),u=Eu(t);return Zb(u.length,1+n,t).flatMap((p,w)=>{let[A,...y]=p;return Array(u[w]).fill().map((C,T)=>{let I=T*a;return[A+T*e,y.map(D=>D+I)]})})}function iv(n,t){let e=1+t();return Zb(e,1+n,t).map(u=>[u[0],u.slice(1)])}function rv(n){let t=[],e=bu(n);return u(a([]),[]),t;function a(h){let p=n(),w=Eu(()=>{let A=bu(n).map(y=>e[y]);if(A.length)return a(A)});return{S:p,B:w,Q:h}}function u({S:h,B:p},w,A){if(!(h&4&&A===w[w.length-1])){h&2&&(A=w[w.length-1]),h&1&&t.push(w);for(let y of p)for(let C of y.Q)u(y,[...w,C],A)}}}function sv(n){return n.toString(16).toUpperCase().padStart(2,"0")}function Kb(n){return`{${sv(n)}}`}function av(n){let t=[];for(let e=0,a=n.length;e<a;){let u=n.codePointAt(e);e+=u<65536?1:2,t.push(u)}return t}function ql(n){let e=n.length;if(e<4096)return String.fromCodePoint(...n);let a=[];for(let u=0;u<e;)a.push(String.fromCodePoint(...n.slice(u,u+=4096)));return a.join("")}function ov(n,t){let e=n.length,a=e-t.length;for(let u=0;a==0&&u<e;u++)a=n[u]-t[u];return a}var lv="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const Cu=44032,Bh=4352,_h=4449,Lh=4519,Wb=19,qb=21,Jl=28,Ph=qb*Jl,cv=Wb*Ph,uv=Cu+cv,fv=Bh+Wb,hv=_h+qb,dv=Lh+Jl;function ou(n){return n>>24&255}function Jb(n){return n&16777215}let rg,kx,sg,Sh;function gv(){let n=Yb(lv);rg=new Map(Xb(n).flatMap((t,e)=>t.map(a=>[a,e+1<<24]))),kx=new Set(bu(n)),sg=new Map,Sh=new Map;for(let[t,e]of Qb(n)){if(!kx.has(t)&&e.length==2){let[a,u]=e,h=Sh.get(a);h||(h=new Map,Sh.set(a,h)),h.set(u,t)}sg.set(t,e.reverse())}}function $b(n){return n>=Cu&&n<uv}function mv(n,t){if(n>=Bh&&n<fv&&t>=_h&&t<hv)return Cu+(n-Bh)*Ph+(t-_h)*Jl;if($b(n)&&t>Lh&&t<dv&&(n-Cu)%Jl==0)return n+(t-Lh);{let e=Sh.get(n);return e&&(e=e.get(t),e)?e:-1}}function tE(n){rg||gv();let t=[],e=[],a=!1;function u(h){let p=rg.get(h);p&&(a=!0,h|=p),t.push(h)}for(let h of n)for(;;){if(h<128)t.push(h);else if($b(h)){let p=h-Cu,w=p/Ph|0,A=p%Ph/Jl|0,y=p%Jl;u(Bh+w),u(_h+A),y>0&&u(Lh+y)}else{let p=sg.get(h);p?e.push(...p):u(h)}if(!e.length)break;h=e.pop()}if(a&&t.length>1){let h=ou(t[0]);for(let p=1;p<t.length;p++){let w=ou(t[p]);if(w==0||h<=w){h=w;continue}let A=p-1;for(;;){let y=t[A+1];if(t[A+1]=t[A],t[A]=y,!A||(h=ou(t[--A]),h<=w))break}h=ou(t[p])}}return t}function pv(n){let t=[],e=[],a=-1,u=0;for(let h of n){let p=ou(h),w=Jb(h);if(a==-1)p==0?a=w:t.push(w);else if(u>0&&u>=p)p==0?(t.push(a,...e),e.length=0,a=w):e.push(w),u=p;else{let A=mv(a,w);A>=0?a=A:u==0&&p==0?(t.push(a),a=w):(e.push(w),u=p)}}return a>=0&&t.push(a,...e),t}function eE(n){return tE(n).map(Jb)}function yv(n){return pv(tE(n))}const Fx=45,nE=".",iE=65039,rE=1,Uh=n=>Array.from(n);function Su(n,t){return n.P.has(t)||n.Q.has(t)}class xv extends Array{get is_emoji(){return!0}}let ag,sE,Bo,og,aE,Gl,S1,Bl,No,zx,lg;function rm(){if(ag)return;let n=Yb(W8);const t=()=>bu(n),e=()=>new Set(t()),a=(C,T)=>T.forEach(I=>C.add(I));ag=new Map(Qb(n)),sE=e(),Bo=t(),og=new Set(t().map(C=>Bo[C])),Bo=new Set(Bo),aE=e(),e();let u=Xb(n),h=n();const p=()=>{let C=new Set;return t().forEach(T=>a(C,u[T])),a(C,t()),C};Gl=Eu(C=>{let T=Eu(n).map(I=>I+96);if(T.length){let I=C>=h;T[0]-=32,T=ql(T),I&&(T=`Restricted[${T}]`);let D=p(),P=p(),L=!n();return{N:T,P:D,Q:P,M:L,R:I}}}),S1=e(),Bl=new Map;let w=t().concat(Uh(S1)).sort((C,T)=>C-T);w.forEach((C,T)=>{let I=n(),D=w[T]=I?w[T-I]:{V:[],M:new Map};D.V.push(C),S1.has(C)||Bl.set(C,D)});for(let{V:C,M:T}of new Set(Bl.values())){let I=[];for(let P of C){let L=Gl.filter(G=>Su(G,P)),F=I.find(({G})=>L.some(q=>G.has(q)));F||(F={G:new Set,V:[]},I.push(F)),F.V.push(P),a(F.G,L)}let D=I.flatMap(P=>Uh(P.G));for(let{G:P,V:L}of I){let F=new Set(D.filter(G=>!P.has(G)));for(let G of L)T.set(G,F)}}No=new Set;let A=new Set;const y=C=>No.has(C)?A.add(C):No.add(C);for(let C of Gl){for(let T of C.P)y(T);for(let T of C.Q)y(T)}for(let C of No)!Bl.has(C)&&!A.has(C)&&Bl.set(C,rE);a(No,eE(No)),zx=rv(n).map(C=>xv.from(C)).sort(ov),lg=new Map;for(let C of zx){let T=[lg];for(let I of C){let D=T.map(P=>{let L=P.get(I);return L||(L=new Map,P.set(I,L)),L});I===iE?T.push(...D):T=D}for(let I of T)I.V=C}}function sm(n){return(oE(n)?"":`${am(i0([n]))} `)+Kb(n)}function am(n){return`"${n}"`}function Av(n){if(n.length>=4&&n[2]==Fx&&n[3]==Fx)throw new Error(`invalid label extension: "${ql(n.slice(0,4))}"`)}function wv(n){for(let e=n.lastIndexOf(95);e>0;)if(n[--e]!==95)throw new Error("underscore allowed only at start")}function bv(n){let t=n[0],e=Px.get(t);if(e)throw hu(`leading ${e}`);let a=n.length,u=-1;for(let h=1;h<a;h++){t=n[h];let p=Px.get(t);if(p){if(u==h)throw hu(`${e} + ${p}`);u=h+1,e=p}}if(u==a)throw hu(`trailing ${e}`)}function i0(n,t=1/0,e=Kb){let a=[];Ev(n[0])&&a.push(""),n.length>t&&(t>>=1,n=[...n.slice(0,t),8230,...n.slice(-t)]);let u=0,h=n.length;for(let p=0;p<h;p++){let w=n[p];oE(w)&&(a.push(ql(n.slice(u,p))),a.push(e(w)),u=p+1)}return a.push(ql(n.slice(u,h))),a.join("")}function Ev(n){return rm(),Bo.has(n)}function oE(n){return rm(),aE.has(n)}function Cv(n){return Nv(Sv(n,yv,Ov))}function Sv(n,t,e){if(!n)return[];rm();let a=0;return n.split(nE).map(u=>{let h=av(u),p={input:h,offset:a};a+=h.length+1;try{let w=p.tokens=Mv(h,t,e),A=w.length,y;if(!A)throw new Error("empty label");let C=p.output=w.flat();if(wv(C),!(p.emoji=A>1||w[0].is_emoji)&&C.every(I=>I<128))Av(C),y="ASCII";else{let I=w.flatMap(D=>D.is_emoji?[]:D);if(!I.length)y="Emoji";else{if(Bo.has(C[0]))throw hu("leading combining mark");for(let L=1;L<A;L++){let F=w[L];if(!F.is_emoji&&Bo.has(F[0]))throw hu(`emoji + combining mark: "${ql(w[L-1])} + ${i0([F[0]])}"`)}bv(C);let D=Uh(new Set(I)),[P]=vv(D);Iv(P,I),Tv(P,D),y=P.N}}p.type=y}catch(w){p.error=w}return p})}function Tv(n,t){let e,a=[];for(let u of t){let h=Bl.get(u);if(h===rE)return;if(h){let p=h.M.get(u);if(e=e?e.filter(w=>p.has(w)):Uh(p),!e.length)return}else a.push(u)}if(e){for(let u of e)if(a.every(h=>Su(u,h)))throw new Error(`whole-script confusable: ${n.N}/${u.N}`)}}function vv(n){let t=Gl;for(let e of n){let a=t.filter(u=>Su(u,e));if(!a.length)throw Gl.some(u=>Su(u,e))?cE(t[0],e):lE(e);if(t=a,a.length==1)break}return t}function Nv(n){return n.map(({input:t,error:e,output:a})=>{if(e){let u=e.message;throw new Error(n.length==1?u:`Invalid label ${am(i0(t,63))}: ${u}`)}return ql(a)}).join(nE)}function lE(n){return new Error(`disallowed character: ${sm(n)}`)}function cE(n,t){let e=sm(t),a=Gl.find(u=>u.P.has(t));return a&&(e=`${a.N} ${e}`),new Error(`illegal mixture: ${n.N} + ${e}`)}function hu(n){return new Error(`illegal placement: ${n}`)}function Iv(n,t){for(let e of t)if(!Su(n,e))throw cE(n,e);if(n.M){let e=eE(t);for(let a=1,u=e.length;a<u;a++)if(og.has(e[a])){let h=a+1;for(let p;h<u&&og.has(p=e[h]);h++)for(let w=a;w<h;w++)if(e[w]==p)throw new Error(`duplicate non-spacing marks: ${sm(p)}`);if(h-a>Ux)throw new Error(`excessive non-spacing marks: ${am(i0(e.slice(a-1,h)))} (${h-a}/${Ux})`);a=h}}}function Mv(n,t,e){let a=[],u=[];for(n=n.slice().reverse();n.length;){let h=Rv(n);if(h)u.length&&(a.push(t(u)),u=[]),a.push(e(h));else{let p=n.pop();if(No.has(p))u.push(p);else{let w=ag.get(p);if(w)u.push(...w);else if(!sE.has(p))throw lE(p)}}}return u.length&&a.push(t(u)),a}function Ov(n){return n.filter(t=>t!=iE)}function Rv(n,t){let e=lg,a,u=n.length;for(;u&&(e=e.get(n[--u]),!!e);){let{V:h}=e;h&&(a=h,n.length=u)}return a}const uE=new Uint8Array(32);uE.fill(0);function Vx(n){return W(n.length!==0,"invalid ENS name; empty component","comp",n),n}function fE(n){const t=Hs(Dv(n)),e=[];if(n.length===0)return e;let a=0;for(let u=0;u<t.length;u++)t[u]===46&&(e.push(Vx(t.slice(a,u))),a=u+1);return W(a<t.length,"invalid ENS name; empty component","name",n),e.push(Vx(t.slice(a))),e}function Dv(n){try{if(n.length===0)throw new Error("empty label");return Cv(n)}catch(t){W(!1,`invalid ENS name (${t.message})`,"name",n)}}function cg(n){W(typeof n=="string","invalid ENS name; not a string","name",n),W(n.length,"invalid ENS name (empty label)","name",n);let t=uE;const e=fE(n);for(;e.length;)t=jn(gn([t,jn(e.pop())]));return Dt(t)}function Bv(n,t){const e=t;return W(e<=255,"DNS encoded label cannot exceed 255","length",e),Dt(gn(fE(n).map(a=>{W(a.length<=e,`label ${JSON.stringify(n)} exceeds ${e} bytes`,"name",n);const u=new Uint8Array(a.length+1);return u.set(a,1),u[0]=u.length-1,u})))+"00"}const hE=new Uint8Array(32);hE.fill(0);const _v=BigInt(-1),dE=BigInt(0),gE=BigInt(1),Lv=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Pv(n){const t=fe(n),e=t.length%32;return e?gn([t,hE.slice(e)]):Dt(t)}const Uv=Ya(gE,32),kv=Ya(dE,32),Hx={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},T1=["name","version","chainId","verifyingContract","salt"];function Gx(n){return function(t){return W(typeof t=="string",`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,t),t}}const Fv={name:Gx("name"),version:Gx("version"),chainId:function(n){const t=Vt(n,"domain.chainId");return W(t>=0,"invalid chain ID","domain.chainId",n),Number.isSafeInteger(t)?Number(t):Xr(t)},verifyingContract:function(n){try{return Fe(n).toLowerCase()}catch{}W(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){const t=fe(n,"domain.salt");return W(t.length===32,'invalid domain value "salt"',"domain.salt",n),Dt(t)}};function v1(n){{const t=n.match(/^(u?)int(\d+)$/);if(t){const e=t[1]==="",a=parseInt(t[2]);W(a%8===0&&a!==0&&a<=256&&t[2]===String(a),"invalid numeric width","type",n);const u=au(Lv,e?a-1:a),h=e?(u+gE)*_v:dE;return function(p){const w=Vt(p,"value");return W(w>=h&&w<=u,`value out-of-bounds for ${n}`,"value",w),Ya(e?tb(w,256):w,32)}}}{const t=n.match(/^bytes(\d+)$/);if(t){const e=parseInt(t[1]);return W(e!==0&&e<=32&&t[1]===String(e),"invalid bytes width","type",n),function(a){const u=fe(a);return W(u.length===e,`invalid length for ${n}`,"value",a),Pv(a)}}}switch(n){case"address":return function(t){return Xs(Fe(t),32)};case"bool":return function(t){return t?Uv:kv};case"bytes":return function(t){return jn(t)};case"string":return function(t){return zo(t)}}return null}function jx(n,t){return`${n}(${t.map(({name:e,type:a})=>a+" "+e).join(",")})`}function mh(n){const t=n.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:n}}class lr{primaryType;#t;get types(){return JSON.parse(this.#t)}#e;#n;constructor(t){this.#e=new Map,this.#n=new Map;const e=new Map,a=new Map,u=new Map,h={};Object.keys(t).forEach(A=>{h[A]=t[A].map(({name:y,type:C})=>{let{base:T,index:I}=mh(C);return T==="int"&&!t.int&&(T="int256"),T==="uint"&&!t.uint&&(T="uint256"),{name:y,type:T+(I||"")}}),e.set(A,new Set),a.set(A,[]),u.set(A,new Set)}),this.#t=JSON.stringify(h);for(const A in h){const y=new Set;for(const C of h[A]){W(!y.has(C.name),`duplicate variable name ${JSON.stringify(C.name)} in ${JSON.stringify(A)}`,"types",t),y.add(C.name);const T=mh(C.type).base;W(T!==A,`circular type reference to ${JSON.stringify(T)}`,"types",t),!v1(T)&&(W(a.has(T),`unknown type ${JSON.stringify(T)}`,"types",t),a.get(T).push(A),e.get(A).add(T))}}const p=Array.from(a.keys()).filter(A=>a.get(A).length===0);W(p.length!==0,"missing primary type","types",t),W(p.length===1,`ambiguous primary types or unused types: ${p.map(A=>JSON.stringify(A)).join(", ")}`,"types",t),Jt(this,{primaryType:p[0]});function w(A,y){W(!y.has(A),`circular type reference to ${JSON.stringify(A)}`,"types",t),y.add(A);for(const C of e.get(A))if(a.has(C)){w(C,y);for(const T of y)u.get(T).add(C)}y.delete(A)}w(this.primaryType,new Set);for(const[A,y]of u){const C=Array.from(y);C.sort(),this.#e.set(A,jx(A,h[A])+C.map(T=>jx(T,h[T])).join(""))}}getEncoder(t){let e=this.#n.get(t);return e||(e=this.#i(t),this.#n.set(t,e)),e}#i(t){{const u=v1(t);if(u)return u}const e=mh(t).array;if(e){const u=e.prefix,h=this.getEncoder(u);return p=>{W(e.count===-1||e.count===p.length,`array length mismatch; expected length ${e.count}`,"value",p);let w=p.map(h);return this.#e.has(u)&&(w=w.map(jn)),jn(gn(w))}}const a=this.types[t];if(a){const u=zo(this.#e.get(t));return h=>{const p=a.map(({name:w,type:A})=>{const y=this.getEncoder(A)(h[w]);return this.#e.has(A)?jn(y):y});return p.unshift(u),gn(p)}}W(!1,`unknown type: ${t}`,"type",t)}encodeType(t){const e=this.#e.get(t);return W(e,`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return jn(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,a){if(v1(t))return a(t,e);const u=mh(t).array;if(u)return W(u.count===-1||u.count===e.length,`array length mismatch; expected length ${u.count}`,"value",e),e.map(p=>this._visit(u.prefix,p,a));const h=this.types[t];if(h)return h.reduce((p,{name:w,type:A})=>(p[w]=this._visit(A,e[w],a),p),{});W(!1,`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new lr(t)}static getPrimaryType(t){return lr.from(t).primaryType}static hashStruct(t,e,a){return lr.from(e).hashStruct(t,a)}static hashDomain(t){const e=[];for(const a in t){if(t[a]==null)continue;const u=Hx[a];W(u,`invalid typed-data domain key: ${JSON.stringify(a)}`,"domain",t),e.push({name:a,type:u})}return e.sort((a,u)=>T1.indexOf(a.name)-T1.indexOf(u.name)),lr.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,a){return gn(["0x1901",lr.hashDomain(t),lr.from(e).hash(a)])}static hash(t,e,a){return jn(lr.encode(t,e,a))}static async resolveNames(t,e,a,u){t=Object.assign({},t);for(const w in t)t[w]==null&&delete t[w];const h={};t.verifyingContract&&!nn(t.verifyingContract,20)&&(h[t.verifyingContract]="0x");const p=lr.from(e);p.visit(a,(w,A)=>(w==="address"&&!nn(A,20)&&(h[A]="0x"),A));for(const w in h)h[w]=await u(w);return t.verifyingContract&&h[t.verifyingContract]&&(t.verifyingContract=h[t.verifyingContract]),a=p.visit(a,(w,A)=>w==="address"&&h[A]?h[A]:A),{domain:t,value:a}}static getPayload(t,e,a){lr.hashDomain(t);const u={},h=[];T1.forEach(A=>{const y=t[A];y!=null&&(u[A]=Fv[A](y),h.push({name:A,type:Hx[A]}))});const p=lr.from(e);e=p.types;const w=Object.assign({},e);return W(w.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",e),w.EIP712Domain=h,p.encode(a),{types:w,domain:u,primaryType:p.primaryType,message:p.visit(a,(A,y)=>{if(A.match(/^bytes(\d*)/))return Dt(fe(y));if(A.match(/^u?int/))return Vt(y).toString();switch(A){case"address":return y.toLowerCase();case"bool":return!!y;case"string":return W(typeof y=="string","invalid string","value",y),y}W(!1,"unsupported type","type",A)})}}}function Ri(n){const t=new Set;return n.forEach(e=>t.add(e)),Object.freeze(t)}const zv="external public payable override",Vv=Ri(zv.split(" ")),mE="constant external internal payable private public pure view override",Hv=Ri(mE.split(" ")),pE="constructor error event fallback function receive struct",yE=Ri(pE.split(" ")),xE="calldata memory storage payable indexed",Gv=Ri(xE.split(" ")),jv="tuple returns",Yv=[pE,xE,jv,mE].join(" "),Xv=Ri(Yv.split(" ")),Qv={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Zv=new RegExp("^(\\s*)"),Kv=new RegExp("^([0-9]+)"),Wv=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),AE=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),wE=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class Rr{#t;#e;get offset(){return this.#t}get length(){return this.#e.length-this.#t}constructor(t){this.#t=0,this.#e=t.slice()}clone(){return new Rr(this.#e)}reset(){this.#t=0}#n(t=0,e=0){return new Rr(this.#e.slice(t,e).map(a=>Object.freeze(Object.assign({},a,{match:a.match-t,linkBack:a.linkBack-t,linkNext:a.linkNext-t}))))}popKeyword(t){const e=this.peek();if(e.type!=="KEYWORD"||!t.has(e.text))throw new Error(`expected keyword ${e.text}`);return this.pop().text}popType(t){if(this.peek().type!==t){const e=this.peek();throw new Error(`expected ${t}; got ${e.type} ${JSON.stringify(e.text)}`)}return this.pop().text}popParen(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=this.#n(this.#t+1,t.match+1);return this.#t=t.match+1,e}popParams(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=[];for(;this.#t<t.match-1;){const a=this.peek().linkNext;e.push(this.#n(this.#t+1,a)),this.#t=a}return this.#t=t.match+1,e}peek(){if(this.#t>=this.#e.length)throw new Error("out-of-bounds");return this.#e[this.#t]}peekKeyword(t){const e=this.peekType("KEYWORD");return e!=null&&t.has(e)?e:null}peekType(t){if(this.length===0)return null;const e=this.peek();return e.type===t?e.text:null}pop(){const t=this.peek();return this.#t++,t}toString(){const t=[];for(let e=this.#t;e<this.#e.length;e++){const a=this.#e[e];t.push(`${a.type}:${a.text}`)}return`<TokenString ${t.join(" ")}>`}}function Wa(n){const t=[],e=p=>{const w=h<n.length?JSON.stringify(n[h]):"$EOI";throw new Error(`invalid token ${w} at ${h}: ${p}`)};let a=[],u=[],h=0;for(;h<n.length;){let p=n.substring(h),w=p.match(Zv);w&&(h+=w[1].length,p=n.substring(h));const A={depth:a.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:h,value:-1};t.push(A);let y=Qv[p[0]]||"";if(y){if(A.type=y,A.text=p[0],h++,y==="OPEN_PAREN")a.push(t.length-1),u.push(t.length-1);else if(y=="CLOSE_PAREN")a.length===0&&e("no matching open bracket"),A.match=a.pop(),t[A.match].match=t.length-1,A.depth--,A.linkBack=u.pop(),t[A.linkBack].linkNext=t.length-1;else if(y==="COMMA")A.linkBack=u.pop(),t[A.linkBack].linkNext=t.length-1,u.push(t.length-1);else if(y==="OPEN_BRACKET")A.type="BRACKET";else if(y==="CLOSE_BRACKET"){let C=t.pop().text;if(t.length>0&&t[t.length-1].type==="NUMBER"){const T=t.pop().text;C=T+C,t[t.length-1].value=he(T)}if(t.length===0||t[t.length-1].type!=="BRACKET")throw new Error("missing opening bracket");t[t.length-1].text+=C}continue}if(w=p.match(Wv),w){if(A.text=w[1],h+=A.text.length,Xv.has(A.text)){A.type="KEYWORD";continue}if(A.text.match(wE)){A.type="TYPE";continue}A.type="ID";continue}if(w=p.match(Kv),w){A.text=w[1],A.type="NUMBER",h+=A.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(p[0])} at position ${h}`)}return new Rr(t.map(p=>Object.freeze(p)))}function Yx(n,t){let e=[];for(const a in t.keys())n.has(a)&&e.push(a);if(e.length>1)throw new Error(`conflicting types: ${e.join(", ")}`)}function r0(n,t){if(t.peekKeyword(yE)){const e=t.pop().text;if(e!==n)throw new Error(`expected ${n}, got ${e}`)}return t.popType("ID")}function Zs(n,t){const e=new Set;for(;;){const a=n.peekType("KEYWORD");if(a==null||t&&!t.has(a))break;if(n.pop(),e.has(a))throw new Error(`duplicate keywords: ${JSON.stringify(a)}`);e.add(a)}return Object.freeze(e)}function bE(n){let t=Zs(n,Hv);return Yx(t,Ri("constant payable nonpayable".split(" "))),Yx(t,Ri("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function js(n,t){return n.popParams().map(e=>en.from(e,t))}function EE(n){if(n.peekType("AT")){if(n.pop(),n.peekType("NUMBER"))return Vt(n.pop().text);throw new Error("invalid gas")}return null}function Vo(n){if(n.length)throw new Error(`unexpected tokens at offset ${n.offset}: ${n.toString()}`)}const qv=new RegExp(/^(.*)\[([0-9]*)\]$/);function Xx(n){const t=n.match(wE);if(W(t,"invalid type","type",n),n==="uint")return"uint256";if(n==="int")return"int256";if(t[2]){const e=parseInt(t[2]);W(e!==0&&e<=32,"invalid bytes length","type",n)}else if(t[3]){const e=parseInt(t[3]);W(e!==0&&e<=256&&e%8===0,"invalid numeric width","type",n)}return n}const yn={},Xi=Symbol.for("_ethers_internal"),Qx="_ParamTypeInternal",Zx="_ErrorInternal",Kx="_EventInternal",Wx="_ConstructorInternal",qx="_FallbackInternal",Jx="_FunctionInternal",$x="_StructInternal";class en{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(t,e,a,u,h,p,w,A){if(Kh(t,yn,"ParamType"),Object.defineProperty(this,Xi,{value:Qx}),p&&(p=Object.freeze(p.slice())),u==="array"){if(w==null||A==null)throw new Error("")}else if(w!=null||A!=null)throw new Error("");if(u==="tuple"){if(p==null)throw new Error("")}else if(p!=null)throw new Error("");Jt(this,{name:e,type:a,baseType:u,indexed:h,components:p,arrayLength:w,arrayChildren:A})}format(t){if(t==null&&(t="sighash"),t==="json"){const a=this.name||"";if(this.isArray()){const h=JSON.parse(this.arrayChildren.format("json"));return h.name=a,h.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(h)}const u={type:this.baseType==="tuple"?"tuple":this.type,name:a};return typeof this.indexed=="boolean"&&(u.indexed=this.indexed),this.isTuple()&&(u.components=this.components.map(h=>JSON.parse(h.format(t)))),JSON.stringify(u)}let e="";return this.isArray()?(e+=this.arrayChildren.format(t),e+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?e+="("+this.components.map(a=>a.format(t)).join(t==="full"?", ":",")+")":e+=this.type,t!=="sighash"&&(this.indexed===!0&&(e+=" indexed"),t==="full"&&this.name&&(e+=" "+this.name)),e}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(t,e){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const a=this;return t.map(u=>a.arrayChildren.walk(u,e))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const a=this;return t.map((u,h)=>a.components[h].walk(u,e))}return e(this.type,t)}#t(t,e,a,u){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const p=this.arrayChildren,w=e.slice();w.forEach((A,y)=>{p.#t(t,A,a,C=>{w[y]=C})}),u(w);return}if(this.isTuple()){const p=this.components;let w;if(Array.isArray(e))w=e.slice();else{if(e==null||typeof e!="object")throw new Error("invalid tuple value");w=p.map(A=>{if(!A.name)throw new Error("cannot use object value with unnamed components");if(!(A.name in e))throw new Error(`missing value for component ${A.name}`);return e[A.name]})}if(w.length!==this.components.length)throw new Error("array is wrong length");w.forEach((A,y)=>{p[y].#t(t,A,a,C=>{w[y]=C})}),u(w);return}const h=a(this.type,e);h.then?t.push((async function(){u(await h)})()):u(h)}async walkAsync(t,e){const a=[],u=[t];return this.#t(a,t,e,h=>{u[0]=h}),a.length&&await Promise.all(a),u[0]}static from(t,e){if(en.isParamType(t))return t;if(typeof t=="string")try{return en.from(Wa(t),e)}catch{W(!1,"invalid param type","obj",t)}else if(t instanceof Rr){let w="",A="",y=null;Zs(t,Ri(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(A="tuple",y=t.popParams().map(L=>en.from(L)),w=`tuple(${y.map(L=>L.format()).join(",")})`):(w=Xx(t.popType("TYPE")),A=w);let C=null,T=null;for(;t.length&&t.peekType("BRACKET");){const L=t.pop();C=new en(yn,"",w,A,null,y,T,C),T=L.value,w+=L.text,A="array",y=null}let I=null;if(Zs(t,Gv).has("indexed")){if(!e)throw new Error("");I=!0}const P=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new en(yn,P,w,A,I,y,T,C)}const a=t.name;W(!a||typeof a=="string"&&a.match(AE),"invalid name","obj.name",a);let u=t.indexed;u!=null&&(W(e,"parameter cannot be indexed","obj.indexed",t.indexed),u=!!u);let h=t.type,p=h.match(qv);if(p){const w=parseInt(p[2]||"-1"),A=en.from({type:p[1],components:t.components});return new en(yn,a||"",h,"array",u,null,w,A)}if(h==="tuple"||h.startsWith("tuple(")||h.startsWith("(")){const w=t.components!=null?t.components.map(y=>en.from(y)):null;return new en(yn,a||"",h,"tuple",u,w,null,null)}return h=Xx(t.type),new en(yn,a||"",h,h,u,null,null,null)}static isParamType(t){return t&&t[Xi]===Qx}}class Ho{type;inputs;constructor(t,e,a){Kh(t,yn,"Fragment"),a=Object.freeze(a.slice()),Jt(this,{type:e,inputs:a})}static from(t){if(typeof t=="string"){try{Ho.from(JSON.parse(t))}catch{}return Ho.from(Wa(t))}if(t instanceof Rr)switch(t.peekKeyword(yE)){case"constructor":return zs.from(t);case"error":return Yi.from(t);case"event":return cs.from(t);case"fallback":case"receive":return Ps.from(t);case"function":return us.from(t);case"struct":return ko.from(t)}else if(typeof t=="object"){switch(t.type){case"constructor":return zs.from(t);case"error":return Yi.from(t);case"event":return cs.from(t);case"fallback":case"receive":return Ps.from(t);case"function":return us.from(t);case"struct":return ko.from(t)}wt(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}W(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return zs.isFragment(t)}static isError(t){return Yi.isFragment(t)}static isEvent(t){return cs.isFragment(t)}static isFunction(t){return us.isFragment(t)}static isStruct(t){return ko.isFragment(t)}}class s0 extends Ho{name;constructor(t,e,a,u){super(t,e,u),W(typeof a=="string"&&a.match(AE),"invalid identifier","name",a),u=Object.freeze(u.slice()),Jt(this,{name:a})}}function Tu(n,t){return"("+t.map(e=>e.format(n)).join(n==="full"?", ":",")+")"}class Yi extends s0{constructor(t,e,a){super(t,"error",e,a),Object.defineProperty(this,Xi,{value:Zx})}get selector(){return zo(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(a=>JSON.parse(a.format(t)))});const e=[];return t!=="sighash"&&e.push("error"),e.push(this.name+Tu(t,this.inputs)),e.join(" ")}static from(t){if(Yi.isFragment(t))return t;if(typeof t=="string")return Yi.from(Wa(t));if(t instanceof Rr){const e=r0("error",t),a=js(t);return Vo(t),new Yi(yn,e,a)}return new Yi(yn,t.name,t.inputs?t.inputs.map(en.from):[])}static isFragment(t){return t&&t[Xi]===Zx}}class cs extends s0{anonymous;constructor(t,e,a,u){super(t,"event",e,a),Object.defineProperty(this,Xi,{value:Kx}),Jt(this,{anonymous:u})}get topicHash(){return zo(this.format("sighash"))}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(a=>JSON.parse(a.format(t)))});const e=[];return t!=="sighash"&&e.push("event"),e.push(this.name+Tu(t,this.inputs)),t!=="sighash"&&this.anonymous&&e.push("anonymous"),e.join(" ")}static getTopicHash(t,e){return e=(e||[]).map(u=>en.from(u)),new cs(yn,t,e,!1).topicHash}static from(t){if(cs.isFragment(t))return t;if(typeof t=="string")try{return cs.from(Wa(t))}catch{W(!1,"invalid event fragment","obj",t)}else if(t instanceof Rr){const e=r0("event",t),a=js(t,!0),u=!!Zs(t,Ri(["anonymous"])).has("anonymous");return Vo(t),new cs(yn,e,a,u)}return new cs(yn,t.name,t.inputs?t.inputs.map(e=>en.from(e,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[Xi]===Kx}}class zs extends Ho{payable;gas;constructor(t,e,a,u,h){super(t,e,a),Object.defineProperty(this,Xi,{value:Wx}),Jt(this,{payable:u,gas:h})}format(t){if(wt(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(a=>JSON.parse(a.format(t)))});const e=[`constructor${Tu(t,this.inputs)}`];return this.payable&&e.push("payable"),this.gas!=null&&e.push(`@${this.gas.toString()}`),e.join(" ")}static from(t){if(zs.isFragment(t))return t;if(typeof t=="string")try{return zs.from(Wa(t))}catch{W(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof Rr){Zs(t,Ri(["constructor"]));const e=js(t),a=!!Zs(t,Vv).has("payable"),u=EE(t);return Vo(t),new zs(yn,"constructor",e,a,u)}return new zs(yn,"constructor",t.inputs?t.inputs.map(en.from):[],!!t.payable,t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[Xi]===Wx}}class Ps extends Ho{payable;constructor(t,e,a){super(t,"fallback",e),Object.defineProperty(this,Xi,{value:qx}),Jt(this,{payable:a})}format(t){const e=this.inputs.length===0?"receive":"fallback";if(t==="json"){const a=this.payable?"payable":"nonpayable";return JSON.stringify({type:e,stateMutability:a})}return`${e}()${this.payable?" payable":""}`}static from(t){if(Ps.isFragment(t))return t;if(typeof t=="string")try{return Ps.from(Wa(t))}catch{W(!1,"invalid fallback fragment","obj",t)}else if(t instanceof Rr){const e=t.toString(),a=t.peekKeyword(Ri(["fallback","receive"]));if(W(a,"type must be fallback or receive","obj",e),t.popKeyword(Ri(["fallback","receive"]))==="receive"){const w=js(t);return W(w.length===0,"receive cannot have arguments","obj.inputs",w),Zs(t,Ri(["payable"])),Vo(t),new Ps(yn,[],!0)}let h=js(t);h.length?W(h.length===1&&h[0].type==="bytes","invalid fallback inputs","obj.inputs",h.map(w=>w.format("minimal")).join(", ")):h=[en.from("bytes")];const p=bE(t);if(W(p==="nonpayable"||p==="payable","fallback cannot be constants","obj.stateMutability",p),Zs(t,Ri(["returns"])).has("returns")){const w=js(t);W(w.length===1&&w[0].type==="bytes","invalid fallback outputs","obj.outputs",w.map(A=>A.format("minimal")).join(", "))}return Vo(t),new Ps(yn,h,p==="payable")}if(t.type==="receive")return new Ps(yn,[],!0);if(t.type==="fallback"){const e=[en.from("bytes")],a=t.stateMutability==="payable";return new Ps(yn,e,a)}W(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[Xi]===qx}}class us extends s0{constant;outputs;stateMutability;payable;gas;constructor(t,e,a,u,h,p){super(t,"function",e,u),Object.defineProperty(this,Xi,{value:Jx}),h=Object.freeze(h.slice()),Jt(this,{constant:a==="view"||a==="pure",gas:p,outputs:h,payable:a==="payable",stateMutability:a})}get selector(){return zo(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(a=>JSON.parse(a.format(t))),outputs:this.outputs.map(a=>JSON.parse(a.format(t)))});const e=[];return t!=="sighash"&&e.push("function"),e.push(this.name+Tu(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&e.push(this.stateMutability),this.outputs&&this.outputs.length&&(e.push("returns"),e.push(Tu(t,this.outputs))),this.gas!=null&&e.push(`@${this.gas.toString()}`)),e.join(" ")}static getSelector(t,e){return e=(e||[]).map(u=>en.from(u)),new us(yn,t,"view",e,[],null).selector}static from(t){if(us.isFragment(t))return t;if(typeof t=="string")try{return us.from(Wa(t))}catch{W(!1,"invalid function fragment","obj",t)}else if(t instanceof Rr){const a=r0("function",t),u=js(t),h=bE(t);let p=[];Zs(t,Ri(["returns"])).has("returns")&&(p=js(t));const w=EE(t);return Vo(t),new us(yn,a,h,u,p,w)}let e=t.stateMutability;return e==null&&(e="payable",typeof t.constant=="boolean"?(e="view",t.constant||(e="payable",typeof t.payable=="boolean"&&!t.payable&&(e="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(e="nonpayable")),new us(yn,t.name,e,t.inputs?t.inputs.map(en.from):[],t.outputs?t.outputs.map(en.from):[],t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[Xi]===Jx}}class ko extends s0{constructor(t,e,a){super(t,"struct",e,a),Object.defineProperty(this,Xi,{value:$x})}format(){throw new Error("@TODO")}static from(t){if(typeof t=="string")try{return ko.from(Wa(t))}catch{W(!1,"invalid struct fragment","obj",t)}else if(t instanceof Rr){const e=r0("struct",t),a=js(t);return Vo(t),new ko(yn,e,a)}return new ko(yn,t.name,t.inputs?t.inputs.map(en.from):[])}static isFragment(t){return t&&t[Xi]===$x}}const Zr=new Map;Zr.set(0,"GENERIC_PANIC");Zr.set(1,"ASSERT_FALSE");Zr.set(17,"OVERFLOW");Zr.set(18,"DIVIDE_BY_ZERO");Zr.set(33,"ENUM_RANGE_ERROR");Zr.set(34,"BAD_STORAGE_DATA");Zr.set(49,"STACK_UNDERFLOW");Zr.set(50,"ARRAY_RANGE_ERROR");Zr.set(65,"OUT_OF_MEMORY");Zr.set(81,"UNINITIALIZED_FUNCTION_CALL");const Jv=new RegExp(/^bytes([0-9]*)$/),$v=new RegExp(/^(u?int)([0-9]*)$/);let N1=null,tA=1024;function tN(n,t,e,a){let u="missing revert data",h=null;const p=null;let w=null;if(e){u="execution reverted";const y=fe(e);if(e=Dt(e),y.length===0)u+=" (no data present; likely require(false) occurred",h="require(false)";else if(y.length%32!==4)u+=" (could not decode reason; invalid data length)";else if(Dt(y.slice(0,4))==="0x08c379a0")try{h=a.decode(["string"],y.slice(4))[0],w={signature:"Error(string)",name:"Error",args:[h]},u+=`: ${JSON.stringify(h)}`}catch{u+=" (could not decode reason; invalid string data)"}else if(Dt(y.slice(0,4))==="0x4e487b71")try{const C=Number(a.decode(["uint256"],y.slice(4))[0]);w={signature:"Panic(uint256)",name:"Panic",args:[C]},h=`Panic due to ${Zr.get(C)||"UNKNOWN"}(${C})`,u+=`: ${h}`}catch{u+=" (could not decode panic code)"}else u+=" (unknown custom error)"}const A={to:t.to?Fe(t.to):null,data:t.data||"0x"};return t.from&&(A.from=Fe(t.from)),dn(u,"CALL_EXCEPTION",{action:n,data:e,reason:h,transaction:A,invocation:p,revert:w})}class $l{#t(t){if(t.isArray())return new y8(this.#t(t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new gh(t.components.map(a=>this.#t(a)),t.name);switch(t.baseType){case"address":return new m8(t.name);case"bool":return new x8(t.name);case"string":return new N8(t.name);case"bytes":return new A8(t.name);case"":return new E8(t.name)}let e=t.type.match($v);if(e){let a=parseInt(e[2]||"256");return W(a!==0&&a<=256&&a%8===0,"invalid "+e[1]+" bit length","param",t),new v8(a/8,e[1]==="int",t.name)}if(e=t.type.match(Jv),e){let a=parseInt(e[1]);return W(a!==0&&a<=32,"invalid bytes length","param",t),new w8(a,t.name)}W(!1,"invalid type","type",t.type)}getDefaultValue(t){const e=t.map(u=>this.#t(en.from(u)));return new gh(e,"_").defaultValue()}encode(t,e){qw(e.length,t.length,"types/values length mismatch");const a=t.map(p=>this.#t(en.from(p))),u=new gh(a,"_"),h=new q1;return u.encode(h,e),h.data}decode(t,e,a){const u=t.map(p=>this.#t(en.from(p)));return new gh(u,"_").decode(new Zg(e,a,tA))}static _setDefaultMaxInflation(t){W(typeof t=="number"&&Number.isInteger(t),"invalid defaultMaxInflation factor","value",t),tA=t}static defaultAbiCoder(){return N1==null&&(N1=new $l),N1}static getBuiltinCallException(t,e,a){return tN(t,e,a,$l.defaultAbiCoder())}}class eN{fragment;name;signature;topic;args;constructor(t,e,a){const u=t.name,h=t.format();Jt(this,{fragment:t,name:u,signature:h,topic:e,args:a})}}class nN{fragment;name;args;signature;selector;value;constructor(t,e,a,u){const h=t.name,p=t.format();Jt(this,{fragment:t,name:h,args:a,signature:p,selector:e,value:u})}}class iN{fragment;name;args;signature;selector;constructor(t,e,a){const u=t.name,h=t.format();Jt(this,{fragment:t,name:u,args:a,signature:h,selector:e})}}class eA{hash;_isIndexed;static isIndexed(t){return!!(t&&t._isIndexed)}constructor(t){Jt(this,{hash:t,_isIndexed:!0})}}const nA={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},iA={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:n=>`reverted with reason string ${JSON.stringify(n)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:n=>{let t="unknown panic code";return n>=0&&n<=255&&nA[n.toString()]&&(t=nA[n.toString()]),`reverted with panic code 0x${n.toString(16)} (${t})`}}};class Ro{fragments;deploy;fallback;receive;#t;#e;#n;#i;constructor(t){let e=[];typeof t=="string"?e=JSON.parse(t):e=t,this.#n=new Map,this.#t=new Map,this.#e=new Map;const a=[];for(const p of e)try{a.push(Ho.from(p))}catch(w){console.log(`[Warning] Invalid Fragment ${JSON.stringify(p)}:`,w.message)}Jt(this,{fragments:Object.freeze(a)});let u=null,h=!1;this.#i=this.getAbiCoder(),this.fragments.forEach((p,w)=>{let A;switch(p.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Jt(this,{deploy:p});return;case"fallback":p.inputs.length===0?h=!0:(W(!u||p.payable!==u.payable,"conflicting fallback fragments",`fragments[${w}]`,p),u=p,h=u.payable);return;case"function":A=this.#n;break;case"event":A=this.#e;break;case"error":A=this.#t;break;default:return}const y=p.format();A.has(y)||A.set(y,p)}),this.deploy||Jt(this,{deploy:zs.from("constructor()")}),Jt(this,{fallback:u,receive:h})}format(t){const e=t?"minimal":"full";return this.fragments.map(u=>u.format(e))}formatJson(){const t=this.fragments.map(e=>e.format("json"));return JSON.stringify(t.map(e=>JSON.parse(e)))}getAbiCoder(){return $l.defaultAbiCoder()}#r(t,e,a){if(nn(t)){const h=t.toLowerCase();for(const p of this.#n.values())if(h===p.selector)return p;return null}if(t.indexOf("(")===-1){const h=[];for(const[p,w]of this.#n)p.split("(")[0]===t&&h.push(w);if(e){const p=e.length>0?e[e.length-1]:null;let w=e.length,A=!0;Mn.isTyped(p)&&p.type==="overrides"&&(A=!1,w--);for(let y=h.length-1;y>=0;y--){const C=h[y].inputs.length;C!==w&&(!A||C!==w-1)&&h.splice(y,1)}for(let y=h.length-1;y>=0;y--){const C=h[y].inputs;for(let T=0;T<e.length;T++)if(Mn.isTyped(e[T])){if(T>=C.length){if(e[T].type==="overrides")continue;h.splice(y,1);break}if(e[T].type!==C[T].baseType){h.splice(y,1);break}}}}if(h.length===1&&e&&e.length!==h[0].inputs.length){const p=e[e.length-1];(p==null||Array.isArray(p)||typeof p!="object")&&h.splice(0,1)}if(h.length===0)return null;if(h.length>1&&a){const p=h.map(w=>JSON.stringify(w.format())).join(", ");W(!1,`ambiguous function description (i.e. matches ${p})`,"key",t)}return h[0]}const u=this.#n.get(us.from(t).format());return u||null}getFunctionName(t){const e=this.#r(t,null,!1);return W(e,"no matching function","key",t),e.name}hasFunction(t){return!!this.#r(t,null,!1)}getFunction(t,e){return this.#r(t,e||null,!0)}forEachFunction(t){const e=Array.from(this.#n.keys());e.sort((a,u)=>a.localeCompare(u));for(let a=0;a<e.length;a++){const u=e[a];t(this.#n.get(u),a)}}#a(t,e,a){if(nn(t)){const h=t.toLowerCase();for(const p of this.#e.values())if(h===p.topicHash)return p;return null}if(t.indexOf("(")===-1){const h=[];for(const[p,w]of this.#e)p.split("(")[0]===t&&h.push(w);if(e){for(let p=h.length-1;p>=0;p--)h[p].inputs.length<e.length&&h.splice(p,1);for(let p=h.length-1;p>=0;p--){const w=h[p].inputs;for(let A=0;A<e.length;A++)if(Mn.isTyped(e[A])&&e[A].type!==w[A].baseType){h.splice(p,1);break}}}if(h.length===0)return null;if(h.length>1&&a){const p=h.map(w=>JSON.stringify(w.format())).join(", ");W(!1,`ambiguous event description (i.e. matches ${p})`,"key",t)}return h[0]}const u=this.#e.get(cs.from(t).format());return u||null}getEventName(t){const e=this.#a(t,null,!1);return W(e,"no matching event","key",t),e.name}hasEvent(t){return!!this.#a(t,null,!1)}getEvent(t,e){return this.#a(t,e||null,!0)}forEachEvent(t){const e=Array.from(this.#e.keys());e.sort((a,u)=>a.localeCompare(u));for(let a=0;a<e.length;a++){const u=e[a];t(this.#e.get(u),a)}}getError(t,e){if(nn(t)){const u=t.toLowerCase();if(iA[u])return Yi.from(iA[u].signature);for(const h of this.#t.values())if(u===h.selector)return h;return null}if(t.indexOf("(")===-1){const u=[];for(const[h,p]of this.#t)h.split("(")[0]===t&&u.push(p);if(u.length===0)return t==="Error"?Yi.from("error Error(string)"):t==="Panic"?Yi.from("error Panic(uint256)"):null;if(u.length>1){const h=u.map(p=>JSON.stringify(p.format())).join(", ");W(!1,`ambiguous error description (i.e. ${h})`,"name",t)}return u[0]}if(t=Yi.from(t).format(),t==="Error(string)")return Yi.from("error Error(string)");if(t==="Panic(uint256)")return Yi.from("error Panic(uint256)");const a=this.#t.get(t);return a||null}forEachError(t){const e=Array.from(this.#t.keys());e.sort((a,u)=>a.localeCompare(u));for(let a=0;a<e.length;a++){const u=e[a];t(this.#t.get(u),a)}}_decodeParams(t,e){return this.#i.decode(t,e)}_encodeParams(t,e){return this.#i.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){if(typeof t=="string"){const a=this.getError(t);W(a,"unknown error","fragment",t),t=a}return W(Nn(e,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",e),this._decodeParams(t.inputs,Nn(e,4))}encodeErrorResult(t,e){if(typeof t=="string"){const a=this.getError(t);W(a,"unknown error","fragment",t),t=a}return gn([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionData(t,e){if(typeof t=="string"){const a=this.getFunction(t);W(a,"unknown function","fragment",t),t=a}return W(Nn(e,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",e),this._decodeParams(t.inputs,Nn(e,4))}encodeFunctionData(t,e){if(typeof t=="string"){const a=this.getFunction(t);W(a,"unknown function","fragment",t),t=a}return gn([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionResult(t,e){if(typeof t=="string"){const h=this.getFunction(t);W(h,"unknown function","fragment",t),t=h}let a="invalid length for result data";const u=Ii(e);if(u.length%32===0)try{return this.#i.decode(t.outputs,u)}catch{a="could not decode result data"}wt(!1,a,"BAD_DATA",{value:Dt(u),info:{method:t.name,signature:t.format()}})}makeError(t,e){const a=fe(t,"data"),u=$l.getBuiltinCallException("call",e,a);if(u.message.startsWith("execution reverted (unknown custom error)")){const w=Dt(a.slice(0,4)),A=this.getError(w);if(A)try{const y=this.#i.decode(A.inputs,a.slice(4));u.revert={name:A.name,signature:A.format(),args:y},u.reason=u.revert.signature,u.message=`execution reverted: ${u.reason}`}catch{u.message="execution reverted (coult not decode custom error)"}}const p=this.parseTransaction(e);return p&&(u.invocation={method:p.name,signature:p.signature,args:p.args}),u}encodeFunctionResult(t,e){if(typeof t=="string"){const a=this.getFunction(t);W(a,"unknown function","fragment",t),t=a}return Dt(this.#i.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){if(typeof t=="string"){const h=this.getEvent(t);W(h,"unknown event","eventFragment",t),t=h}wt(e.length<=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:e.length,expectedCount:t.inputs.length});const a=[];t.anonymous||a.push(t.topicHash);const u=(h,p)=>h.type==="string"?zo(p):h.type==="bytes"?jn(Dt(p)):(h.type==="bool"&&typeof p=="boolean"?p=p?"0x01":"0x00":h.type.match(/^u?int/)?p=Ya(p):h.type.match(/^bytes/)?p=w4(p,32):h.type==="address"&&this.#i.encode(["address"],[p]),Xs(Dt(p),32));for(e.forEach((h,p)=>{const w=t.inputs[p];if(!w.indexed){W(h==null,"cannot filter non-indexed parameters; must be null","contract."+w.name,h);return}h==null?a.push(null):w.baseType==="array"||w.baseType==="tuple"?W(!1,"filtering with tuples or arrays not supported","contract."+w.name,h):Array.isArray(h)?a.push(h.map(A=>u(w,A))):a.push(u(w,h))});a.length&&a[a.length-1]===null;)a.pop();return a}encodeEventLog(t,e){if(typeof t=="string"){const p=this.getEvent(t);W(p,"unknown event","eventFragment",t),t=p}const a=[],u=[],h=[];return t.anonymous||a.push(t.topicHash),W(e.length===t.inputs.length,"event arguments/values mismatch","values",e),t.inputs.forEach((p,w)=>{const A=e[w];if(p.indexed)if(p.type==="string")a.push(zo(A));else if(p.type==="bytes")a.push(jn(A));else{if(p.baseType==="tuple"||p.baseType==="array")throw new Error("not implemented");a.push(this.#i.encode([p.type],[A]))}else u.push(p),h.push(A)}),{data:this.#i.encode(u,h),topics:a}}decodeEventLog(t,e,a){if(typeof t=="string"){const D=this.getEvent(t);W(D,"unknown event","eventFragment",t),t=D}if(a!=null&&!t.anonymous){const D=t.topicHash;W(nn(a[0],32)&&a[0].toLowerCase()===D,"fragment/topic mismatch","topics[0]",a[0]),a=a.slice(1)}const u=[],h=[],p=[];t.inputs.forEach((D,P)=>{D.indexed?D.type==="string"||D.type==="bytes"||D.baseType==="tuple"||D.baseType==="array"?(u.push(en.from({type:"bytes32",name:D.name})),p.push(!0)):(u.push(D),p.push(!1)):(h.push(D),p.push(!1))});const w=a!=null?this.#i.decode(u,gn(a)):null,A=this.#i.decode(h,e,!0),y=[],C=[];let T=0,I=0;return t.inputs.forEach((D,P)=>{let L=null;if(D.indexed)if(w==null)L=new eA(null);else if(p[P])L=new eA(w[I++]);else try{L=w[I++]}catch(F){L=F}else try{L=A[T++]}catch(F){L=F}y.push(L),C.push(D.name||null)}),Fs.fromItems(y,C)}parseTransaction(t){const e=fe(t.data,"tx.data"),a=Vt(t.value!=null?t.value:0,"tx.value"),u=this.getFunction(Dt(e.slice(0,4)));if(!u)return null;const h=this.#i.decode(u.inputs,e.slice(4));return new nN(u,u.selector,h,a)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new eN(e,e.topicHash,this.decodeEventLog(e,t.data,t.topics))}parseError(t){const e=Dt(t),a=this.getError(Nn(e,0,4));if(!a)return null;const u=this.#i.decode(a.inputs,Nn(e,4));return new iN(a,a.selector,u)}static from(t){return t instanceof Ro?t:typeof t=="string"?new Ro(JSON.parse(t)):typeof t.formatJson=="function"?new Ro(t.formatJson()):typeof t.format=="function"?new Ro(t.format("json")):new Ro(t)}}const CE=BigInt(0);function jl(n){return n??null}function Ln(n){return n==null?null:n.toString()}class rA{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(t,e,a){Jt(this,{gasPrice:jl(t),maxFeePerGas:jl(e),maxPriorityFeePerGas:jl(a)})}toJSON(){const{gasPrice:t,maxFeePerGas:e,maxPriorityFeePerGas:a}=this;return{_type:"FeeData",gasPrice:Ln(t),maxFeePerGas:Ln(e),maxPriorityFeePerGas:Ln(a)}}}function kh(n){const t={};n.to&&(t.to=n.to),n.from&&(t.from=n.from),n.data&&(t.data=Dt(n.data));const e="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const u of e)!(u in n)||n[u]==null||(t[u]=Vt(n[u],`request.${u}`));const a="type,nonce".split(/,/);for(const u of a)!(u in n)||n[u]==null||(t[u]=he(n[u],`request.${u}`));return n.accessList&&(t.accessList=Yo(n.accessList)),n.authorizationList&&(t.authorizationList=n.authorizationList.slice()),"blockTag"in n&&(t.blockTag=n.blockTag),"enableCcipRead"in n&&(t.enableCcipRead=!!n.enableCcipRead),"customData"in n&&(t.customData=n.customData),"blobVersionedHashes"in n&&n.blobVersionedHashes&&(t.blobVersionedHashes=n.blobVersionedHashes.slice()),"kzg"in n&&(t.kzg=n.kzg),"blobWrapperVersion"in n&&(t.blobWrapperVersion=n.blobWrapperVersion),"blobs"in n&&n.blobs&&(t.blobs=n.blobs.map(u=>Xg(u)?Dt(u):Object.assign({},u))),t}class rN{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#t;constructor(t,e){this.#t=t.transactions.map(a=>typeof a!="string"?new Pu(a,e):a),Jt(this,{provider:e,hash:jl(t.hash),number:t.number,timestamp:t.timestamp,parentHash:t.parentHash,parentBeaconBlockRoot:t.parentBeaconBlockRoot,nonce:t.nonce,difficulty:t.difficulty,gasLimit:t.gasLimit,gasUsed:t.gasUsed,blobGasUsed:t.blobGasUsed,excessBlobGas:t.excessBlobGas,miner:t.miner,prevRandao:jl(t.prevRandao),extraData:t.extraData,baseFeePerGas:jl(t.baseFeePerGas),stateRoot:t.stateRoot,receiptsRoot:t.receiptsRoot})}get transactions(){return this.#t.map(t=>typeof t=="string"?t:t.hash)}get prefetchedTransactions(){const t=this.#t.slice();return t.length===0?[]:(wt(typeof t[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),t)}toJSON(){const{baseFeePerGas:t,difficulty:e,extraData:a,gasLimit:u,gasUsed:h,hash:p,miner:w,prevRandao:A,nonce:y,number:C,parentHash:T,parentBeaconBlockRoot:I,stateRoot:D,receiptsRoot:P,timestamp:L,transactions:F}=this;return{_type:"Block",baseFeePerGas:Ln(t),difficulty:Ln(e),extraData:a,gasLimit:Ln(u),gasUsed:Ln(h),blobGasUsed:Ln(this.blobGasUsed),excessBlobGas:Ln(this.excessBlobGas),hash:p,miner:w,prevRandao:A,nonce:y,number:C,parentHash:T,timestamp:L,parentBeaconBlockRoot:I,stateRoot:D,receiptsRoot:P,transactions:F}}[Symbol.iterator](){let t=0;const e=this.transactions;return{next:()=>t<this.length?{value:e[t++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#t.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(t){let e;if(typeof t=="number")e=this.#t[t];else{const a=t.toLowerCase();for(const u of this.#t)if(typeof u=="string"){if(u!==a)continue;e=u;break}else{if(u.hash!==a)continue;e=u;break}}if(e==null)throw new Error("no such tx");return typeof e=="string"?await this.provider.getTransaction(e):e}getPrefetchedTransaction(t){const e=this.prefetchedTransactions;if(typeof t=="number")return e[t];t=t.toLowerCase();for(const a of e)if(a.hash===t)return a;W(!1,"no matching transaction","indexOrHash",t)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return sN(this)}}class Lu{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(t,e){this.provider=e;const a=Object.freeze(t.topics.slice());Jt(this,{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,removed:t.removed,address:t.address,data:t.data,topics:a,index:t.index,transactionIndex:t.transactionIndex})}toJSON(){const{address:t,blockHash:e,blockNumber:a,data:u,index:h,removed:p,topics:w,transactionHash:A,transactionIndex:y}=this;return{_type:"log",address:t,blockHash:e,blockNumber:a,data:u,index:h,removed:p,topics:w,transactionHash:A,transactionIndex:y}}async getBlock(){const t=await this.provider.getBlock(this.blockHash);return wt(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransaction(){const t=await this.provider.getTransaction(this.transactionHash);return wt(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransactionReceipt(){const t=await this.provider.getTransactionReceipt(this.transactionHash);return wt(!!t,"failed to find transaction receipt","UNKNOWN_ERROR",{}),t}removedEvent(){return aN(this)}}class SE{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#t;constructor(t,e){this.#t=Object.freeze(t.logs.map(u=>new Lu(u,e)));let a=CE;t.effectiveGasPrice!=null?a=t.effectiveGasPrice:t.gasPrice!=null&&(a=t.gasPrice),Jt(this,{provider:e,to:t.to,from:t.from,contractAddress:t.contractAddress,hash:t.hash,index:t.index,blockHash:t.blockHash,blockNumber:t.blockNumber,logsBloom:t.logsBloom,gasUsed:t.gasUsed,cumulativeGasUsed:t.cumulativeGasUsed,blobGasUsed:t.blobGasUsed,gasPrice:a,blobGasPrice:t.blobGasPrice,type:t.type,status:t.status,root:t.root})}get logs(){return this.#t}toJSON(){const{to:t,from:e,contractAddress:a,hash:u,index:h,blockHash:p,blockNumber:w,logsBloom:A,logs:y,status:C,root:T}=this;return{_type:"TransactionReceipt",blockHash:p,blockNumber:w,contractAddress:a,cumulativeGasUsed:Ln(this.cumulativeGasUsed),from:e,gasPrice:Ln(this.gasPrice),blobGasUsed:Ln(this.blobGasUsed),blobGasPrice:Ln(this.blobGasPrice),gasUsed:Ln(this.gasUsed),hash:u,index:h,logs:y,logsBloom:A,root:T,status:C,to:t}}get length(){return this.logs.length}[Symbol.iterator](){let t=0;return{next:()=>t<this.length?{value:this.logs[t++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const t=await this.provider.getBlock(this.blockHash);if(t==null)throw new Error("TODO");return t}async getTransaction(){const t=await this.provider.getTransaction(this.hash);if(t==null)throw new Error("TODO");return t}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return vE(this)}reorderedEvent(t){return wt(!t||t.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),TE(this,t)}}class Pu{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#t;constructor(t,e){this.provider=e,this.blockNumber=t.blockNumber!=null?t.blockNumber:null,this.blockHash=t.blockHash!=null?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.gasPrice=t.gasPrice,this.maxPriorityFeePerGas=t.maxPriorityFeePerGas!=null?t.maxPriorityFeePerGas:null,this.maxFeePerGas=t.maxFeePerGas!=null?t.maxFeePerGas:null,this.maxFeePerBlobGas=t.maxFeePerBlobGas!=null?t.maxFeePerBlobGas:null,this.chainId=t.chainId,this.signature=t.signature,this.accessList=t.accessList!=null?t.accessList:null,this.blobVersionedHashes=t.blobVersionedHashes!=null?t.blobVersionedHashes:null,this.authorizationList=t.authorizationList!=null?t.authorizationList:null,this.#t=-1}toJSON(){const{blockNumber:t,blockHash:e,index:a,hash:u,type:h,to:p,from:w,nonce:A,data:y,signature:C,accessList:T,blobVersionedHashes:I}=this;return{_type:"TransactionResponse",accessList:T,blockNumber:t,blockHash:e,blobVersionedHashes:I,chainId:Ln(this.chainId),data:y,from:w,gasLimit:Ln(this.gasLimit),gasPrice:Ln(this.gasPrice),hash:u,maxFeePerGas:Ln(this.maxFeePerGas),maxPriorityFeePerGas:Ln(this.maxPriorityFeePerGas),maxFeePerBlobGas:Ln(this.maxFeePerBlobGas),nonce:A,signature:C,to:p,index:a,type:h,value:Ln(this.value)}}async getBlock(){let t=this.blockNumber;if(t==null){const a=await this.getTransaction();a&&(t=a.blockNumber)}if(t==null)return null;const e=this.provider.getBlock(t);if(e==null)throw new Error("TODO");return e}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:e,blockNumber:a}=await Ni({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return e==null||e.blockNumber==null?0:a-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(t,e){const a=t??1,u=e??0;let h=this.#t,p=-1,w=h===-1;const A=async()=>{if(w)return null;const{blockNumber:I,nonce:D}=await Ni({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(D<this.nonce){h=I;return}if(w)return null;const P=await this.getTransaction();if(!(P&&P.blockNumber!=null))for(p===-1&&(p=h-3,p<this.#t&&(p=this.#t));p<=I;){if(w)return null;const L=await this.provider.getBlock(p,!0);if(L==null)return;for(const F of L)if(F===this.hash)return;for(let F=0;F<L.length;F++){const G=await L.getTransaction(F);if(G.from===this.from&&G.nonce===this.nonce){if(w)return null;const q=await this.provider.getTransactionReceipt(G.hash);if(q==null||I-q.blockNumber+1<a)return;let z="replaced";G.data===this.data&&G.to===this.to&&G.value===this.value?z="repriced":G.data==="0x"&&G.from===G.to&&G.value===CE&&(z="cancelled"),wt(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:z==="replaced"||z==="cancelled",reason:z,replacement:G.replaceableTransaction(h),hash:G.hash,receipt:q})}}p++}},y=I=>{if(I==null||I.status!==0)return I;wt(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:I.to,from:I.from,data:""},receipt:I})},C=await this.provider.getTransactionReceipt(this.hash);if(a===0)return y(C);if(C){if(a===1||await C.confirmations()>=a)return y(C)}else if(await A(),a===0)return null;return await new Promise((I,D)=>{const P=[],L=()=>{P.forEach(G=>G())};if(P.push(()=>{w=!0}),u>0){const G=setTimeout(()=>{L(),D(dn("wait for transaction timeout","TIMEOUT"))},u);P.push(()=>{clearTimeout(G)})}const F=async G=>{if(await G.confirmations()>=a){L();try{I(y(G))}catch(q){D(q)}}};if(P.push(()=>{this.provider.off(this.hash,F)}),this.provider.on(this.hash,F),h>=0){const G=async()=>{try{await A()}catch(q){if(yi(q,"TRANSACTION_REPLACED")){L(),D(q);return}}w||this.provider.once("block",G)};P.push(()=>{this.provider.off("block",G)}),this.provider.once("block",G)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return wt(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),vE(this)}reorderedEvent(t){return wt(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),wt(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),TE(this,t)}replaceableTransaction(t){W(Number.isInteger(t)&&t>=0,"invalid startBlock","startBlock",t);const e=new Pu(this,this.provider);return e.#t=t,e}}function sN(n){return{orphan:"drop-block",hash:n.hash,number:n.number}}function TE(n,t){return{orphan:"reorder-transaction",tx:n,other:t}}function vE(n){return{orphan:"drop-transaction",tx:n}}function aN(n){return{orphan:"drop-log",log:{transactionHash:n.transactionHash,blockHash:n.blockHash,blockNumber:n.blockNumber,address:n.address,data:n.data,topics:Object.freeze(n.topics.slice()),index:n.index}}}class om extends Lu{interface;fragment;args;constructor(t,e,a){super(t,t.provider);const u=e.decodeEventLog(a,t.data,t.topics);Jt(this,{args:u,fragment:a,interface:e})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class NE extends Lu{error;constructor(t,e){super(t,t.provider),Jt(this,{error:e})}}class oN extends SE{#t;constructor(t,e,a){super(a,e),this.#t=t}get logs(){return super.logs.map(t=>{const e=t.topics.length?this.#t.getEvent(t.topics[0]):null;if(e)try{return new om(t,this.#t,e)}catch(a){return new NE(t,a)}return t})}}class lm extends Pu{#t;constructor(t,e,a){super(a,e),this.#t=t}async wait(t,e){const a=await super.wait(t,e);return a==null?null:new oN(this.#t,this.provider,a)}}class IE extends eb{log;constructor(t,e,a,u){super(t,e,a),Jt(this,{log:u})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class lN extends IE{constructor(t,e,a,u,h){super(t,e,a,new om(h,t.interface,u));const p=t.interface.decodeEventLog(u,this.log.data,this.log.topics);Jt(this,{args:p,fragment:u})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const sA=BigInt(0);function ME(n){return n&&typeof n.call=="function"}function OE(n){return n&&typeof n.estimateGas=="function"}function a0(n){return n&&typeof n.resolveName=="function"}function RE(n){return n&&typeof n.sendTransaction=="function"}function DE(n){if(n!=null){if(a0(n))return n;if(n.provider)return n.provider}}class cN{#t;fragment;constructor(t,e,a){if(Jt(this,{fragment:e}),e.inputs.length<a.length)throw new Error("too many arguments");const u=Go(t.runner,"resolveName"),h=a0(u)?u:null;this.#t=(async function(){const p=await Promise.all(e.inputs.map((w,A)=>a[A]==null?null:w.walkAsync(a[A],(C,T)=>C==="address"?Array.isArray(T)?Promise.all(T.map(I=>Oi(I,h))):Oi(T,h):T)));return t.interface.encodeFilterTopics(e,p)})()}getTopicFilter(){return this.#t}}function Go(n,t){return n==null?null:typeof n[t]=="function"?n:n.provider&&typeof n.provider[t]=="function"?n.provider:null}function _o(n){return n==null?null:n.provider||null}async function BE(n,t){const e=Mn.dereference(n,"overrides");W(typeof e=="object","invalid overrides parameter","overrides",n);const a=kh(e);return W(a.to==null||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",a.to),W(a.data==null||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",a.data),a.from&&(a.from=a.from),a}async function uN(n,t,e){const a=Go(n,"resolveName"),u=a0(a)?a:null;return await Promise.all(t.map((h,p)=>h.walkAsync(e[p],(w,A)=>(A=Mn.dereference(A,w),w==="address"?Oi(A,u):A))))}function fN(n){const t=async function(p){const w=await BE(p,["data"]);w.to=await n.getAddress(),w.from&&(w.from=await Oi(w.from,DE(n.runner)));const A=n.interface,y=Vt(w.value||sA,"overrides.value")===sA,C=(w.data||"0x")==="0x";A.fallback&&!A.fallback.payable&&A.receive&&!C&&!y&&W(!1,"cannot send data to receive or send value to non-payable fallback","overrides",p),W(A.fallback||C,"cannot send data to receive-only contract","overrides.data",w.data);const T=A.receive||A.fallback&&A.fallback.payable;return W(T||y,"cannot send value to non-payable fallback","overrides.value",w.value),W(A.fallback||C,"cannot send data to receive-only contract","overrides.data",w.data),w},e=async function(p){const w=Go(n.runner,"call");wt(ME(w),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const A=await t(p);try{return await w.call(A)}catch(y){throw Yg(y)&&y.data?n.interface.makeError(y.data,A):y}},a=async function(p){const w=n.runner;wt(RE(w),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const A=await w.sendTransaction(await t(p)),y=_o(n.runner);return new lm(n.interface,y,A)},u=async function(p){const w=Go(n.runner,"estimateGas");return wt(OE(w),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await w.estimateGas(await t(p))},h=async p=>await a(p);return Jt(h,{_contract:n,estimateGas:u,populateTransaction:t,send:a,staticCall:e}),h}function hN(n,t){const e=function(...y){const C=n.interface.getFunction(t,y);return wt(C,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:y}}),C},a=async function(...y){const C=e(...y);let T={};if(C.inputs.length+1===y.length&&(T=await BE(y.pop()),T.from&&(T.from=await Oi(T.from,DE(n.runner)))),C.inputs.length!==y.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const I=await uN(n.runner,C.inputs,y);return Object.assign({},T,await Ni({to:n.getAddress(),data:n.interface.encodeFunctionData(C,I)}))},u=async function(...y){const C=await w(...y);return C.length===1?C[0]:C},h=async function(...y){const C=n.runner;wt(RE(C),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const T=await C.sendTransaction(await a(...y)),I=_o(n.runner);return new lm(n.interface,I,T)},p=async function(...y){const C=Go(n.runner,"estimateGas");return wt(OE(C),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await C.estimateGas(await a(...y))},w=async function(...y){const C=Go(n.runner,"call");wt(ME(C),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const T=await a(...y);let I="0x";try{I=await C.call(T)}catch(P){throw Yg(P)&&P.data?n.interface.makeError(P.data,T):P}const D=e(...y);return n.interface.decodeFunctionResult(D,I)},A=async(...y)=>e(...y).constant?await u(...y):await h(...y);return Jt(A,{name:n.interface.getFunctionName(t),_contract:n,_key:t,getFragment:e,estimateGas:p,populateTransaction:a,send:h,staticCall:u,staticCallResult:w}),Object.defineProperty(A,"fragment",{configurable:!1,enumerable:!0,get:()=>{const y=n.interface.getFunction(t);return wt(y,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),y}}),A}function dN(n,t){const e=function(...u){const h=n.interface.getEvent(t,u);return wt(h,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:u}}),h},a=function(...u){return new cN(n,e(...u),u)};return Jt(a,{name:n.interface.getEventName(t),_contract:n,_key:t,getFragment:e}),Object.defineProperty(a,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=n.interface.getEvent(t);return wt(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),u}}),a}const Fh=Symbol.for("_ethersInternal_contract"),_E=new WeakMap;function gN(n,t){_E.set(n[Fh],t)}function cr(n){return _E.get(n[Fh])}function mN(n){return n&&typeof n=="object"&&"getTopicFilter"in n&&typeof n.getTopicFilter=="function"&&n.fragment}async function cm(n,t){let e,a=null;if(Array.isArray(t)){const h=function(p){if(nn(p,32))return p;const w=n.interface.getEvent(p);return W(w,"unknown fragment","name",p),w.topicHash};e=t.map(p=>p==null?null:Array.isArray(p)?p.map(h):h(p))}else t==="*"?e=[null]:typeof t=="string"?nn(t,32)?e=[t]:(a=n.interface.getEvent(t),W(a,"unknown fragment","event",t),e=[a.topicHash]):mN(t)?e=await t.getTopicFilter():"fragment"in t?(a=t.fragment,e=[a.topicHash]):W(!1,"unknown event name","event",t);e=e.map(h=>{if(h==null)return null;if(Array.isArray(h)){const p=Array.from(new Set(h.map(w=>w.toLowerCase())).values());return p.length===1?p[0]:(p.sort(),p)}return h.toLowerCase()});const u=e.map(h=>h==null?"null":Array.isArray(h)?h.join("|"):h).join("&");return{fragment:a,tag:u,topics:e}}async function lu(n,t){const{subs:e}=cr(n);return e.get((await cm(n,t)).tag)||null}async function aA(n,t,e){const a=_o(n.runner);wt(a,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:u,tag:h,topics:p}=await cm(n,e),{addr:w,subs:A}=cr(n);let y=A.get(h);if(!y){const T={address:w||n,topics:p},I=F=>{let G=u;if(G==null)try{G=n.interface.getEvent(F.topics[0])}catch{}if(G){const q=G,z=u?n.interface.decodeEventLog(u,F.data,F.topics):[];fg(n,e,z,lt=>new lN(n,lt,e,q,F))}else fg(n,e,[],q=>new IE(n,q,e,F))};let D=[];y={tag:h,listeners:[],start:()=>{D.length||D.push(a.on(T,I))},stop:async()=>{if(D.length==0)return;let F=D;D=[],await Promise.all(F),a.off(T,I)}},A.set(h,y)}return y}let ug=Promise.resolve();async function pN(n,t,e,a){await ug;const u=await lu(n,t);if(!u)return!1;const h=u.listeners.length;return u.listeners=u.listeners.filter(({listener:p,once:w})=>{const A=Array.from(e);a&&A.push(a(w?null:p));try{p.call(n,...A)}catch{}return!w}),u.listeners.length===0&&(u.stop(),cr(n).subs.delete(u.tag)),h>0}async function fg(n,t,e,a){try{await ug}catch{}const u=pN(n,t,e,a);return ug=u,await u}const ph=["then"];class du{target;interface;runner;filters;[Fh];fallback;constructor(t,e,a,u){W(typeof t=="string"||zb(t),"invalid value for Contract target","target",t),a==null&&(a=null);const h=Ro.from(e);Jt(this,{target:t,runner:a,interface:h}),Object.defineProperty(this,Fh,{value:{}});let p,w=null,A=null;if(u){const T=_o(a);A=new lm(this.interface,T,u)}let y=new Map;if(typeof t=="string")if(nn(t))w=t,p=Promise.resolve(t);else{const T=Go(a,"resolveName");if(!a0(T))throw dn("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});p=T.resolveName(t).then(I=>{if(I==null)throw dn("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:t});return cr(this).addr=I,I})}else p=t.getAddress().then(T=>{if(T==null)throw new Error("TODO");return cr(this).addr=T,T});gN(this,{addrPromise:p,addr:w,deployTx:A,subs:y});const C=new Proxy({},{get:(T,I,D)=>{if(typeof I=="symbol"||ph.indexOf(I)>=0)return Reflect.get(T,I,D);try{return this.getEvent(I)}catch(P){if(!yi(P,"INVALID_ARGUMENT")||P.argument!=="key")throw P}},has:(T,I)=>ph.indexOf(I)>=0?Reflect.has(T,I):Reflect.has(T,I)||this.interface.hasEvent(String(I))});return Jt(this,{filters:C}),Jt(this,{fallback:h.receive||h.fallback?fN(this):null}),new Proxy(this,{get:(T,I,D)=>{if(typeof I=="symbol"||I in T||ph.indexOf(I)>=0)return Reflect.get(T,I,D);try{return T.getFunction(I)}catch(P){if(!yi(P,"INVALID_ARGUMENT")||P.argument!=="key")throw P}},has:(T,I)=>typeof I=="symbol"||I in T||ph.indexOf(I)>=0?Reflect.has(T,I):T.interface.hasFunction(I)})}connect(t){return new du(this.target,this.interface,t)}attach(t){return new du(t,this.interface,this.runner)}async getAddress(){return await cr(this).addrPromise}async getDeployedCode(){const t=_o(this.runner);wt(t,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const e=await t.getCode(await this.getAddress());return e==="0x"?null:e}async waitForDeployment(){const t=this.deploymentTransaction();if(t)return await t.wait(),this;if(await this.getDeployedCode()!=null)return this;const a=_o(this.runner);return wt(a!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((u,h)=>{const p=async()=>{try{if(await this.getDeployedCode()!=null)return u(this);a.once("block",p)}catch(w){h(w)}};p()})}deploymentTransaction(){return cr(this).deployTx}getFunction(t){return typeof t!="string"&&(t=t.format()),hN(this,t)}getEvent(t){return typeof t!="string"&&(t=t.format()),dN(this,t)}async queryTransaction(t){throw new Error("@TODO")}async queryFilter(t,e,a){e==null&&(e=0),a==null&&(a="latest");const{addr:u,addrPromise:h}=cr(this),p=u||await h,{fragment:w,topics:A}=await cm(this,t),y={address:p,topics:A,fromBlock:e,toBlock:a},C=_o(this.runner);return wt(C,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await C.getLogs(y)).map(T=>{let I=w;if(I==null)try{I=this.interface.getEvent(T.topics[0])}catch{}if(I)try{return new om(T,this.interface,I)}catch(D){return new NE(T,D)}return new Lu(T,C)})}async on(t,e){const a=await aA(this,"on",t);return a.listeners.push({listener:e,once:!1}),a.start(),this}async once(t,e){const a=await aA(this,"once",t);return a.listeners.push({listener:e,once:!0}),a.start(),this}async emit(t,...e){return await fg(this,t,e,null)}async listenerCount(t){if(t){const u=await lu(this,t);return u?u.listeners.length:0}const{subs:e}=cr(this);let a=0;for(const{listeners:u}of e.values())a+=u.length;return a}async listeners(t){if(t){const u=await lu(this,t);return u?u.listeners.map(({listener:h})=>h):[]}const{subs:e}=cr(this);let a=[];for(const{listeners:u}of e.values())a=a.concat(u.map(({listener:h})=>h));return a}async off(t,e){const a=await lu(this,t);if(!a)return this;if(e){const u=a.listeners.map(({listener:h})=>h).indexOf(e);u>=0&&a.listeners.splice(u,1)}return(e==null||a.listeners.length===0)&&(a.stop(),cr(this).subs.delete(a.tag)),this}async removeAllListeners(t){if(t){const e=await lu(this,t);if(!e)return this;e.stop(),cr(this).subs.delete(e.tag)}else{const{subs:e}=cr(this);for(const{tag:a,stop:u}of e.values())u(),e.delete(a)}return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return await this.off(t,e)}static buildClass(t){class e extends du{constructor(u,h=null){super(u,t,h)}}return e}static from(t,e,a){return a==null&&(a=null),new this(t,e,a)}}function yN(){return du}class gu extends yN(){}function I1(n){return n.match(/^ipfs:\/\/ipfs\//i)?n=n.substring(12):n.match(/^ipfs:\/\//i)?n=n.substring(7):W(!1,"unsupported IPFS format","link",n),`https://gateway.ipfs.io/ipfs/${n}`}class xN{name;constructor(t){Jt(this,{name:t})}connect(t){return this}supportsCoinType(t){return!1}async encodeAddress(t,e){throw new Error("unsupported coin")}async decodeAddress(t,e){throw new Error("unsupported coin")}}const LE=new RegExp("^(ipfs)://(.*)$","i"),oA=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),LE,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class Yl{provider;address;name;#t;#e;constructor(t,e,a){Jt(this,{provider:t,address:e,name:a}),this.#t=null,this.#e=new gu(e,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],t)}async supportsWildcard(){return this.#t==null&&(this.#t=(async()=>{try{return await this.#e.supportsInterface("0x9061b923")}catch(t){if(yi(t,"CALL_EXCEPTION"))return!1;throw this.#t=null,t}})()),await this.#t}async#n(t,e){e=(e||[]).slice();const a=this.#e.interface;e.unshift(cg(this.name));let u=null;await this.supportsWildcard()&&(u=a.getFunction(t),wt(u,"missing fragment","UNKNOWN_ERROR",{info:{funcName:t}}),e=[Bv(this.name,255),a.encodeFunctionData(u,e)],t="resolve(bytes,bytes)"),e.push({enableCcipRead:!0});try{const h=await this.#e[t](...e);return u?a.decodeFunctionResult(u,h)[0]:h}catch(h){if(!yi(h,"CALL_EXCEPTION"))throw h}return null}async getAddress(t){if(t==null&&(t=60),t===60)try{const h=await this.#n("addr(bytes32)");return h==null||h===wu?null:h}catch(h){if(yi(h,"CALL_EXCEPTION"))return null;throw h}if(t>=0&&t<2147483648){let h=t+2147483648;const p=await this.#n("addr(bytes32,uint)",[h]);if(nn(p,20))return Fe(p)}let e=null;for(const h of this.provider.plugins)if(h instanceof xN&&h.supportsCoinType(t)){e=h;break}if(e==null)return null;const a=await this.#n("addr(bytes32,uint)",[t]);if(a==null||a==="0x")return null;const u=await e.decodeAddress(t,a);if(u!=null)return u;wt(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${t})`,info:{coinType:t,data:a}})}async getText(t){const e=await this.#n("text(bytes32,string)",[t]);return e==null||e==="0x"?null:e}async getContentHash(){const t=await this.#n("contenthash(bytes32)");if(t==null||t==="0x")return null;const e=t.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const u=e[1]==="e3010170"?"ipfs":"ipns",h=parseInt(e[4],16);if(e[5].length===h*2)return`${u}://${C4("0x"+e[2])}`}const a=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(a&&a[1].length===64)return`bzz://${a[1]}`;wt(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:t}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const t=[{type:"name",value:this.name}];try{const e=await this.getText("avatar");if(e==null)return t.push({type:"!avatar",value:""}),{url:null,linkage:t};t.push({type:"avatar",value:e});for(let a=0;a<oA.length;a++){const u=e.match(oA[a]);if(u==null)continue;const h=u[1].toLowerCase();switch(h){case"https":case"data":return t.push({type:"url",value:e}),{linkage:t,url:e};case"ipfs":{const p=I1(e);return t.push({type:"ipfs",value:e}),t.push({type:"url",value:p}),{linkage:t,url:p}}case"erc721":case"erc1155":{const p=h==="erc721"?"tokenURI(uint256)":"uri(uint256)";t.push({type:h,value:e});const w=await this.getAddress();if(w==null)return t.push({type:"!owner",value:""}),{url:null,linkage:t};const A=(u[2]||"").split("/");if(A.length!==2)return t.push({type:`!${h}caip`,value:u[2]||""}),{url:null,linkage:t};const y=A[1],C=new gu(A[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(h==="erc721"){const L=await C.ownerOf(y);if(w!==L)return t.push({type:"!owner",value:L}),{url:null,linkage:t};t.push({type:"owner",value:L})}else if(h==="erc1155"){const L=await C.balanceOf(w,y);if(!L)return t.push({type:"!balance",value:"0"}),{url:null,linkage:t};t.push({type:"balance",value:L.toString()})}let T=await C[p](y);if(T==null||T==="0x")return t.push({type:"!metadata-url",value:""}),{url:null,linkage:t};t.push({type:"metadata-url-base",value:T}),h==="erc1155"&&(T=T.replace("{id}",Ya(y,32).substring(2)),t.push({type:"metadata-url-expanded",value:T})),T.match(/^ipfs:/i)&&(T=I1(T)),t.push({type:"metadata-url",value:T});let I={};const D=await new Qs(T).send();D.assertOk();try{I=D.bodyJson}catch{try{t.push({type:"!metadata",value:D.bodyText})}catch{const G=D.body;return G&&t.push({type:"!metadata",value:Dt(G)}),{url:null,linkage:t}}return{url:null,linkage:t}}if(!I)return t.push({type:"!metadata",value:""}),{url:null,linkage:t};t.push({type:"metadata",value:JSON.stringify(I)});let P=I.image;if(typeof P!="string")return t.push({type:"!imageUrl",value:""}),{url:null,linkage:t};if(!P.match(/^(https:\/\/|data:)/i)){if(P.match(LE)==null)return t.push({type:"!imageUrl-ipfs",value:P}),{url:null,linkage:t};t.push({type:"imageUrl-ipfs",value:P}),P=I1(P)}return t.push({type:"url",value:P}),{linkage:t,url:P}}}}}catch{}return{linkage:t,url:null}}static async getEnsAddress(t){const e=await t.getNetwork(),a=e.getPlugin("org.ethers.plugins.network.Ens");return wt(a,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:e}}),a.address}static async#i(t,e){const a=await Yl.getEnsAddress(t);try{const h=await new gu(a,["function resolver(bytes32) view returns (address)"],t).resolver(cg(e),{enableCcipRead:!0});return h===wu?null:h}catch(u){throw u}return null}static async fromName(t,e){let a=e;for(;;){if(a===""||a==="."||e!=="eth"&&a==="eth")return null;const u=await Yl.#i(t,a);if(u!=null){const h=new Yl(t,u,e);return a!==e&&!await h.supportsWildcard()?null:h}a=a.split(".").slice(1).join(".")}}}const lA=BigInt(0);function Te(n,t){return(function(e){return e==null?t:n(e)})}function vu(n,t){return(e=>{if(t&&e==null)return null;if(!Array.isArray(e))throw new Error("not an array");return e.map(a=>n(a))})}function Uu(n,t){return(e=>{const a={};for(const u in n){let h=u;if(t&&u in t&&!(h in e)){for(const p of t[u])if(p in e){h=p;break}}try{const p=n[u](e[h]);p!==void 0&&(a[u]=p)}catch(p){const w=p instanceof Error?p.message:"not-an-error";wt(!1,`invalid value for value.${u} (${w})`,"BAD_DATA",{value:e})}}return a})}function AN(n){switch(n){case!0:case"true":return!0;case!1:case"false":return!1}W(!1,`invalid boolean; ${JSON.stringify(n)}`,"value",n)}function tc(n){return W(nn(n,!0),"invalid data","value",n),n}function pi(n){return W(nn(n,32),"invalid hash","value",n),n}const wN=Uu({address:Fe,blockHash:pi,blockNumber:he,data:tc,index:he,removed:Te(AN,!1),topics:vu(pi),transactionHash:pi,transactionIndex:he},{index:["logIndex"]});function bN(n){return wN(n)}const EN=Uu({hash:Te(pi),parentHash:pi,parentBeaconBlockRoot:Te(pi,null),number:he,timestamp:he,nonce:Te(tc),difficulty:Vt,gasLimit:Vt,gasUsed:Vt,stateRoot:Te(pi,null),receiptsRoot:Te(pi,null),blobGasUsed:Te(Vt,null),excessBlobGas:Te(Vt,null),miner:Te(Fe),prevRandao:Te(pi,null),extraData:tc,baseFeePerGas:Te(Vt)},{prevRandao:["mixHash"]});function CN(n){const t=EN(n);return t.transactions=n.transactions.map(e=>typeof e=="string"?e:PE(e)),t}const SN=Uu({transactionIndex:he,blockNumber:he,transactionHash:pi,address:Fe,topics:vu(pi),data:tc,index:he,blockHash:pi},{index:["logIndex"]});function TN(n){return SN(n)}const vN=Uu({to:Te(Fe,null),from:Te(Fe,null),contractAddress:Te(Fe,null),index:he,root:Te(Dt),gasUsed:Vt,blobGasUsed:Te(Vt,null),logsBloom:Te(tc),blockHash:pi,hash:pi,logs:vu(TN),blockNumber:he,cumulativeGasUsed:Vt,effectiveGasPrice:Te(Vt),blobGasPrice:Te(Vt,null),status:Te(he),type:Te(he,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function NN(n){return vN(n)}function PE(n){n.to&&Vt(n.to)===lA&&(n.to="0x0000000000000000000000000000000000000000");const t=Uu({hash:pi,index:Te(he,void 0),type:e=>e==="0x"||e==null?0:he(e),accessList:Te(Yo,null),blobVersionedHashes:Te(vu(pi,!0),null),authorizationList:Te(vu(e=>{let a;if(e.signature)a=e.signature;else{let u=e.yParity;u==="0x1b"?u=0:u==="0x1c"&&(u=1),a=Object.assign({},e,{yParity:u})}return{address:Fe(e.address),chainId:Vt(e.chainId),nonce:Vt(e.nonce),signature:pn.from(a)}},!1),null),blockHash:Te(pi,null),blockNumber:Te(he,null),transactionIndex:Te(he,null),from:Fe,gasPrice:Te(Vt),maxPriorityFeePerGas:Te(Vt),maxFeePerGas:Te(Vt),maxFeePerBlobGas:Te(Vt,null),gasLimit:Vt,to:Te(Fe,null),value:Vt,nonce:he,data:tc,creates:Te(Fe,null),chainId:Te(Vt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(n);if(t.to==null&&t.creates==null&&(t.creates=g8(t)),(n.type===1||n.type===2)&&n.accessList==null&&(t.accessList=[]),n.signature?t.signature=pn.from(n.signature):t.signature=pn.from(n),t.chainId==null){const e=t.signature.legacyChainId;e!=null&&(t.chainId=e)}return t.blockHash&&Vt(t.blockHash)===lA&&(t.blockHash=null),t}const IN="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class ku{name;constructor(t){Jt(this,{name:t})}clone(){return new ku(this.name)}}class o0 extends ku{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(t,e){t==null&&(t=0),super(`org.ethers.network.plugins.GasCost#${t||0}`);const a={effectiveBlock:t};function u(h,p){let w=(e||{})[h];w==null&&(w=p),W(typeof w=="number",`invalud value for ${h}`,"costs",e),a[h]=w}u("txBase",21e3),u("txCreate",32e3),u("txDataZero",4),u("txDataNonzero",16),u("txAccessListStorageKey",1900),u("txAccessListAddress",2400),Jt(this,a)}clone(){return new o0(this.effectiveBlock,this)}}class l0 extends ku{address;targetNetwork;constructor(t,e){super("org.ethers.plugins.network.Ens"),Jt(this,{address:t||IN,targetNetwork:e??1})}clone(){return new l0(this.address,this.targetNetwork)}}class MN extends ku{#t;#e;get url(){return this.#t}get processFunc(){return this.#e}constructor(t,e){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#t=t,this.#e=e}clone(){return this}}const M1=new Map;class fr{#t;#e;#n;constructor(t,e){this.#t=t,this.#e=Vt(e),this.#n=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#t}set name(t){this.#t=t}get chainId(){return this.#e}set chainId(t){this.#e=Vt(t,"chainId")}matches(t){if(t==null)return!1;if(typeof t=="string"){try{return this.chainId===Vt(t)}catch{}return this.name===t}if(typeof t=="number"||typeof t=="bigint"){try{return this.chainId===Vt(t)}catch{}return!1}if(typeof t=="object"){if(t.chainId!=null){try{return this.chainId===Vt(t.chainId)}catch{}return!1}return t.name!=null?this.name===t.name:!1}return!1}get plugins(){return Array.from(this.#n.values())}attachPlugin(t){if(this.#n.get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return this.#n.set(t.name,t.clone()),this}getPlugin(t){return this.#n.get(t)||null}getPlugins(t){return this.plugins.filter(e=>e.name.split("#")[0]===t)}clone(){const t=new fr(this.name,this.chainId);return this.plugins.forEach(e=>{t.attachPlugin(e.clone())}),t}computeIntrinsicGas(t){const e=this.getPlugin("org.ethers.plugins.network.GasCost")||new o0;let a=e.txBase;if(t.to==null&&(a+=e.txCreate),t.data)for(let u=2;u<t.data.length;u+=2)t.data.substring(u,u+2)==="00"?a+=e.txDataZero:a+=e.txDataNonzero;if(t.accessList){const u=Yo(t.accessList);for(const h in u)a+=e.txAccessListAddress+e.txAccessListStorageKey*u[h].storageKeys.length}return a}static from(t){if(ON(),t==null)return fr.from("mainnet");if(typeof t=="number"&&(t=BigInt(t)),typeof t=="string"||typeof t=="bigint"){const e=M1.get(t);if(e)return e();if(typeof t=="bigint")return new fr("unknown",t);W(!1,"unknown network","network",t)}if(typeof t.clone=="function")return t.clone();if(typeof t=="object"){W(typeof t.name=="string"&&typeof t.chainId=="number","invalid network object name or chainId","network",t);const e=new fr(t.name,t.chainId);return(t.ensAddress||t.ensNetwork!=null)&&e.attachPlugin(new l0(t.ensAddress,t.ensNetwork)),e}W(!1,"invalid network","network",t)}static register(t,e){typeof t=="number"&&(t=BigInt(t));const a=M1.get(t);a&&W(!1,`conflicting network for ${JSON.stringify(a.name)}`,"nameOrChainId",t),M1.set(t,e)}}function cA(n,t){const e=String(n);if(!e.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${n}`);const a=e.split(".");if(a.length===1&&a.push(""),a.length!==2)throw new Error(`invalid gwei value: ${n}`);for(;a[1].length<t;)a[1]+="0";if(a[1].length>9){let u=BigInt(a[1].substring(0,9));a[1].substring(9).match(/^0+$/)||u++,a[1]=u.toString()}return BigInt(a[0]+a[1])}function uA(n){return new MN(n,async(t,e,a)=>{a.setHeader("User-Agent","ethers");let u;try{const[h,p]=await Promise.all([a.send(),t()]);u=h;const w=u.bodyJson.standard;return{gasPrice:p.gasPrice,maxFeePerGas:cA(w.maxFee,9),maxPriorityFeePerGas:cA(w.maxPriorityFee,9)}}catch(h){wt(!1,`error encountered with polygon gas station (${JSON.stringify(a.url)})`,"SERVER_ERROR",{request:a,response:u,error:h})}})}let fA=!1;function ON(){if(fA)return;fA=!0;function n(t,e,a){const u=function(){const h=new fr(t,e);return a.ensNetwork!=null&&h.attachPlugin(new l0(null,a.ensNetwork)),h.attachPlugin(new o0),(a.plugins||[]).forEach(p=>{h.attachPlugin(p)}),h};fr.register(t,u),fr.register(e,u),a.altNames&&a.altNames.forEach(h=>{fr.register(h,u)})}n("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),n("ropsten",3,{ensNetwork:3}),n("rinkeby",4,{ensNetwork:4}),n("goerli",5,{ensNetwork:5}),n("kovan",42,{ensNetwork:42}),n("sepolia",11155111,{ensNetwork:11155111}),n("holesky",17e3,{ensNetwork:17e3}),n("classic",61,{}),n("classicKotti",6,{}),n("arbitrum",42161,{ensNetwork:1}),n("arbitrum-goerli",421613,{}),n("arbitrum-sepolia",421614,{}),n("base",8453,{ensNetwork:1}),n("base-goerli",84531,{}),n("base-sepolia",84532,{}),n("bnb",56,{ensNetwork:1}),n("bnbt",97,{}),n("filecoin",314,{}),n("filecoin-calibration",314159,{}),n("linea",59144,{ensNetwork:1}),n("linea-goerli",59140,{}),n("linea-sepolia",59141,{}),n("matic",137,{ensNetwork:1,plugins:[uA("https://gasstation.polygon.technology/v2")]}),n("matic-amoy",80002,{}),n("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[uA("https://gasstation-testnet.polygon.technology/v2")]}),n("optimism",10,{ensNetwork:1,plugins:[]}),n("optimism-goerli",420,{}),n("optimism-sepolia",11155420,{}),n("xdai",100,{ensNetwork:1})}function hg(n){return JSON.parse(JSON.stringify(n))}class RN{#t;#e;#n;#i;constructor(t){this.#t=t,this.#e=null,this.#n=4e3,this.#i=-2}get pollingInterval(){return this.#n}set pollingInterval(t){this.#n=t}async#r(){try{const t=await this.#t.getBlockNumber();if(this.#i===-2){this.#i=t;return}if(t!==this.#i){for(let e=this.#i+1;e<=t;e++){if(this.#e==null)return;await this.#t.emit("block",e)}this.#i=t}}catch{}this.#e!=null&&(this.#e=this.#t._setTimeout(this.#r.bind(this),this.#n))}start(){this.#e||(this.#e=this.#t._setTimeout(this.#r.bind(this),this.#n),this.#r())}stop(){this.#e&&(this.#t._clearTimeout(this.#e),this.#e=null)}pause(t){this.stop(),t&&(this.#i=-2)}resume(){this.start()}}class um{#t;#e;#n;constructor(t){this.#t=t,this.#n=!1,this.#e=e=>{this._poll(e,this.#t)}}async _poll(t,e){throw new Error("sub-classes must override this")}start(){this.#n||(this.#n=!0,this.#e(-2),this.#t.on("block",this.#e))}stop(){this.#n&&(this.#n=!1,this.#t.off("block",this.#e))}pause(t){this.stop()}resume(){this.start()}}class DN extends um{#t;#e;constructor(t,e){super(t),this.#t=e,this.#e=-2}pause(t){t&&(this.#e=-2),super.pause(t)}async _poll(t,e){const a=await e.getBlock(this.#t);a!=null&&(this.#e===-2?this.#e=a.number:a.number>this.#e&&(e.emit(this.#t,a.number),this.#e=a.number))}}class BN extends um{#t;constructor(t,e){super(t),this.#t=hg(e)}async _poll(t,e){throw new Error("@TODO")}}class _N extends um{#t;constructor(t,e){super(t),this.#t=e}async _poll(t,e){const a=await e.getTransactionReceipt(this.#t);a&&e.emit(this.#t,a)}}class fm{#t;#e;#n;#i;#r;constructor(t,e){this.#t=t,this.#e=hg(e),this.#n=this.#a.bind(this),this.#i=!1,this.#r=-2}async#a(t){if(this.#r===-2)return;const e=hg(this.#e);e.fromBlock=this.#r+1,e.toBlock=t;const a=await this.#t.getLogs(e);if(a.length===0){this.#r<t-60&&(this.#r=t-60);return}for(const u of a)this.#t.emit(this.#e,u),this.#r=u.blockNumber}start(){this.#i||(this.#i=!0,this.#r===-2&&this.#t.getBlockNumber().then(t=>{this.#r=t}),this.#t.on("block",this.#n))}stop(){this.#i&&(this.#i=!1,this.#t.off("block",this.#n))}pause(t){this.stop(),t&&(this.#r=-2)}resume(){this.start()}}const LN=BigInt(2),PN=10;function yh(n){return n&&typeof n.then=="function"}function Th(n,t){return n+":"+JSON.stringify(t,(e,a)=>{if(a==null)return"null";if(typeof a=="bigint")return`bigint:${a.toString()}`;if(typeof a=="string")return a.toLowerCase();if(typeof a=="object"&&!Array.isArray(a)){const u=Object.keys(a);return u.sort(),u.reduce((h,p)=>(h[p]=a[p],h),{})}return a})}class UE{name;constructor(t){Jt(this,{name:t})}start(){}stop(){}pause(t){}resume(){}}function UN(n){return JSON.parse(JSON.stringify(n))}function dg(n){return n=Array.from(new Set(n).values()),n.sort(),n}async function O1(n,t){if(n==null)throw new Error("invalid event");if(Array.isArray(n)&&(n={topics:n}),typeof n=="string")switch(n){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:n,tag:n}}if(nn(n,32)){const e=n.toLowerCase();return{type:"transaction",tag:Th("tx",{hash:e}),hash:e}}if(n.orphan){const e=n;return{type:"orphan",tag:Th("orphan",e),filter:UN(e)}}if(n.address||n.topics){const e=n,a={topics:(e.topics||[]).map(u=>u==null?null:Array.isArray(u)?dg(u.map(h=>h.toLowerCase())):u.toLowerCase())};if(e.address){const u=[],h=[],p=w=>{nn(w)?u.push(w):h.push((async()=>{u.push(await Oi(w,t))})())};Array.isArray(e.address)?e.address.forEach(p):p(e.address),h.length&&await Promise.all(h),a.address=dg(u.map(w=>w.toLowerCase()))}return{filter:a,tag:Th("event",a),type:"event"}}W(!1,"unknown ProviderEvent","event",n)}function R1(){return new Date().getTime()}const kN={cacheTimeout:250,pollingInterval:4e3};class FN{#t;#e;#n;#i;#r;#a;#s;#o;#d;#c;#g;#m;constructor(t,e){if(this.#m=Object.assign({},kN,e||{}),t==="any")this.#a=!0,this.#r=null;else if(t){const a=fr.from(t);this.#a=!1,this.#r=Promise.resolve(a),setTimeout(()=>{this.emit("network",a,null)},0)}else this.#a=!1,this.#r=null;this.#o=-1,this.#s=new Map,this.#t=new Map,this.#e=new Map,this.#n=null,this.#i=!1,this.#d=1,this.#c=new Map,this.#g=!1}get pollingInterval(){return this.#m.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#e.values())}attachPlugin(t){if(this.#e.get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return this.#e.set(t.name,t.connect(this)),this}getPlugin(t){return this.#e.get(t)||null}get disableCcipRead(){return this.#g}set disableCcipRead(t){this.#g=!!t}async#l(t){const e=this.#m.cacheTimeout;if(e<0)return await this._perform(t);const a=Th(t.method,t);let u=this.#s.get(a);return u||(u=this._perform(t),this.#s.set(a,u),setTimeout(()=>{this.#s.get(a)===u&&this.#s.delete(a)},e)),await u}async ccipReadFetch(t,e,a){if(this.disableCcipRead||a.length===0||t.to==null)return null;const u=t.to.toLowerCase(),h=e.toLowerCase(),p=[];for(let w=0;w<a.length;w++){const A=a[w],y=A.replace("{sender}",u).replace("{data}",h),C=new Qs(y);A.indexOf("{data}")===-1&&(C.body={data:h,sender:u}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:C,index:w,urls:a});let T="unknown error",I;try{I=await C.send()}catch(D){p.push(D.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:C,result:{error:D}});continue}try{const D=I.bodyJson;if(D.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:C,result:D}),D.data;D.message&&(T=D.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:C,result:D})}catch{}wt(I.statusCode<400||I.statusCode>=500,`response not found during CCIP fetch: ${T}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:t,info:{url:A,errorMessage:T}}),p.push(T)}wt(!1,`error encountered during CCIP fetch: ${p.map(w=>JSON.stringify(w)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:t,info:{urls:a,errorMessages:p}})}_wrapBlock(t,e){return new rN(CN(t),this)}_wrapLog(t,e){return new Lu(bN(t),this)}_wrapTransactionReceipt(t,e){return new SE(NN(t),this)}_wrapTransactionResponse(t,e){return new Pu(PE(t),this)}_detectNetwork(){wt(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(t){wt(!1,`unsupported method: ${t.method}`,"UNSUPPORTED_OPERATION",{operation:t.method,info:t})}async getBlockNumber(){const t=he(await this.#l({method:"getBlockNumber"}),"%response");return this.#o>=0&&(this.#o=t),t}_getAddress(t){return Oi(t,this)}_getBlockTag(t){if(t==null)return"latest";switch(t){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return t}if(nn(t))return nn(t,32)?t:Xr(t);if(typeof t=="bigint"&&(t=he(t,"blockTag")),typeof t=="number")return t>=0?Xr(t):this.#o>=0?Xr(this.#o+t):this.getBlockNumber().then(e=>Xr(e+t));W(!1,"invalid blockTag","blockTag",t)}_getFilter(t){const e=(t.topics||[]).map(A=>A==null?null:Array.isArray(A)?dg(A.map(y=>y.toLowerCase())):A.toLowerCase()),a="blockHash"in t?t.blockHash:void 0,u=(A,y,C)=>{let T;switch(A.length){case 0:break;case 1:T=A[0];break;default:A.sort(),T=A}if(a&&(y!=null||C!=null))throw new Error("invalid filter");const I={};return T&&(I.address=T),e.length&&(I.topics=e),y&&(I.fromBlock=y),C&&(I.toBlock=C),a&&(I.blockHash=a),I};let h=[];if(t.address)if(Array.isArray(t.address))for(const A of t.address)h.push(this._getAddress(A));else h.push(this._getAddress(t.address));let p;"fromBlock"in t&&(p=this._getBlockTag(t.fromBlock));let w;return"toBlock"in t&&(w=this._getBlockTag(t.toBlock)),h.filter(A=>typeof A!="string").length||p!=null&&typeof p!="string"||w!=null&&typeof w!="string"?Promise.all([Promise.all(h),p,w]).then(A=>u(A[0],A[1],A[2])):u(h,p,w)}_getTransactionRequest(t){const e=kh(t),a=[];if(["to","from"].forEach(u=>{if(e[u]==null)return;const h=Oi(e[u],this);yh(h)?a.push((async function(){e[u]=await h})()):e[u]=h}),e.blockTag!=null){const u=this._getBlockTag(e.blockTag);yh(u)?a.push((async function(){e.blockTag=await u})()):e.blockTag=u}return a.length?(async function(){return await Promise.all(a),e})():e}async getNetwork(){if(this.#r==null){const u=(async()=>{try{const h=await this._detectNetwork();return this.emit("network",h,null),h}catch(h){throw this.#r===u&&(this.#r=null),h}})();return this.#r=u,(await u).clone()}const t=this.#r,[e,a]=await Promise.all([t,this._detectNetwork()]);return e.chainId!==a.chainId&&(this.#a?(this.emit("network",a,e),this.#r===t&&(this.#r=Promise.resolve(a))):wt(!1,`network changed: ${e.chainId} => ${a.chainId} `,"NETWORK_ERROR",{event:"changed"})),e.clone()}async getFeeData(){const t=await this.getNetwork(),e=async()=>{const{_block:u,gasPrice:h,priorityFee:p}=await Ni({_block:this.#x("latest",!1),gasPrice:(async()=>{try{const C=await this.#l({method:"getGasPrice"});return Vt(C,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const C=await this.#l({method:"getPriorityFee"});return Vt(C,"%response")}catch{}return null})()});let w=null,A=null;const y=this._wrapBlock(u,t);return y&&y.baseFeePerGas&&(A=p??BigInt("1000000000"),w=y.baseFeePerGas*LN+A),new rA(h,w,A)},a=t.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(a){const u=new Qs(a.url),h=await a.processFunc(e,this,u);return new rA(h.gasPrice,h.maxFeePerGas,h.maxPriorityFeePerGas)}return await e()}async estimateGas(t){let e=this._getTransactionRequest(t);return yh(e)&&(e=await e),Vt(await this.#l({method:"estimateGas",transaction:e}),"%response")}async#u(t,e,a){wt(a<PN,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},t,{blockTag:e,enableCcipRead:!0})});const u=kh(t);try{return Dt(await this._perform({method:"call",transaction:u,blockTag:e}))}catch(h){if(!this.disableCcipRead&&Yg(h)&&h.data&&a>=0&&e==="latest"&&u.to!=null&&Nn(h.data,0,4)==="0x556f1830"){const p=h.data,w=await Oi(u.to,this);let A;try{A=jN(Nn(h.data,4))}catch(T){wt(!1,T.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:u,info:{data:p}})}wt(A.sender.toLowerCase()===w.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:p,reason:"OffchainLookup",transaction:u,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:A.errorArgs}});const y=await this.ccipReadFetch(u,A.calldata,A.urls);wt(y!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:u,info:{data:h.data,errorArgs:A.errorArgs}});const C={to:w,data:gn([A.selector,GN([y,A.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:C});try{const T=await this.#u(C,e,a+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},C),result:T}),T}catch(T){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},C),error:T}),T}}throw h}}async#f(t){const{value:e}=await Ni({network:this.getNetwork(),value:t});return e}async call(t){const{tx:e,blockTag:a}=await Ni({tx:this._getTransactionRequest(t),blockTag:this._getBlockTag(t.blockTag)});return await this.#f(this.#u(e,a,t.enableCcipRead?0:-1))}async#h(t,e,a){let u=this._getAddress(e),h=this._getBlockTag(a);return(typeof u!="string"||typeof h!="string")&&([u,h]=await Promise.all([u,h])),await this.#f(this.#l(Object.assign(t,{address:u,blockTag:h})))}async getBalance(t,e){return Vt(await this.#h({method:"getBalance"},t,e),"%response")}async getTransactionCount(t,e){return he(await this.#h({method:"getTransactionCount"},t,e),"%response")}async getCode(t,e){return Dt(await this.#h({method:"getCode"},t,e))}async getStorage(t,e,a){const u=Vt(e,"position");return Dt(await this.#h({method:"getStorage",position:u},t,a))}async broadcastTransaction(t){const{blockNumber:e,hash:a,network:u}=await Ni({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:t}),network:this.getNetwork()}),h=jr.from(t);if(h.hash!==a)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(h,u).replaceableTransaction(e)}async#x(t,e){if(nn(t,32))return await this.#l({method:"getBlock",blockHash:t,includeTransactions:e});let a=this._getBlockTag(t);return typeof a!="string"&&(a=await a),await this.#l({method:"getBlock",blockTag:a,includeTransactions:e})}async getBlock(t,e){const{network:a,params:u}=await Ni({network:this.getNetwork(),params:this.#x(t,!!e)});return u==null?null:this._wrapBlock(u,a)}async getTransaction(t){const{network:e,params:a}=await Ni({network:this.getNetwork(),params:this.#l({method:"getTransaction",hash:t})});return a==null?null:this._wrapTransactionResponse(a,e)}async getTransactionReceipt(t){const{network:e,params:a}=await Ni({network:this.getNetwork(),params:this.#l({method:"getTransactionReceipt",hash:t})});if(a==null)return null;if(a.gasPrice==null&&a.effectiveGasPrice==null){const u=await this.#l({method:"getTransaction",hash:t});if(u==null)throw new Error("report this; could not find tx or effectiveGasPrice");a.effectiveGasPrice=u.gasPrice}return this._wrapTransactionReceipt(a,e)}async getTransactionResult(t){const{result:e}=await Ni({network:this.getNetwork(),result:this.#l({method:"getTransactionResult",hash:t})});return e==null?null:Dt(e)}async getLogs(t){let e=this._getFilter(t);yh(e)&&(e=await e);const{network:a,params:u}=await Ni({network:this.getNetwork(),params:this.#l({method:"getLogs",filter:e})});return u.map(h=>this._wrapLog(h,a))}_getProvider(t){wt(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(t){return await Yl.fromName(this,t)}async getAvatar(t){const e=await this.getResolver(t);return e?await e.getAvatar():null}async resolveName(t){const e=await this.getResolver(t);return e?await e.getAddress():null}async lookupAddress(t){t=Fe(t);const e=cg(t.substring(2).toLowerCase()+".addr.reverse");try{const a=await Yl.getEnsAddress(this),h=await new gu(a,["function resolver(bytes32) view returns (address)"],this).resolver(e);if(h==null||h===wu)return null;const w=await new gu(h,["function name(bytes32) view returns (string)"],this).name(e);return await this.resolveName(w)!==t?null:w}catch(a){if(yi(a,"BAD_DATA")&&a.value==="0x"||yi(a,"CALL_EXCEPTION"))return null;throw a}return null}async waitForTransaction(t,e,a){const u=e??1;return u===0?this.getTransactionReceipt(t):new Promise(async(h,p)=>{let w=null;const A=(async y=>{try{const C=await this.getTransactionReceipt(t);if(C!=null&&y-C.blockNumber+1>=u){h(C),w&&(clearTimeout(w),w=null);return}}catch(C){console.log("EEE",C)}this.once("block",A)});a!=null&&(w=setTimeout(()=>{w!=null&&(w=null,this.off("block",A),p(dn("timeout","TIMEOUT",{reason:"timeout"})))},a)),A(await this.getBlockNumber())})}async waitForBlock(t){wt(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(t){const e=this.#c.get(t);e&&(e.timer&&clearTimeout(e.timer),this.#c.delete(t))}_setTimeout(t,e){e==null&&(e=0);const a=this.#d++,u=()=>{this.#c.delete(a),t()};if(this.paused)this.#c.set(a,{timer:null,func:u,time:e});else{const h=setTimeout(u,e);this.#c.set(a,{timer:h,func:u,time:R1()})}return a}_forEachSubscriber(t){for(const e of this.#t.values())t(e.subscriber)}_getSubscriber(t){switch(t.type){case"debug":case"error":case"network":return new UE(t.type);case"block":{const e=new RN(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new DN(this,t.type);case"event":return new fm(this,t.filter);case"transaction":return new _N(this,t.hash);case"orphan":return new BN(this,t.filter)}throw new Error(`unsupported event: ${t.type}`)}_recoverSubscriber(t,e){for(const a of this.#t.values())if(a.subscriber===t){a.started&&a.subscriber.stop(),a.subscriber=e,a.started&&e.start(),this.#n!=null&&e.pause(this.#n);break}}async#p(t,e){let a=await O1(t,this);return a.type==="event"&&e&&e.length>0&&e[0].removed===!0&&(a=await O1({orphan:"drop-log",log:e[0]},this)),this.#t.get(a.tag)||null}async#y(t){const e=await O1(t,this),a=e.tag;let u=this.#t.get(a);return u||(u={subscriber:this._getSubscriber(e),tag:a,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#t.set(a,u)),u}async on(t,e){const a=await this.#y(t);return a.listeners.push({listener:e,once:!1}),a.started||(a.subscriber.start(),a.started=!0,this.#n!=null&&a.subscriber.pause(this.#n)),this}async once(t,e){const a=await this.#y(t);return a.listeners.push({listener:e,once:!0}),a.started||(a.subscriber.start(),a.started=!0,this.#n!=null&&a.subscriber.pause(this.#n)),this}async emit(t,...e){const a=await this.#p(t,e);if(!a||a.listeners.length===0)return!1;const u=a.listeners.length;return a.listeners=a.listeners.filter(({listener:h,once:p})=>{const w=new eb(this,p?null:h,t);try{h.call(this,...e,w)}catch{}return!p}),a.listeners.length===0&&(a.started&&a.subscriber.stop(),this.#t.delete(a.tag)),u>0}async listenerCount(t){if(t){const a=await this.#p(t);return a?a.listeners.length:0}let e=0;for(const{listeners:a}of this.#t.values())e+=a.length;return e}async listeners(t){if(t){const a=await this.#p(t);return a?a.listeners.map(({listener:u})=>u):[]}let e=[];for(const{listeners:a}of this.#t.values())e=e.concat(a.map(({listener:u})=>u));return e}async off(t,e){const a=await this.#p(t);if(!a)return this;if(e){const u=a.listeners.map(({listener:h})=>h).indexOf(e);u>=0&&a.listeners.splice(u,1)}return(!e||a.listeners.length===0)&&(a.started&&a.subscriber.stop(),this.#t.delete(a.tag)),this}async removeAllListeners(t){if(t){const{tag:e,started:a,subscriber:u}=await this.#y(t);a&&u.stop(),this.#t.delete(e)}else for(const[e,{started:a,subscriber:u}]of this.#t)a&&u.stop(),this.#t.delete(e);return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return this.off(t,e)}get destroyed(){return this.#i}destroy(){this.removeAllListeners();for(const t of this.#c.keys())this._clearTimeout(t);this.#i=!0}get paused(){return this.#n!=null}set paused(t){!!t!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(t){if(this.#o=-1,this.#n!=null){if(this.#n==!!t)return;wt(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(e=>e.pause(t)),this.#n=!!t;for(const e of this.#c.values())e.timer&&clearTimeout(e.timer),e.time=R1()-e.time}resume(){if(this.#n!=null){this._forEachSubscriber(t=>t.resume()),this.#n=null;for(const t of this.#c.values()){let e=t.time;e<0&&(e=0),t.time=R1(),setTimeout(t.func,e)}}}}function zN(n,t){try{const e=gg(n,t);if(e)return Rh(e)}catch{}return null}function gg(n,t){if(n==="0x")return null;try{const e=he(Nn(n,t,t+32)),a=he(Nn(n,e,e+32));return Nn(n,e+32,e+32+a)}catch{}return null}function hA(n){const t=Yn(n);if(t.length>32)throw new Error("internal; should not happen");const e=new Uint8Array(32);return e.set(t,32-t.length),e}function VN(n){if(n.length%32===0)return n;const t=new Uint8Array(Math.ceil(n.length/32)*32);return t.set(n),t}const HN=new Uint8Array([]);function GN(n){const t=[];let e=0;for(let a=0;a<n.length;a++)t.push(HN),e+=32;for(let a=0;a<n.length;a++){const u=fe(n[a]);t[a]=hA(e),t.push(hA(u.length)),t.push(VN(u)),e+=32+Math.ceil(u.length/32)*32}return gn(t)}const dA="0x0000000000000000000000000000000000000000000000000000000000000000";function jN(n){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};wt(Hl(n)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const e=Nn(n,0,32);wt(Nn(e,0,12)===Nn(dA,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=Nn(e,12);try{const a=[],u=he(Nn(n,32,64)),h=he(Nn(n,u,u+32)),p=Nn(n,u+32);for(let w=0;w<h;w++){const A=zN(p,w*32);if(A==null)throw new Error("abort");a.push(A)}t.urls=a}catch{wt(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const a=gg(n,64);if(a==null)throw new Error("abort");t.calldata=a}catch{wt(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}wt(Nn(n,100,128)===Nn(dA,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=Nn(n,96,100);try{const a=gg(n,128);if(a==null)throw new Error("abort");t.extraData=a}catch{wt(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(a=>t[a]),t}function To(n,t){if(n.provider)return n.provider;wt(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function gA(n,t){let e=kh(t);if(e.to!=null&&(e.to=Oi(e.to,n)),e.from!=null){const a=e.from;e.from=Promise.all([n.getAddress(),Oi(a,n)]).then(([u,h])=>(W(u.toLowerCase()===h.toLowerCase(),"transaction from mismatch","tx.from",h),u))}else e.from=n.getAddress();return await Ni(e)}class YN{provider;constructor(t){Jt(this,{provider:t||null})}async getNonce(t){return To(this,"getTransactionCount").getTransactionCount(await this.getAddress(),t)}async populateCall(t){return await gA(this,t)}async populateTransaction(t){const e=To(this,"populateTransaction"),a=await gA(this,t);a.nonce==null&&(a.nonce=await this.getNonce("pending")),a.gasLimit==null&&(a.gasLimit=await this.estimateGas(a));const u=await this.provider.getNetwork();if(a.chainId!=null){const p=Vt(a.chainId);W(p===u.chainId,"transaction chainId mismatch","tx.chainId",t.chainId)}else a.chainId=u.chainId;const h=a.maxFeePerGas!=null||a.maxPriorityFeePerGas!=null;if(a.gasPrice!=null&&(a.type===2||h)?W(!1,"eip-1559 transaction do not support gasPrice","tx",t):(a.type===0||a.type===1)&&h&&W(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",t),(a.type===2||a.type==null)&&a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)a.type=2;else if(a.type===0||a.type===1){const p=await e.getFeeData();wt(p.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),a.gasPrice==null&&(a.gasPrice=p.gasPrice)}else{const p=await e.getFeeData();if(a.type==null)if(p.maxFeePerGas!=null&&p.maxPriorityFeePerGas!=null)if(a.authorizationList&&a.authorizationList.length?a.type=4:a.type=2,a.gasPrice!=null){const w=a.gasPrice;delete a.gasPrice,a.maxFeePerGas=w,a.maxPriorityFeePerGas=w}else a.maxFeePerGas==null&&(a.maxFeePerGas=p.maxFeePerGas),a.maxPriorityFeePerGas==null&&(a.maxPriorityFeePerGas=p.maxPriorityFeePerGas);else p.gasPrice!=null?(wt(!h,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),a.gasPrice==null&&(a.gasPrice=p.gasPrice),a.type=0):wt(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(a.type===2||a.type===3||a.type===4)&&(a.maxFeePerGas==null&&(a.maxFeePerGas=p.maxFeePerGas),a.maxPriorityFeePerGas==null&&(a.maxPriorityFeePerGas=p.maxPriorityFeePerGas))}return await Ni(a)}async populateAuthorization(t){const e=Object.assign({},t);return e.chainId==null&&(e.chainId=(await To(this,"getNetwork").getNetwork()).chainId),e.nonce==null&&(e.nonce=await this.getNonce()),e}async estimateGas(t){return To(this,"estimateGas").estimateGas(await this.populateCall(t))}async call(t){return To(this,"call").call(await this.populateCall(t))}async resolveName(t){return await To(this,"resolveName").resolveName(t)}async sendTransaction(t){const e=To(this,"sendTransaction"),a=await this.populateTransaction(t);delete a.from;const u=jr.from(a);return await e.broadcastTransaction(await this.signTransaction(u))}authorize(t){wt(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function XN(n){return JSON.parse(JSON.stringify(n))}class kE{#t;#e;#n;#i;#r;#a;constructor(t){this.#t=t,this.#e=null,this.#n=this.#s.bind(this),this.#i=!1,this.#r=null,this.#a=!1}_subscribe(t){throw new Error("subclasses must override this")}_emitResults(t,e){throw new Error("subclasses must override this")}_recover(t){throw new Error("subclasses must override this")}async#s(t){try{this.#e==null&&(this.#e=this._subscribe(this.#t));let e=null;try{e=await this.#e}catch(h){if(!yi(h,"UNSUPPORTED_OPERATION")||h.operation!=="eth_newFilter")throw h}if(e==null){this.#e=null,this.#t._recoverSubscriber(this,this._recover(this.#t));return}const a=await this.#t.getNetwork();if(this.#r||(this.#r=a),this.#r.chainId!==a.chainId)throw new Error("chaid changed");if(this.#a)return;const u=await this.#t.send("eth_getFilterChanges",[e]);await this._emitResults(this.#t,u)}catch(e){console.log("@TODO",e)}this.#t.once("block",this.#n)}#o(){const t=this.#e;t&&(this.#e=null,t.then(e=>{this.#t.destroyed||this.#t.send("eth_uninstallFilter",[e])}))}start(){this.#i||(this.#i=!0,this.#s(-2))}stop(){this.#i&&(this.#i=!1,this.#a=!0,this.#o(),this.#t.off("block",this.#n))}pause(t){t&&this.#o(),this.#t.off("block",this.#n)}resume(){this.start()}}class QN extends kE{#t;constructor(t,e){super(t),this.#t=XN(e)}_recover(t){return new fm(t,this.#t)}async _subscribe(t){return await t.send("eth_newFilter",[this.#t])}async _emitResults(t,e){for(const a of e)t.emit(this.#t,t._wrapLog(a,t._network))}}class ZN extends kE{async _subscribe(t){return await t.send("eth_newPendingTransactionFilter",[])}async _emitResults(t,e){for(const a of e)t.emit("pending",a)}}const KN="bigint,boolean,function,number,string,symbol".split(/,/g);function vh(n){if(n==null||KN.indexOf(typeof n)>=0||typeof n.getAddress=="function")return n;if(Array.isArray(n))return n.map(vh);if(typeof n=="object")return Object.keys(n).reduce((t,e)=>(t[e]=n[e],t),{});throw new Error(`should not happen: ${n} (${typeof n})`)}function WN(n){return new Promise(t=>{setTimeout(t,n)})}function Dl(n){return n&&n.toLowerCase()}function mA(n){return n&&typeof n.pollingInterval=="number"}const FE={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class D1 extends YN{address;constructor(t,e){super(t),e=Fe(e),Jt(this,{address:e})}connect(t){wt(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){const e=vh(t),a=[];if(e.from){const h=e.from;a.push((async()=>{const p=await Oi(h,this.provider);W(p!=null&&p.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),e.from=p})())}else e.from=this.address;if(e.gasLimit==null&&a.push((async()=>{e.gasLimit=await this.provider.estimateGas({...e,from:this.address})})()),e.to!=null){const h=e.to;a.push((async()=>{e.to=await Oi(h,this.provider)})())}a.length&&await Promise.all(a);const u=this.provider.getRpcTransaction(e);return this.provider.send("eth_sendTransaction",[u])}async sendTransaction(t){const e=await this.provider.getBlockNumber(),a=await this.sendUncheckedTransaction(t);return await new Promise((u,h)=>{const p=[1e3,100];let w=0;const A=async()=>{try{const y=await this.provider.getTransaction(a);if(y!=null){u(y.replaceableTransaction(e));return}}catch(y){if(yi(y,"CANCELLED")||yi(y,"BAD_DATA")||yi(y,"NETWORK_ERROR")||yi(y,"UNSUPPORTED_OPERATION")){y.info==null&&(y.info={}),y.info.sendTransactionHash=a,h(y);return}if(yi(y,"INVALID_ARGUMENT")&&(w++,y.info==null&&(y.info={}),y.info.sendTransactionHash=a,w>10)){h(y);return}this.provider.emit("error",dn("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:y}))}this.provider._setTimeout(()=>{A()},p.pop()||4e3)};A()})}async signTransaction(t){const e=vh(t);if(e.from){const u=await Oi(e.from,this.provider);W(u!=null&&u.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),e.from=u}else e.from=this.address;const a=this.provider.getRpcTransaction(e);return await this.provider.send("eth_signTransaction",[a])}async signMessage(t){const e=typeof t=="string"?Hs(t):t;return await this.provider.send("personal_sign",[Dt(e),this.address.toLowerCase()])}async signTypedData(t,e,a){const u=vh(a),h=await lr.resolveNames(t,e,u,async p=>{const w=await Oi(p);return W(w!=null,"TypedData does not support null address","value",p),w});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(lr.getPayload(h.domain,e,h.value))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){const e=typeof t=="string"?Hs(t):t;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Dt(e)])}}class qN extends FN{#t;#e;#n;#i;#r;#a;#s;#o(){if(this.#i)return;const t=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#i=setTimeout(()=>{this.#i=null;const e=this.#n;for(this.#n=[];e.length;){const a=[e.shift()];for(;e.length&&a.length!==this.#t.batchMaxCount;)if(a.push(e.shift()),JSON.stringify(a.map(h=>h.payload)).length>this.#t.batchMaxSize){e.unshift(a.pop());break}(async()=>{const u=a.length===1?a[0].payload:a.map(h=>h.payload);this.emit("debug",{action:"sendRpcPayload",payload:u});try{const h=await this._send(u);this.emit("debug",{action:"receiveRpcResult",result:h});for(const{resolve:p,reject:w,payload:A}of a){if(this.destroyed){w(dn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:A.method}));continue}const y=h.filter(C=>C.id===A.id)[0];if(y==null){const C=dn("missing response for request","BAD_DATA",{value:h,info:{payload:A}});this.emit("error",C),w(C);continue}if("error"in y){w(this.getRpcError(A,y));continue}p(y.result)}}catch(h){this.emit("debug",{action:"receiveRpcError",error:h});for(const{reject:p}of a)p(h)}})()}},t)}constructor(t,e){super(t,e),this.#e=1,this.#t=Object.assign({},FE,e||{}),this.#n=[],this.#i=null,this.#a=null,this.#s=null;{let u=null;const h=new Promise(p=>{u=p});this.#r={promise:h,resolve:u}}const a=this._getOption("staticNetwork");typeof a=="boolean"?(W(!a||t!=="any","staticNetwork cannot be used on special network 'any'","options",e),a&&t!=null&&(this.#a=fr.from(t))):a&&(W(t==null||a.matches(t),"staticNetwork MUST match network object","options",e),this.#a=a)}_getOption(t){return this.#t[t]}get _network(){return wt(this.#a,"network is not available yet","NETWORK_ERROR"),this.#a}async _perform(t){if(t.method==="call"||t.method==="estimateGas"){let a=t.transaction;if(a&&a.type!=null&&Vt(a.type)&&a.maxFeePerGas==null&&a.maxPriorityFeePerGas==null){const u=await this.getFeeData();u.maxFeePerGas==null&&u.maxPriorityFeePerGas==null&&(t=Object.assign({},t,{transaction:Object.assign({},a,{type:void 0})}))}}const e=this.getRpcRequest(t);return e!=null?await this.send(e.method,e.args):super._perform(t)}async _detectNetwork(){const t=this._getOption("staticNetwork");if(t)if(t===!0){if(this.#a)return this.#a}else return t;return this.#s?await this.#s:this.ready?(this.#s=(async()=>{try{const e=fr.from(Vt(await this.send("eth_chainId",[])));return this.#s=null,e}catch(e){throw this.#s=null,e}})(),await this.#s):(this.#s=(async()=>{const e={id:this.#e++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:e});let a;try{a=(await this._send(e))[0],this.#s=null}catch(u){throw this.#s=null,this.emit("debug",{action:"receiveRpcError",error:u}),u}if(this.emit("debug",{action:"receiveRpcResult",result:a}),"result"in a)return fr.from(Vt(a.result));throw this.getRpcError(e,a)})(),await this.#s)}_start(){this.#r==null||this.#r.resolve==null||(this.#r.resolve(),this.#r=null,(async()=>{for(;this.#a==null&&!this.destroyed;)try{this.#a=await this._detectNetwork()}catch(t){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",dn("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),await WN(1e3)}this.#o()})())}async _waitUntilReady(){if(this.#r!=null)return await this.#r.promise}_getSubscriber(t){return t.type==="pending"?new ZN(this):t.type==="event"?this._getOption("polling")?new fm(this,t.filter):new QN(this,t.filter):t.type==="orphan"&&t.filter.orphan==="drop-log"?new UE("orphan"):super._getSubscriber(t)}get ready(){return this.#r==null}getRpcTransaction(t){const e={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(a=>{if(t[a]==null)return;let u=a;a==="gasLimit"&&(u="gas"),e[u]=Xr(Vt(t[a],`tx.${a}`))}),["from","to","data"].forEach(a=>{t[a]!=null&&(e[a]=Dt(t[a]))}),t.accessList&&(e.accessList=Yo(t.accessList)),t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.map(a=>a.toLowerCase())),t.authorizationList&&(e.authorizationList=t.authorizationList.map(a=>{const u=jb(a);return{address:u.address,nonce:Xr(u.nonce),chainId:Xr(u.chainId),yParity:Xr(u.signature.yParity),r:Xr(u.signature.r),s:Xr(u.signature.s)}})),e}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Dl(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Dl(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[Dl(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Dl(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&t.filter.address!=null&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(Dl):t.filter.address=Dl(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}getRpcError(t,e){const{method:a}=t,{error:u}=e;if(a==="eth_estimateGas"&&u.message){const w=u.message;if(!w.match(/revert/i)&&w.match(/insufficient funds/i))return dn("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:u}});if(w.match(/nonce/i)&&w.match(/too low/i))return dn("nonce has already been used","NONCE_EXPIRED",{transaction:t.params[0],info:{payload:t,error:u}})}if(a==="eth_call"||a==="eth_estimateGas"){const w=mg(u),A=$l.getBuiltinCallException(a==="eth_call"?"call":"estimateGas",t.params[0],w?w.data:null);return A.info={error:u,payload:t},A}const h=JSON.stringify($N(u));if(typeof u.message=="string"&&u.message.match(/user denied|ethers-user-denied/i))return dn("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[a]||"unknown",reason:"rejected",info:{payload:t,error:u}});if(a==="eth_sendRawTransaction"||a==="eth_sendTransaction"){const w=t.params[0];if(h.match(/insufficient funds|base fee exceeds gas limit/i))return dn("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:w,info:{error:u}});if(h.match(/nonce/i)&&h.match(/too low/i))return dn("nonce has already been used","NONCE_EXPIRED",{transaction:w,info:{error:u}});if(h.match(/replacement transaction/i)&&h.match(/underpriced/i))return dn("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:w,info:{error:u}});if(h.match(/only replay-protected/i))return dn("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:a,info:{transaction:w,info:{error:u}}})}let p=!!h.match(/the method .* does not exist/i);return p||u&&u.details&&u.details.startsWith("Unauthorized method:")&&(p=!0),p?dn("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:u,payload:t}}):dn("could not coalesce error","UNKNOWN_ERROR",{error:u,payload:t})}send(t,e){if(this.destroyed)return Promise.reject(dn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));const a=this.#e++,u=new Promise((h,p)=>{this.#n.push({resolve:h,reject:p,payload:{method:t,params:e,id:a,jsonrpc:"2.0"}})});return this.#o(),u}async getSigner(t){t==null&&(t=0);const e=this.send("eth_accounts",[]);if(typeof t=="number"){const u=await e;if(t>=u.length)throw new Error("no such account");return new D1(this,u[t])}const{accounts:a}=await Ni({network:this.getNetwork(),accounts:e});t=Fe(t);for(const u of a)if(Fe(u)===t)return new D1(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(e=>new D1(this,e))}destroy(){this.#i&&(clearTimeout(this.#i),this.#i=null);for(const{payload:t,reject:e}of this.#n)e(dn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));this.#n=[],super.destroy()}}class JN extends qN{#t;constructor(t,e){super(t,e);let a=this._getOption("pollingInterval");a==null&&(a=FE.pollingInterval),this.#t=a}_getSubscriber(t){const e=super._getSubscriber(t);return mA(e)&&(e.pollingInterval=this.#t),e}get pollingInterval(){return this.#t}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");this.#t=t,this._forEachSubscriber(e=>{mA(e)&&(e.pollingInterval=this.#t)})}}function mg(n){if(n==null)return null;if(typeof n.message=="string"&&n.message.match(/revert/i)&&nn(n.data))return{message:n.message,data:n.data};if(typeof n=="object"){for(const t in n){const e=mg(n[t]);if(e)return e}return null}if(typeof n=="string")try{return mg(JSON.parse(n))}catch{}return null}function pg(n,t){if(n!=null){if(typeof n.message=="string"&&t.push(n.message),typeof n=="object")for(const e in n)pg(n[e],t);if(typeof n=="string")try{return pg(JSON.parse(n),t)}catch{}}}function $N(n){const t=[];return pg(n,t),t}class Ha extends JN{#t;#e;constructor(t,e,a){const u=Object.assign({},a??{},{batchMaxCount:1});W(t&&t.request,"invalid EIP-1193 provider","ethereum",t),super(e,u),this.#e=null,a&&a.providerInfo&&(this.#e=a.providerInfo),this.#t=async(h,p)=>{const w={method:h,params:p};this.emit("debug",{action:"sendEip1193Request",payload:w});try{const A=await t.request(w);return this.emit("debug",{action:"receiveEip1193Result",result:A}),A}catch(A){const y=new Error(A.message);throw y.code=A.code,y.data=A.data,y.payload=w,this.emit("debug",{action:"receiveEip1193Error",error:y}),y}}}get providerInfo(){return this.#e}async send(t,e){return await this._start(),await super.send(t,e)}async _send(t){W(!Array.isArray(t),"EIP-1193 does not support batch request","payload",t);try{const e=await this.#t(t.method,t.params||[]);return[{id:t.id,result:e}]}catch(e){return[{id:t.id,error:{code:e.code,data:e.data,message:e.message}}]}}getRpcError(t,e){switch(e=JSON.parse(JSON.stringify(e)),e.error.code||-1){case 4001:e.error.message=`ethers-user-denied: ${e.error.message}`;break;case 4200:e.error.message=`ethers-unsupported: ${e.error.message}`;break}return super.getRpcError(t,e)}async hasSigner(t){t==null&&(t=0);const e=await this.send("eth_accounts",[]);return typeof t=="number"?e.length>t:(t=t.toLowerCase(),e.filter(a=>a.toLowerCase()===t).length!==0)}async getSigner(t){if(t==null&&(t=0),!await this.hasSigner(t))try{await this.#t("eth_requestAccounts",[])}catch(e){const a=e.payload;throw this.getRpcError(a,{id:a.id,error:e})}return await super.getSigner(t)}static async discover(t){if(t==null&&(t={}),t.provider)return new Ha(t.provider);const e=t.window?t.window:typeof window<"u"?window:null;if(e==null)return null;const a=t.anyProvider;if(a&&e.ethereum)return new Ha(e.ethereum);if(!("addEventListener"in e&&"dispatchEvent"in e&&"removeEventListener"in e))return null;const u=t.timeout?t.timeout:300;return u===0?null:await new Promise((h,p)=>{let w=[];const A=T=>{w.push(T.detail),a&&y()},y=()=>{if(clearTimeout(C),w.length)if(t&&t.filter){const T=t.filter(w.map(I=>Object.assign({},I.info)));if(T==null)h(null);else if(T instanceof Ha)h(T);else{let I=null;if(T.uuid&&(I=w.filter(P=>T.uuid===P.info.uuid)[0]),I){const{provider:D,info:P}=I;h(new Ha(D,void 0,{providerInfo:P}))}else p(dn("filter returned unknown info","UNSUPPORTED_OPERATION",{value:T}))}}else{const{provider:T,info:I}=w[0];h(new Ha(T,void 0,{providerInfo:I}))}else h(null);e.removeEventListener("eip6963:announceProvider",A)},C=setTimeout(()=>{y()},u);e.addEventListener("eip6963:announceProvider",A),e.dispatchEvent(new Event("eip6963:requestProvider"))})}}const t6=()=>{const[n,t]=Nt.useState(null),[e,a]=Nt.useState("12500"),[u,h]=Nt.useState(null),[p,w]=Nt.useState(!0),[A,y]=Nt.useState(null),C=async()=>{y(null);const I=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);if(typeof window<"u"&&window.ethereum)try{const D=new Ha(window.ethereum),P=await D.send("eth_requestAccounts",[]);if(P.length>0){t(P[0]);const L=await D.getNetwork();h(Number(L.chainId)),w(!1)}}catch(D){console.error("Connection failed",D),y("")}else if(I){const P=`https://metamask.app.link/dapp/${window.location.href.split("?")[0].replace(/^https?:\/\//,"")}`;confirm("MetaMask")?window.location.href=P:alert("MetaMask")}else alert("MetaMask")},T=()=>{t(null),w(!0),a("12500")};return Nt.useEffect(()=>{(async()=>{if(typeof window<"u"&&window.ethereum)try{const D=new Ha(window.ethereum),P=await D.send("eth_accounts",[]);if(P.length>0){t(P[0]);const L=await D.getNetwork();h(Number(L.chainId)),w(!1)}}catch(D){console.log("Auto connect failed",D)}})()},[]),{account:n,balance:e,chainId:u,connect:C,disconnect:T,isDemo:p,setBalance:a,error:A}};const e6=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n6=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,a)=>a?a.toUpperCase():e.toLowerCase()),pA=n=>{const t=n6(n);return t.charAt(0).toUpperCase()+t.slice(1)},zE=(...n)=>n.filter((t,e,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===e).join(" ").trim(),i6=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var r6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const s6=Nt.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:a,className:u="",children:h,iconNode:p,...w},A)=>Nt.createElement("svg",{ref:A,...r6,width:t,height:t,stroke:n,strokeWidth:a?Number(e)*24/Number(t):e,className:zE("lucide",u),...!h&&!i6(w)&&{"aria-hidden":"true"},...w},[...p.map(([y,C])=>Nt.createElement(y,C)),...Array.isArray(h)?h:[h]]));const qs=(n,t)=>{const e=Nt.forwardRef(({className:a,...u},h)=>Nt.createElement(s6,{ref:h,iconNode:t,className:zE(`lucide-${e6(pA(n))}`,`lucide-${n}`,a),...u}));return e.displayName=pA(n),e};const a6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],o6=qs("check",a6);const l6=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],c6=qs("copy",l6);const u6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],VE=qs("history",u6);const f6=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],h6=qs("menu",f6);const d6=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],hm=qs("qr-code",d6);const g6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],HE=qs("send",g6);const m6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yg=qs("user",m6);const p6=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],xg=qs("wallet",p6);const y6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],GE=qs("x",y6);var x6=Object.defineProperty,zh=Object.getOwnPropertySymbols,jE=Object.prototype.hasOwnProperty,YE=Object.prototype.propertyIsEnumerable,yA=(n,t,e)=>t in n?x6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,Ag=(n,t)=>{for(var e in t||(t={}))jE.call(t,e)&&yA(n,e,t[e]);if(zh)for(var e of zh(t))YE.call(t,e)&&yA(n,e,t[e]);return n},wg=(n,t)=>{var e={};for(var a in n)jE.call(n,a)&&t.indexOf(a)<0&&(e[a]=n[a]);if(n!=null&&zh)for(var a of zh(n))t.indexOf(a)<0&&YE.call(n,a)&&(e[a]=n[a]);return e};var jo;(n=>{const t=class xe{constructor(A,y,C,T){if(this.version=A,this.errorCorrectionLevel=y,this.modules=[],this.isFunction=[],A<xe.MIN_VERSION||A>xe.MAX_VERSION)throw new RangeError("Version value out of range");if(T<-1||T>7)throw new RangeError("Mask value out of range");this.size=A*4+17;let I=[];for(let P=0;P<this.size;P++)I.push(!1);for(let P=0;P<this.size;P++)this.modules.push(I.slice()),this.isFunction.push(I.slice());this.drawFunctionPatterns();const D=this.addEccAndInterleave(C);if(this.drawCodewords(D),T==-1){let P=1e9;for(let L=0;L<8;L++){this.applyMask(L),this.drawFormatBits(L);const F=this.getPenaltyScore();F<P&&(T=L,P=F),this.applyMask(L)}}u(0<=T&&T<=7),this.mask=T,this.applyMask(T),this.drawFormatBits(T),this.isFunction=[]}static encodeText(A,y){const C=n.QrSegment.makeSegments(A);return xe.encodeSegments(C,y)}static encodeBinary(A,y){const C=n.QrSegment.makeBytes(A);return xe.encodeSegments([C],y)}static encodeSegments(A,y,C=1,T=40,I=-1,D=!0){if(!(xe.MIN_VERSION<=C&&C<=T&&T<=xe.MAX_VERSION)||I<-1||I>7)throw new RangeError("Invalid value");let P,L;for(P=C;;P++){const z=xe.getNumDataCodewords(P,y)*8,lt=p.getTotalBits(A,P);if(lt<=z){L=lt;break}if(P>=T)throw new RangeError("Data too long")}for(const z of[xe.Ecc.MEDIUM,xe.Ecc.QUARTILE,xe.Ecc.HIGH])D&&L<=xe.getNumDataCodewords(P,z)*8&&(y=z);let F=[];for(const z of A){e(z.mode.modeBits,4,F),e(z.numChars,z.mode.numCharCountBits(P),F);for(const lt of z.getData())F.push(lt)}u(F.length==L);const G=xe.getNumDataCodewords(P,y)*8;u(F.length<=G),e(0,Math.min(4,G-F.length),F),e(0,(8-F.length%8)%8,F),u(F.length%8==0);for(let z=236;F.length<G;z^=253)e(z,8,F);let q=[];for(;q.length*8<F.length;)q.push(0);return F.forEach((z,lt)=>q[lt>>>3]|=z<<7-(lt&7)),new xe(P,y,q,I)}getModule(A,y){return 0<=A&&A<this.size&&0<=y&&y<this.size&&this.modules[y][A]}getModules(){return this.modules}drawFunctionPatterns(){for(let C=0;C<this.size;C++)this.setFunctionModule(6,C,C%2==0),this.setFunctionModule(C,6,C%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const A=this.getAlignmentPatternPositions(),y=A.length;for(let C=0;C<y;C++)for(let T=0;T<y;T++)C==0&&T==0||C==0&&T==y-1||C==y-1&&T==0||this.drawAlignmentPattern(A[C],A[T]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(A){const y=this.errorCorrectionLevel.formatBits<<3|A;let C=y;for(let I=0;I<10;I++)C=C<<1^(C>>>9)*1335;const T=(y<<10|C)^21522;u(T>>>15==0);for(let I=0;I<=5;I++)this.setFunctionModule(8,I,a(T,I));this.setFunctionModule(8,7,a(T,6)),this.setFunctionModule(8,8,a(T,7)),this.setFunctionModule(7,8,a(T,8));for(let I=9;I<15;I++)this.setFunctionModule(14-I,8,a(T,I));for(let I=0;I<8;I++)this.setFunctionModule(this.size-1-I,8,a(T,I));for(let I=8;I<15;I++)this.setFunctionModule(8,this.size-15+I,a(T,I));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let A=this.version;for(let C=0;C<12;C++)A=A<<1^(A>>>11)*7973;const y=this.version<<12|A;u(y>>>18==0);for(let C=0;C<18;C++){const T=a(y,C),I=this.size-11+C%3,D=Math.floor(C/3);this.setFunctionModule(I,D,T),this.setFunctionModule(D,I,T)}}drawFinderPattern(A,y){for(let C=-4;C<=4;C++)for(let T=-4;T<=4;T++){const I=Math.max(Math.abs(T),Math.abs(C)),D=A+T,P=y+C;0<=D&&D<this.size&&0<=P&&P<this.size&&this.setFunctionModule(D,P,I!=2&&I!=4)}}drawAlignmentPattern(A,y){for(let C=-2;C<=2;C++)for(let T=-2;T<=2;T++)this.setFunctionModule(A+T,y+C,Math.max(Math.abs(T),Math.abs(C))!=1)}setFunctionModule(A,y,C){this.modules[y][A]=C,this.isFunction[y][A]=!0}addEccAndInterleave(A){const y=this.version,C=this.errorCorrectionLevel;if(A.length!=xe.getNumDataCodewords(y,C))throw new RangeError("Invalid argument");const T=xe.NUM_ERROR_CORRECTION_BLOCKS[C.ordinal][y],I=xe.ECC_CODEWORDS_PER_BLOCK[C.ordinal][y],D=Math.floor(xe.getNumRawDataModules(y)/8),P=T-D%T,L=Math.floor(D/T);let F=[];const G=xe.reedSolomonComputeDivisor(I);for(let z=0,lt=0;z<T;z++){let gt=A.slice(lt,lt+L-I+(z<P?0:1));lt+=gt.length;const dt=xe.reedSolomonComputeRemainder(gt,G);z<P&&gt.push(0),F.push(gt.concat(dt))}let q=[];for(let z=0;z<F[0].length;z++)F.forEach((lt,gt)=>{(z!=L-I||gt>=P)&&q.push(lt[z])});return u(q.length==D),q}drawCodewords(A){if(A.length!=Math.floor(xe.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let y=0;for(let C=this.size-1;C>=1;C-=2){C==6&&(C=5);for(let T=0;T<this.size;T++)for(let I=0;I<2;I++){const D=C-I,L=(C+1&2)==0?this.size-1-T:T;!this.isFunction[L][D]&&y<A.length*8&&(this.modules[L][D]=a(A[y>>>3],7-(y&7)),y++)}}u(y==A.length*8)}applyMask(A){if(A<0||A>7)throw new RangeError("Mask value out of range");for(let y=0;y<this.size;y++)for(let C=0;C<this.size;C++){let T;switch(A){case 0:T=(C+y)%2==0;break;case 1:T=y%2==0;break;case 2:T=C%3==0;break;case 3:T=(C+y)%3==0;break;case 4:T=(Math.floor(C/3)+Math.floor(y/2))%2==0;break;case 5:T=C*y%2+C*y%3==0;break;case 6:T=(C*y%2+C*y%3)%2==0;break;case 7:T=((C+y)%2+C*y%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[y][C]&&T&&(this.modules[y][C]=!this.modules[y][C])}}getPenaltyScore(){let A=0;for(let I=0;I<this.size;I++){let D=!1,P=0,L=[0,0,0,0,0,0,0];for(let F=0;F<this.size;F++)this.modules[I][F]==D?(P++,P==5?A+=xe.PENALTY_N1:P>5&&A++):(this.finderPenaltyAddHistory(P,L),D||(A+=this.finderPenaltyCountPatterns(L)*xe.PENALTY_N3),D=this.modules[I][F],P=1);A+=this.finderPenaltyTerminateAndCount(D,P,L)*xe.PENALTY_N3}for(let I=0;I<this.size;I++){let D=!1,P=0,L=[0,0,0,0,0,0,0];for(let F=0;F<this.size;F++)this.modules[F][I]==D?(P++,P==5?A+=xe.PENALTY_N1:P>5&&A++):(this.finderPenaltyAddHistory(P,L),D||(A+=this.finderPenaltyCountPatterns(L)*xe.PENALTY_N3),D=this.modules[F][I],P=1);A+=this.finderPenaltyTerminateAndCount(D,P,L)*xe.PENALTY_N3}for(let I=0;I<this.size-1;I++)for(let D=0;D<this.size-1;D++){const P=this.modules[I][D];P==this.modules[I][D+1]&&P==this.modules[I+1][D]&&P==this.modules[I+1][D+1]&&(A+=xe.PENALTY_N2)}let y=0;for(const I of this.modules)y=I.reduce((D,P)=>D+(P?1:0),y);const C=this.size*this.size,T=Math.ceil(Math.abs(y*20-C*10)/C)-1;return u(0<=T&&T<=9),A+=T*xe.PENALTY_N4,u(0<=A&&A<=2568888),A}getAlignmentPatternPositions(){if(this.version==1)return[];{const A=Math.floor(this.version/7)+2,y=this.version==32?26:Math.ceil((this.version*4+4)/(A*2-2))*2;let C=[6];for(let T=this.size-7;C.length<A;T-=y)C.splice(1,0,T);return C}}static getNumRawDataModules(A){if(A<xe.MIN_VERSION||A>xe.MAX_VERSION)throw new RangeError("Version number out of range");let y=(16*A+128)*A+64;if(A>=2){const C=Math.floor(A/7)+2;y-=(25*C-10)*C-55,A>=7&&(y-=36)}return u(208<=y&&y<=29648),y}static getNumDataCodewords(A,y){return Math.floor(xe.getNumRawDataModules(A)/8)-xe.ECC_CODEWORDS_PER_BLOCK[y.ordinal][A]*xe.NUM_ERROR_CORRECTION_BLOCKS[y.ordinal][A]}static reedSolomonComputeDivisor(A){if(A<1||A>255)throw new RangeError("Degree out of range");let y=[];for(let T=0;T<A-1;T++)y.push(0);y.push(1);let C=1;for(let T=0;T<A;T++){for(let I=0;I<y.length;I++)y[I]=xe.reedSolomonMultiply(y[I],C),I+1<y.length&&(y[I]^=y[I+1]);C=xe.reedSolomonMultiply(C,2)}return y}static reedSolomonComputeRemainder(A,y){let C=y.map(T=>0);for(const T of A){const I=T^C.shift();C.push(0),y.forEach((D,P)=>C[P]^=xe.reedSolomonMultiply(D,I))}return C}static reedSolomonMultiply(A,y){if(A>>>8||y>>>8)throw new RangeError("Byte out of range");let C=0;for(let T=7;T>=0;T--)C=C<<1^(C>>>7)*285,C^=(y>>>T&1)*A;return u(C>>>8==0),C}finderPenaltyCountPatterns(A){const y=A[1];u(y<=this.size*3);const C=y>0&&A[2]==y&&A[3]==y*3&&A[4]==y&&A[5]==y;return(C&&A[0]>=y*4&&A[6]>=y?1:0)+(C&&A[6]>=y*4&&A[0]>=y?1:0)}finderPenaltyTerminateAndCount(A,y,C){return A&&(this.finderPenaltyAddHistory(y,C),y=0),y+=this.size,this.finderPenaltyAddHistory(y,C),this.finderPenaltyCountPatterns(C)}finderPenaltyAddHistory(A,y){y[0]==0&&(A+=this.size),y.pop(),y.unshift(A)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=t;function e(w,A,y){if(A<0||A>31||w>>>A)throw new RangeError("Value out of range");for(let C=A-1;C>=0;C--)y.push(w>>>C&1)}function a(w,A){return(w>>>A&1)!=0}function u(w){if(!w)throw new Error("Assertion error")}const h=class Tn{constructor(A,y,C){if(this.mode=A,this.numChars=y,this.bitData=C,y<0)throw new RangeError("Invalid argument");this.bitData=C.slice()}static makeBytes(A){let y=[];for(const C of A)e(C,8,y);return new Tn(Tn.Mode.BYTE,A.length,y)}static makeNumeric(A){if(!Tn.isNumeric(A))throw new RangeError("String contains non-numeric characters");let y=[];for(let C=0;C<A.length;){const T=Math.min(A.length-C,3);e(parseInt(A.substring(C,C+T),10),T*3+1,y),C+=T}return new Tn(Tn.Mode.NUMERIC,A.length,y)}static makeAlphanumeric(A){if(!Tn.isAlphanumeric(A))throw new RangeError("String contains unencodable characters in alphanumeric mode");let y=[],C;for(C=0;C+2<=A.length;C+=2){let T=Tn.ALPHANUMERIC_CHARSET.indexOf(A.charAt(C))*45;T+=Tn.ALPHANUMERIC_CHARSET.indexOf(A.charAt(C+1)),e(T,11,y)}return C<A.length&&e(Tn.ALPHANUMERIC_CHARSET.indexOf(A.charAt(C)),6,y),new Tn(Tn.Mode.ALPHANUMERIC,A.length,y)}static makeSegments(A){return A==""?[]:Tn.isNumeric(A)?[Tn.makeNumeric(A)]:Tn.isAlphanumeric(A)?[Tn.makeAlphanumeric(A)]:[Tn.makeBytes(Tn.toUtf8ByteArray(A))]}static makeEci(A){let y=[];if(A<0)throw new RangeError("ECI assignment value out of range");if(A<128)e(A,8,y);else if(A<16384)e(2,2,y),e(A,14,y);else if(A<1e6)e(6,3,y),e(A,21,y);else throw new RangeError("ECI assignment value out of range");return new Tn(Tn.Mode.ECI,0,y)}static isNumeric(A){return Tn.NUMERIC_REGEX.test(A)}static isAlphanumeric(A){return Tn.ALPHANUMERIC_REGEX.test(A)}getData(){return this.bitData.slice()}static getTotalBits(A,y){let C=0;for(const T of A){const I=T.mode.numCharCountBits(y);if(T.numChars>=1<<I)return 1/0;C+=4+I+T.bitData.length}return C}static toUtf8ByteArray(A){A=encodeURI(A);let y=[];for(let C=0;C<A.length;C++)A.charAt(C)!="%"?y.push(A.charCodeAt(C)):(y.push(parseInt(A.substring(C+1,C+3),16)),C+=2);return y}};h.NUMERIC_REGEX=/^[0-9]*$/,h.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,h.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let p=h;n.QrSegment=h})(jo||(jo={}));(n=>{(t=>{const e=class{constructor(u,h){this.ordinal=u,this.formatBits=h}};e.LOW=new e(0,1),e.MEDIUM=new e(1,0),e.QUARTILE=new e(2,3),e.HIGH=new e(3,2),t.Ecc=e})(n.QrCode||(n.QrCode={}))})(jo||(jo={}));(n=>{(t=>{const e=class{constructor(u,h){this.modeBits=u,this.numBitsCharCount=h}numCharCountBits(u){return this.numBitsCharCount[Math.floor((u+7)/17)]}};e.NUMERIC=new e(1,[10,12,14]),e.ALPHANUMERIC=new e(2,[9,11,13]),e.BYTE=new e(4,[8,16,16]),e.KANJI=new e(8,[8,10,12]),e.ECI=new e(7,[0,0,0]),t.Mode=e})(n.QrSegment||(n.QrSegment={}))})(jo||(jo={}));var Pl=jo;var A6={L:Pl.QrCode.Ecc.LOW,M:Pl.QrCode.Ecc.MEDIUM,Q:Pl.QrCode.Ecc.QUARTILE,H:Pl.QrCode.Ecc.HIGH},XE=128,QE="L",ZE="#FFFFFF",KE="#000000",WE=!1,qE=1,w6=4,b6=0,E6=.1;function JE(n,t=0){const e=[];return n.forEach(function(a,u){let h=null;a.forEach(function(p,w){if(!p&&h!==null){e.push(`M${h+t} ${u+t}h${w-h}v1H${h+t}z`),h=null;return}if(w===a.length-1){if(!p)return;h===null?e.push(`M${w+t},${u+t} h1v1H${w+t}z`):e.push(`M${h+t},${u+t} h${w+1-h}v1H${h+t}z`);return}p&&h===null&&(h=w)})}),e.join("")}function $E(n,t){return n.slice().map((e,a)=>a<t.y||a>=t.y+t.h?e:e.map((u,h)=>h<t.x||h>=t.x+t.w?u:!1))}function C6(n,t,e,a){if(a==null)return null;const u=n.length+e*2,h=Math.floor(t*E6),p=u/t,w=(a.width||h)*p,A=(a.height||h)*p,y=a.x==null?n.length/2-w/2:a.x*p,C=a.y==null?n.length/2-A/2:a.y*p,T=a.opacity==null?1:a.opacity;let I=null;if(a.excavate){let P=Math.floor(y),L=Math.floor(C),F=Math.ceil(w+y-P),G=Math.ceil(A+C-L);I={x:P,y:L,w:F,h:G}}const D=a.crossOrigin;return{x:y,y:C,h:A,w,excavation:I,opacity:T,crossOrigin:D}}function S6(n,t){return t!=null?Math.max(Math.floor(t),0):n?w6:b6}function t3({value:n,level:t,minVersion:e,includeMargin:a,marginSize:u,imageSettings:h,size:p,boostLevel:w}){let A=ei.useMemo(()=>{const P=(Array.isArray(n)?n:[n]).reduce((L,F)=>(L.push(...Pl.QrSegment.makeSegments(F)),L),[]);return Pl.QrCode.encodeSegments(P,A6[t],e,void 0,void 0,w)},[n,t,e,w]);const{cells:y,margin:C,numCells:T,calculatedImageSettings:I}=ei.useMemo(()=>{let D=A.getModules();const P=S6(a,u),L=D.length+P*2,F=C6(D,p,P,h);return{cells:D,margin:P,numCells:L,calculatedImageSettings:F}},[A,p,h,a,u]);return{qrcode:A,margin:C,cells:y,numCells:T,calculatedImageSettings:I}}var T6=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),v6=ei.forwardRef(function(t,e){const a=t,{value:u,size:h=XE,level:p=QE,bgColor:w=ZE,fgColor:A=KE,includeMargin:y=WE,minVersion:C=qE,boostLevel:T,marginSize:I,imageSettings:D}=a,L=wg(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:F}=L,G=wg(L,["style"]),q=D?.src,z=ei.useRef(null),lt=ei.useRef(null),gt=ei.useCallback(qt=>{z.current=qt,typeof e=="function"?e(qt):e&&(e.current=qt)},[e]),[dt,K]=ei.useState(!1),{margin:it,cells:at,numCells:_t,calculatedImageSettings:Ot}=t3({value:u,level:p,minVersion:C,boostLevel:T,includeMargin:y,marginSize:I,imageSettings:D,size:h});ei.useEffect(()=>{if(z.current!=null){const qt=z.current,H=qt.getContext("2d");if(!H)return;let Q=at;const tt=lt.current,Et=Ot!=null&&tt!==null&&tt.complete&&tt.naturalHeight!==0&&tt.naturalWidth!==0;Et&&Ot.excavation!=null&&(Q=$E(at,Ot.excavation));const Rt=window.devicePixelRatio||1;qt.height=qt.width=h*Rt;const kt=h/_t*Rt;H.scale(kt,kt),H.fillStyle=w,H.fillRect(0,0,_t,_t),H.fillStyle=A,T6?H.fill(new Path2D(JE(Q,it))):at.forEach(function(Y,ft){Y.forEach(function(vt,It){vt&&H.fillRect(It+it,ft+it,1,1)})}),Ot&&(H.globalAlpha=Ot.opacity),Et&&H.drawImage(tt,Ot.x+it,Ot.y+it,Ot.w,Ot.h)}}),ei.useEffect(()=>{K(!1)},[q]);const Mt=Ag({height:h,width:h},F);let jt=null;return q!=null&&(jt=ei.createElement("img",{src:q,key:q,style:{display:"none"},onLoad:()=>{K(!0)},ref:lt,crossOrigin:Ot?.crossOrigin})),ei.createElement(ei.Fragment,null,ei.createElement("canvas",Ag({style:Mt,height:h,width:h,ref:gt,role:"img"},G)),jt)});v6.displayName="QRCodeCanvas";var e3=ei.forwardRef(function(t,e){const a=t,{value:u,size:h=XE,level:p=QE,bgColor:w=ZE,fgColor:A=KE,includeMargin:y=WE,minVersion:C=qE,boostLevel:T,title:I,marginSize:D,imageSettings:P}=a,L=wg(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:F,cells:G,numCells:q,calculatedImageSettings:z}=t3({value:u,level:p,minVersion:C,boostLevel:T,includeMargin:y,marginSize:D,imageSettings:P,size:h});let lt=G,gt=null;P!=null&&z!=null&&(z.excavation!=null&&(lt=$E(G,z.excavation)),gt=ei.createElement("image",{href:P.src,height:z.h,width:z.w,x:z.x+F,y:z.y+F,preserveAspectRatio:"none",opacity:z.opacity,crossOrigin:z.crossOrigin}));const dt=JE(lt,F);return ei.createElement("svg",Ag({height:h,width:h,viewBox:`0 0 ${q} ${q}`,ref:e,role:"img"},L),!!I&&ei.createElement("title",null,I),ei.createElement("path",{fill:w,d:`M0,0 h${q}v${q}H0z`,shapeRendering:"crispEdges"}),ei.createElement("path",{fill:A,d:dt,shapeRendering:"crispEdges"}),gt)});e3.displayName="QRCodeSVG";var Pt;(function(n){n[n.QR_CODE=0]="QR_CODE",n[n.AZTEC=1]="AZTEC",n[n.CODABAR=2]="CODABAR",n[n.CODE_39=3]="CODE_39",n[n.CODE_93=4]="CODE_93",n[n.CODE_128=5]="CODE_128",n[n.DATA_MATRIX=6]="DATA_MATRIX",n[n.MAXICODE=7]="MAXICODE",n[n.ITF=8]="ITF",n[n.EAN_13=9]="EAN_13",n[n.EAN_8=10]="EAN_8",n[n.PDF_417=11]="PDF_417",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Pt||(Pt={}));var xA=new Map([[Pt.QR_CODE,"QR_CODE"],[Pt.AZTEC,"AZTEC"],[Pt.CODABAR,"CODABAR"],[Pt.CODE_39,"CODE_39"],[Pt.CODE_93,"CODE_93"],[Pt.CODE_128,"CODE_128"],[Pt.DATA_MATRIX,"DATA_MATRIX"],[Pt.MAXICODE,"MAXICODE"],[Pt.ITF,"ITF"],[Pt.EAN_13,"EAN_13"],[Pt.EAN_8,"EAN_8"],[Pt.PDF_417,"PDF_417"],[Pt.RSS_14,"RSS_14"],[Pt.RSS_EXPANDED,"RSS_EXPANDED"],[Pt.UPC_A,"UPC_A"],[Pt.UPC_E,"UPC_E"],[Pt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),AA;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.URL=1]="URL"})(AA||(AA={}));function N6(n){return Object.values(Pt).includes(n)}var Xa;(function(n){n[n.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",n[n.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Xa||(Xa={}));var Yr=(function(){function n(){}return n.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",n.SCAN_DEFAULT_FPS=2,n.DEFAULT_DISABLE_FLIP=!1,n.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,n.DEFAULT_SUPPORTED_SCAN_TYPE=[Xa.SCAN_TYPE_CAMERA,Xa.SCAN_TYPE_FILE],n})(),n3=(function(){function n(t,e){this.format=t,this.formatName=e}return n.prototype.toString=function(){return this.formatName},n.create=function(t){if(!xA.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new n(t,xA.get(t))},n})(),wA=(function(){function n(){}return n.createFromText=function(t){var e={text:t};return{decodedText:t,result:e}},n.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},n})(),bg;(function(n){n[n.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",n[n.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",n[n.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(bg||(bg={}));var i3=(function(){function n(){}return n.createFrom=function(t){return{errorMessage:t,type:bg.UNKWOWN_ERROR}},n})(),r3=(function(){function n(t){this.verbose=t}return n.prototype.log=function(t){this.verbose&&console.log(t)},n.prototype.warn=function(t){this.verbose&&console.warn(t)},n.prototype.logError=function(t,e){(this.verbose||e===!0)&&console.error(t)},n.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},n})();function ls(n){return typeof n>"u"||n===null}function I6(n,t,e){return n>e?e:n<t?t:n}var Ul=(function(){function n(){}return n.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},n.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},n.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},n.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},n.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},n.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},n.scannerPaused=function(){return"Scanner paused"},n})(),je=(function(){function n(){}return n.scanningStatus=function(){return"Scanning"},n.idleStatus=function(){return"Idle"},n.errorStatus=function(){return"Error"},n.permissionStatus=function(){return"Permission"},n.noCameraFoundErrorStatus=function(){return"No Cameras"},n.lastMatch=function(t){return"Last Match: ".concat(t)},n.codeScannerTitle=function(){return"Code Scanner"},n.cameraPermissionTitle=function(){return"Request Camera Permissions"},n.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},n.noCameraFound=function(){return"No camera found"},n.scanButtonStopScanningText=function(){return"Stop Scanning"},n.scanButtonStartScanningText=function(){return"Start Scanning"},n.torchOnButton=function(){return"Switch On Torch"},n.torchOffButton=function(){return"Switch Off Torch"},n.torchOnFailedMessage=function(){return"Failed to turn on torch"},n.torchOffFailedMessage=function(){return"Failed to turn off torch"},n.scanButtonScanningStarting=function(){return"Launching Camera..."},n.textIfCameraScanSelected=function(){return"Scan an Image File"},n.textIfFileScanSelected=function(){return"Scan using camera directly"},n.selectCamera=function(){return"Select Camera"},n.fileSelectionChooseImage=function(){return"Choose Image"},n.fileSelectionChooseAnother=function(){return"Choose Another"},n.fileSelectionNoImageSelected=function(){return"No image choosen"},n.anonymousCameraPrefix=function(){return"Anonymous Camera"},n.dragAndDropMessage=function(){return"Or drop an image to scan"},n.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},n.zoom=function(){return"zoom"},n.loadingImage=function(){return"Loading image..."},n.cameraScanAltText=function(){return"Camera based scan"},n.fileScanAltText=function(){return"Fule based scan"},n})(),bA=(function(){function n(){}return n.poweredBy=function(){return"Powered by "},n.reportIssues=function(){return"Report issues"},n})(),s3=(function(){function n(){}return n.isMediaStreamConstraintsValid=function(t,e){if(typeof t!="object"){var a=typeof t;return e.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var u=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],h=new Set(u),p=Object.keys(t),w=0,A=p;w<A.length;w++){var y=A[w];if(h.has(y))return e.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},n})(),cu={exports:{}},M6=cu.exports,EA;function O6(){return EA||(EA=1,(function(n,t){(function(e,a){a(t)})(M6,(function(e){function a(O){return O==null}var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,r){O.__proto__=r}||function(O,r){for(var o in r)r.hasOwnProperty(o)&&(O[o]=r[o])};function h(O,r){u(O,r);function o(){this.constructor=O}O.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}function p(O,r){var o=Object.setPrototypeOf;o?o(O,r):O.__proto__=r}function w(O,r){r===void 0&&(r=O.constructor);var o=Error.captureStackTrace;o&&o(O,r)}var A=(function(O){h(r,O);function r(o){var l=this.constructor,f=O.call(this,o)||this;return Object.defineProperty(f,"name",{value:l.name,enumerable:!1}),p(f,l.prototype),w(f),f}return r})(Error);class y extends A{constructor(r=void 0){super(r),this.message=r}getKind(){return this.constructor.kind}}y.kind="Exception";class C extends y{}C.kind="ArgumentException";class T extends y{}T.kind="IllegalArgumentException";class I{constructor(r){if(this.binarizer=r,r===null)throw new T("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,o){return this.binarizer.getBlackRow(r,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,o,l,f){const d=this.binarizer.getLuminanceSource().crop(r,o,l,f);return new I(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new I(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new I(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class D extends y{static getChecksumInstance(){return new D}}D.kind="ChecksumException";class P{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class L{static arraycopy(r,o,l,f,d){for(;d--;)l[f++]=r[o++]}static currentTimeMillis(){return Date.now()}}class F extends y{}F.kind="IndexOutOfBoundsException";class G extends F{constructor(r=void 0,o=void 0){super(o),this.index=r,this.message=o}}G.kind="ArrayIndexOutOfBoundsException";class q{static fill(r,o){for(let l=0,f=r.length;l<f;l++)r[l]=o}static fillWithin(r,o,l,f){q.rangeCheck(r.length,o,l);for(let d=o;d<l;d++)r[d]=f}static rangeCheck(r,o,l){if(o>l)throw new T("fromIndex("+o+") > toIndex("+l+")");if(o<0)throw new G(o);if(l>r)throw new G(l)}static asList(...r){return r}static create(r,o,l){return Array.from({length:r}).map(d=>Array.from({length:o}).fill(l))}static createInt32Array(r,o,l){return Array.from({length:r}).map(d=>Int32Array.from({length:o}).fill(l))}static equals(r,o){if(!r||!o||!r.length||!o.length||r.length!==o.length)return!1;for(let l=0,f=r.length;l<f;l++)if(r[l]!==o[l])return!1;return!0}static hashCode(r){if(r===null)return 0;let o=1;for(const l of r)o=31*o+l;return o}static fillUint8Array(r,o){for(let l=0;l!==r.length;l++)r[l]=o}static copyOf(r,o){return r.slice(0,o)}static copyOfUint8Array(r,o){if(r.length<=o){const l=new Uint8Array(o);return l.set(r),l}return r.slice(0,o)}static copyOfRange(r,o,l){const f=l-o,d=new Int32Array(f);return L.arraycopy(r,o,d,0,f),d}static binarySearch(r,o,l){l===void 0&&(l=q.numberComparator);let f=0,d=r.length-1;for(;f<=d;){const m=d+f>>1,x=l(o,r[m]);if(x>0)f=m+1;else if(x<0)d=m-1;else return m}return-f-1}static numberComparator(r,o){return r-o}}class z{static numberOfTrailingZeros(r){let o;if(r===0)return 32;let l=31;return o=r<<16,o!==0&&(l-=16,r=o),o=r<<8,o!==0&&(l-=8,r=o),o=r<<4,o!==0&&(l-=4,r=o),o=r<<2,o!==0&&(l-=2,r=o),l-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let o=1;return r>>>16||(o+=16,r<<=16),r>>>24||(o+=8,r<<=8),r>>>28||(o+=4,r<<=4),r>>>30||(o+=2,r<<=2),o-=r>>>31,o}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,o){return Math.trunc(r/o)}static parseInt(r,o=void 0){return parseInt(r,o)}}z.MIN_VALUE_32_BITS=-2147483648,z.MAX_VALUE=Number.MAX_SAFE_INTEGER;class lt{constructor(r,o){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,o==null?this.bits=lt.makeArray(r):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){const o=lt.makeArray(r);L.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){const o=this.size;if(r>=o)return o;const l=this.bits;let f=Math.floor(r/32),d=l[f];d&=~((1<<(r&31))-1);const m=l.length;for(;d===0;){if(++f===m)return o;d=l[f]}const x=f*32+z.numberOfTrailingZeros(d);return x>o?o:x}getNextUnset(r){const o=this.size;if(r>=o)return o;const l=this.bits;let f=Math.floor(r/32),d=~l[f];d&=~((1<<(r&31))-1);const m=l.length;for(;d===0;){if(++f===m)return o;d=~l[f]}const x=f*32+z.numberOfTrailingZeros(d);return x>o?o:x}setBulk(r,o){this.bits[Math.floor(r/32)]=o}setRange(r,o){if(o<r||r<0||o>this.size)throw new T;if(o===r)return;o--;const l=Math.floor(r/32),f=Math.floor(o/32),d=this.bits;for(let m=l;m<=f;m++){const x=m>l?0:r&31,v=(2<<(m<f?31:o&31))-(1<<x);d[m]|=v}}clear(){const r=this.bits.length,o=this.bits;for(let l=0;l<r;l++)o[l]=0}isRange(r,o,l){if(o<r||r<0||o>this.size)throw new T;if(o===r)return!0;o--;const f=Math.floor(r/32),d=Math.floor(o/32),m=this.bits;for(let x=f;x<=d;x++){const E=x>f?0:r&31,N=(2<<(x<d?31:o&31))-(1<<E)&4294967295;if((m[x]&N)!==(l?N:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,o){if(o<0||o>32)throw new T("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let l=o;l>0;l--)this.appendBit((r>>l-1&1)===1)}appendBitArray(r){const o=r.size;this.ensureCapacity(this.size+o);for(let l=0;l<o;l++)this.appendBit(r.get(l))}xor(r){if(this.size!==r.size)throw new T("Sizes don't match");const o=this.bits;for(let l=0,f=o.length;l<f;l++)o[l]^=r.bits[l]}toBytes(r,o,l,f){for(let d=0;d<f;d++){let m=0;for(let x=0;x<8;x++)this.get(r)&&(m|=1<<7-x),r++;o[l+d]=m}}getBitArray(){return this.bits}reverse(){const r=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),l=o+1,f=this.bits;for(let d=0;d<l;d++){let m=f[d];m=m>>1&1431655765|(m&1431655765)<<1,m=m>>2&858993459|(m&858993459)<<2,m=m>>4&252645135|(m&252645135)<<4,m=m>>8&16711935|(m&16711935)<<8,m=m>>16&65535|(m&65535)<<16,r[o-d]=m}if(this.size!==l*32){const d=l*32-this.size;let m=r[0]>>>d;for(let x=1;x<l;x++){const E=r[x];m|=E<<32-d,r[x-1]=m,m=E>>>d}r[l-1]=m}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof lt))return!1;const o=r;return this.size===o.size&&q.equals(this.bits,o.bits)}hashCode(){return 31*this.size+q.hashCode(this.bits)}toString(){let r="";for(let o=0,l=this.size;o<l;o++)(o&7)===0&&(r+=" "),r+=this.get(o)?"X":".";return r}clone(){return new lt(this.size,this.bits.slice())}}var gt;(function(O){O[O.OTHER=0]="OTHER",O[O.PURE_BARCODE=1]="PURE_BARCODE",O[O.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",O[O.TRY_HARDER=3]="TRY_HARDER",O[O.CHARACTER_SET=4]="CHARACTER_SET",O[O.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",O[O.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",O[O.ASSUME_GS1=7]="ASSUME_GS1",O[O.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",O[O.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",O[O.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(gt||(gt={}));var dt=gt;class K extends y{static getFormatInstance(){return new K}}K.kind="FormatException";var it;(function(O){O[O.Cp437=0]="Cp437",O[O.ISO8859_1=1]="ISO8859_1",O[O.ISO8859_2=2]="ISO8859_2",O[O.ISO8859_3=3]="ISO8859_3",O[O.ISO8859_4=4]="ISO8859_4",O[O.ISO8859_5=5]="ISO8859_5",O[O.ISO8859_6=6]="ISO8859_6",O[O.ISO8859_7=7]="ISO8859_7",O[O.ISO8859_8=8]="ISO8859_8",O[O.ISO8859_9=9]="ISO8859_9",O[O.ISO8859_10=10]="ISO8859_10",O[O.ISO8859_11=11]="ISO8859_11",O[O.ISO8859_13=12]="ISO8859_13",O[O.ISO8859_14=13]="ISO8859_14",O[O.ISO8859_15=14]="ISO8859_15",O[O.ISO8859_16=15]="ISO8859_16",O[O.SJIS=16]="SJIS",O[O.Cp1250=17]="Cp1250",O[O.Cp1251=18]="Cp1251",O[O.Cp1252=19]="Cp1252",O[O.Cp1256=20]="Cp1256",O[O.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",O[O.UTF8=22]="UTF8",O[O.ASCII=23]="ASCII",O[O.Big5=24]="Big5",O[O.GB18030=25]="GB18030",O[O.EUC_KR=26]="EUC_KR"})(it||(it={}));class at{constructor(r,o,l,...f){this.valueIdentifier=r,this.name=l,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=f,at.VALUE_IDENTIFIER_TO_ECI.set(r,this),at.NAME_TO_ECI.set(l,this);const d=this.values;for(let m=0,x=d.length;m!==x;m++){const E=d[m];at.VALUES_TO_ECI.set(E,this)}for(const m of f)at.NAME_TO_ECI.set(m,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new K("incorect value");const o=at.VALUES_TO_ECI.get(r);if(o===void 0)throw new K("incorect value");return o}static getCharacterSetECIByName(r){const o=at.NAME_TO_ECI.get(r);if(o===void 0)throw new K("incorect value");return o}equals(r){if(!(r instanceof at))return!1;const o=r;return this.getName()===o.getName()}}at.VALUE_IDENTIFIER_TO_ECI=new Map,at.VALUES_TO_ECI=new Map,at.NAME_TO_ECI=new Map,at.Cp437=new at(it.Cp437,Int32Array.from([0,2]),"Cp437"),at.ISO8859_1=new at(it.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),at.ISO8859_2=new at(it.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),at.ISO8859_3=new at(it.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),at.ISO8859_4=new at(it.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),at.ISO8859_5=new at(it.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),at.ISO8859_6=new at(it.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),at.ISO8859_7=new at(it.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),at.ISO8859_8=new at(it.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),at.ISO8859_9=new at(it.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),at.ISO8859_10=new at(it.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),at.ISO8859_11=new at(it.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),at.ISO8859_13=new at(it.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),at.ISO8859_14=new at(it.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),at.ISO8859_15=new at(it.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),at.ISO8859_16=new at(it.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),at.SJIS=new at(it.SJIS,20,"SJIS","Shift_JIS"),at.Cp1250=new at(it.Cp1250,21,"Cp1250","windows-1250"),at.Cp1251=new at(it.Cp1251,22,"Cp1251","windows-1251"),at.Cp1252=new at(it.Cp1252,23,"Cp1252","windows-1252"),at.Cp1256=new at(it.Cp1256,24,"Cp1256","windows-1256"),at.UnicodeBigUnmarked=new at(it.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),at.UTF8=new at(it.UTF8,26,"UTF8","UTF-8"),at.ASCII=new at(it.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),at.Big5=new at(it.Big5,28,"Big5"),at.GB18030=new at(it.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),at.EUC_KR=new at(it.EUC_KR,30,"EUC_KR","EUC-KR");class _t extends y{}_t.kind="UnsupportedOperationException";class Ot{static decode(r,o){const l=this.encodingName(o);return this.customDecoder?this.customDecoder(r,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(r,l):new TextDecoder(l).decode(r)}static shouldDecodeOnFallback(r){return!Ot.isBrowser()&&r==="ISO-8859-1"}static encode(r,o){const l=this.encodingName(o);return this.customEncoder?this.customEncoder(r,l):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof at?r:at.getCharacterSetECIByName(r)}static decodeFallback(r,o){const l=this.encodingCharacterSet(o);if(Ot.isDecodeFallbackSupported(l)){let f="";for(let d=0,m=r.length;d<m;d++){let x=r[d].toString(16);x.length<2&&(x="0"+x),f+="%"+x}return decodeURIComponent(f)}if(l.equals(at.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new _t(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(at.UTF8)||r.equals(at.ISO8859_1)||r.equals(at.ASCII)}static encodeFallback(r){const l=btoa(unescape(encodeURIComponent(r))).split(""),f=[];for(let d=0;d<l.length;d++)f.push(l[d].charCodeAt(0));return new Uint8Array(f)}}class Mt{static castAsNonUtf8Char(r,o=null){const l=o?o.getName():this.ISO88591;return Ot.decode(new Uint8Array([r]),l)}static guessEncoding(r,o){if(o!=null&&o.get(dt.CHARACTER_SET)!==void 0)return o.get(dt.CHARACTER_SET).toString();const l=r.length;let f=!0,d=!0,m=!0,x=0,E=0,v=0,N=0,R=0,B=0,k=0,j=0,X=0,et=0,ct=0;const St=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let bt=0;bt<l&&(f||d||m);bt++){const At=r[bt]&255;m&&(x>0?(At&128)===0?m=!1:x--:(At&128)!==0&&((At&64)===0?m=!1:(x++,(At&32)===0?E++:(x++,(At&16)===0?v++:(x++,(At&8)===0?N++:m=!1))))),f&&(At>127&&At<160?f=!1:At>159&&(At<192||At===215||At===247)&&ct++),d&&(R>0?At<64||At===127||At>252?d=!1:R--:At===128||At===160||At>239?d=!1:At>160&&At<224?(B++,j=0,k++,k>X&&(X=k)):At>127?(R++,k=0,j++,j>et&&(et=j)):(k=0,j=0))}return m&&x>0&&(m=!1),d&&R>0&&(d=!1),m&&(St||E+v+N>0)?Mt.UTF8:d&&(Mt.ASSUME_SHIFT_JIS||X>=3||et>=3)?Mt.SHIFT_JIS:f&&d?X===2&&B===2||ct*10>=l?Mt.SHIFT_JIS:Mt.ISO88591:f?Mt.ISO88591:d?Mt.SHIFT_JIS:m?Mt.UTF8:Mt.PLATFORM_DEFAULT_ENCODING}static format(r,...o){let l=-1;function f(m,x,E,v,N,R){if(m==="%%")return"%";if(o[++l]===void 0)return;m=v?parseInt(v.substr(1)):void 0;let B=N?parseInt(N.substr(1)):void 0,k;switch(R){case"s":k=o[l];break;case"c":k=o[l][0];break;case"f":k=parseFloat(o[l]).toFixed(m);break;case"p":k=parseFloat(o[l]).toPrecision(m);break;case"e":k=parseFloat(o[l]).toExponential(m);break;case"x":k=parseInt(o[l]).toString(B||16);break;case"d":k=parseFloat(parseInt(o[l],B||10).toPrecision(m)).toFixed(0);break}k=typeof k=="object"?JSON.stringify(k):(+k).toString(B);let j=parseInt(E),X=E&&E[0]+""=="0"?"0":" ";for(;k.length<j;)k=x!==void 0?k+X:X+k;return k}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(d,f)}static getBytes(r,o){return Ot.encode(r,o)}static getCharCode(r,o=0){return r.charCodeAt(o)}static getCharAt(r){return String.fromCharCode(r)}}Mt.SHIFT_JIS=at.SJIS.getName(),Mt.GB2312="GB2312",Mt.ISO88591=at.ISO8859_1.getName(),Mt.EUC_JP="EUC_JP",Mt.UTF8=at.UTF8.getName(),Mt.PLATFORM_DEFAULT_ENCODING=Mt.UTF8,Mt.ASSUME_SHIFT_JIS=!1;class jt{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=Mt.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,o,l){for(let f=o;o<o+l;f++)this.append(r[f]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,o){this.value=this.value.substr(0,r)+o+this.value.substr(r+1)}substring(r,o){return this.value.substring(r,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,o){this.value=this.value.substr(0,r)+o+this.value.substr(r+o.length)}}class qt{constructor(r,o,l,f){if(this.width=r,this.height=o,this.rowSize=l,this.bits=f,o==null&&(o=r),this.height=o,r<1||o<1)throw new T("Both dimensions must be greater than 0");l==null&&(l=Math.floor((r+31)/32)),this.rowSize=l,f==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){const o=r.length,l=r[0].length,f=new qt(l,o);for(let d=0;d<o;d++){const m=r[d];for(let x=0;x<l;x++)m[x]&&f.set(x,d)}return f}static parseFromString(r,o,l){if(r===null)throw new T("stringRepresentation cannot be null");const f=new Array(r.length);let d=0,m=0,x=-1,E=0,v=0;for(;v<r.length;)if(r.charAt(v)===`
`||r.charAt(v)==="\r"){if(d>m){if(x===-1)x=d-m;else if(d-m!==x)throw new T("row lengths do not match");m=d,E++}v++}else if(r.substring(v,v+o.length)===o)v+=o.length,f[d]=!0,d++;else if(r.substring(v,v+l.length)===l)v+=l.length,f[d]=!1,d++;else throw new T("illegal character encountered: "+r.substring(v));if(d>m){if(x===-1)x=d-m;else if(d-m!==x)throw new T("row lengths do not match");E++}const N=new qt(x,E);for(let R=0;R<d;R++)f[R]&&N.set(Math.floor(R%x),Math.floor(R/x));return N}get(r,o){const l=o*this.rowSize+Math.floor(r/32);return(this.bits[l]>>>(r&31)&1)!==0}set(r,o){const l=o*this.rowSize+Math.floor(r/32);this.bits[l]|=1<<(r&31)&4294967295}unset(r,o){const l=o*this.rowSize+Math.floor(r/32);this.bits[l]&=~(1<<(r&31)&4294967295)}flip(r,o){const l=o*this.rowSize+Math.floor(r/32);this.bits[l]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new T("input matrix dimensions do not match");const o=new lt(Math.floor(this.width/32)+1),l=this.rowSize,f=this.bits;for(let d=0,m=this.height;d<m;d++){const x=d*l,E=r.getRow(d,o).getBitArray();for(let v=0;v<l;v++)f[x+v]^=E[v]}}clear(){const r=this.bits,o=r.length;for(let l=0;l<o;l++)r[l]=0}setRegion(r,o,l,f){if(o<0||r<0)throw new T("Left and top must be nonnegative");if(f<1||l<1)throw new T("Height and width must be at least 1");const d=r+l,m=o+f;if(m>this.height||d>this.width)throw new T("The region must fit inside the matrix");const x=this.rowSize,E=this.bits;for(let v=o;v<m;v++){const N=v*x;for(let R=r;R<d;R++)E[N+Math.floor(R/32)]|=1<<(R&31)&4294967295}}getRow(r,o){o==null||o.getSize()<this.width?o=new lt(this.width):o.clear();const l=this.rowSize,f=this.bits,d=r*l;for(let m=0;m<l;m++)o.setBulk(m*32,f[d+m]);return o}setRow(r,o){L.arraycopy(o.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){const r=this.getWidth(),o=this.getHeight();let l=new lt(r),f=new lt(r);for(let d=0,m=Math.floor((o+1)/2);d<m;d++)l=this.getRow(d,l),f=this.getRow(o-1-d,f),l.reverse(),f.reverse(),this.setRow(d,f),this.setRow(o-1-d,l)}getEnclosingRectangle(){const r=this.width,o=this.height,l=this.rowSize,f=this.bits;let d=r,m=o,x=-1,E=-1;for(let v=0;v<o;v++)for(let N=0;N<l;N++){const R=f[v*l+N];if(R!==0){if(v<m&&(m=v),v>E&&(E=v),N*32<d){let B=0;for(;(R<<31-B&4294967295)===0;)B++;N*32+B<d&&(d=N*32+B)}if(N*32+31>x){let B=31;for(;!(R>>>B);)B--;N*32+B>x&&(x=N*32+B)}}}return x<d||E<m?null:Int32Array.from([d,m,x-d+1,E-m+1])}getTopLeftOnBit(){const r=this.rowSize,o=this.bits;let l=0;for(;l<o.length&&o[l]===0;)l++;if(l===o.length)return null;const f=l/r;let d=l%r*32;const m=o[l];let x=0;for(;(m<<31-x&4294967295)===0;)x++;return d+=x,Int32Array.from([d,f])}getBottomRightOnBit(){const r=this.rowSize,o=this.bits;let l=o.length-1;for(;l>=0&&o[l]===0;)l--;if(l<0)return null;const f=Math.floor(l/r);let d=Math.floor(l%r)*32;const m=o[l];let x=31;for(;!(m>>>x);)x--;return d+=x,Int32Array.from([d,f])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof qt))return!1;const o=r;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&q.equals(this.bits,o.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+q.hashCode(this.bits),r}toString(r="X ",o="  ",l=`
`){return this.buildToString(r,o,l)}buildToString(r,o,l){let f=new jt;for(let d=0,m=this.height;d<m;d++){for(let x=0,E=this.width;x<E;x++)f.append(this.get(x,d)?r:o);f.append(l)}return f.toString()}clone(){return new qt(this.width,this.height,this.rowSize,this.bits.slice())}}class H extends y{static getNotFoundInstance(){return new H}}H.kind="NotFoundException";class Q extends P{constructor(r){super(r),this.luminances=Q.EMPTY,this.buckets=new Int32Array(Q.LUMINANCE_BUCKETS)}getBlackRow(r,o){const l=this.getLuminanceSource(),f=l.getWidth();o==null||o.getSize()<f?o=new lt(f):o.clear(),this.initArrays(f);const d=l.getRow(r,this.luminances),m=this.buckets;for(let E=0;E<f;E++)m[(d[E]&255)>>Q.LUMINANCE_SHIFT]++;const x=Q.estimateBlackPoint(m);if(f<3)for(let E=0;E<f;E++)(d[E]&255)<x&&o.set(E);else{let E=d[0]&255,v=d[1]&255;for(let N=1;N<f-1;N++){const R=d[N+1]&255;(v*4-E-R)/2<x&&o.set(N),E=v,v=R}}return o}getBlackMatrix(){const r=this.getLuminanceSource(),o=r.getWidth(),l=r.getHeight(),f=new qt(o,l);this.initArrays(o);const d=this.buckets;for(let E=1;E<5;E++){const v=Math.floor(l*E/5),N=r.getRow(v,this.luminances),R=Math.floor(o*4/5);for(let B=Math.floor(o/5);B<R;B++){const k=N[B]&255;d[k>>Q.LUMINANCE_SHIFT]++}}const m=Q.estimateBlackPoint(d),x=r.getMatrix();for(let E=0;E<l;E++){const v=E*o;for(let N=0;N<o;N++)(x[v+N]&255)<m&&f.set(N,E)}return f}createBinarizer(r){return new Q(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));const o=this.buckets;for(let l=0;l<Q.LUMINANCE_BUCKETS;l++)o[l]=0}static estimateBlackPoint(r){const o=r.length;let l=0,f=0,d=0;for(let N=0;N<o;N++)r[N]>d&&(f=N,d=r[N]),r[N]>l&&(l=r[N]);let m=0,x=0;for(let N=0;N<o;N++){const R=N-f,B=r[N]*R*R;B>x&&(m=N,x=B)}if(f>m){const N=f;f=m,m=N}if(m-f<=o/16)throw new H;let E=m-1,v=-1;for(let N=m-1;N>f;N--){const R=N-f,B=R*R*(m-N)*(l-r[N]);B>v&&(E=N,v=B)}return E<<Q.LUMINANCE_SHIFT}}Q.LUMINANCE_BITS=5,Q.LUMINANCE_SHIFT=8-Q.LUMINANCE_BITS,Q.LUMINANCE_BUCKETS=1<<Q.LUMINANCE_BITS,Q.EMPTY=Uint8ClampedArray.from([0]);class tt extends Q{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const r=this.getLuminanceSource(),o=r.getWidth(),l=r.getHeight();if(o>=tt.MINIMUM_DIMENSION&&l>=tt.MINIMUM_DIMENSION){const f=r.getMatrix();let d=o>>tt.BLOCK_SIZE_POWER;(o&tt.BLOCK_SIZE_MASK)!==0&&d++;let m=l>>tt.BLOCK_SIZE_POWER;(l&tt.BLOCK_SIZE_MASK)!==0&&m++;const x=tt.calculateBlackPoints(f,d,m,o,l),E=new qt(o,l);tt.calculateThresholdForBlock(f,d,m,o,l,x,E),this.matrix=E}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new tt(r)}static calculateThresholdForBlock(r,o,l,f,d,m,x){const E=d-tt.BLOCK_SIZE,v=f-tt.BLOCK_SIZE;for(let N=0;N<l;N++){let R=N<<tt.BLOCK_SIZE_POWER;R>E&&(R=E);const B=tt.cap(N,2,l-3);for(let k=0;k<o;k++){let j=k<<tt.BLOCK_SIZE_POWER;j>v&&(j=v);const X=tt.cap(k,2,o-3);let et=0;for(let St=-2;St<=2;St++){const bt=m[B+St];et+=bt[X-2]+bt[X-1]+bt[X]+bt[X+1]+bt[X+2]}const ct=et/25;tt.thresholdBlock(r,j,R,ct,f,x)}}}static cap(r,o,l){return r<o?o:r>l?l:r}static thresholdBlock(r,o,l,f,d,m){for(let x=0,E=l*d+o;x<tt.BLOCK_SIZE;x++,E+=d)for(let v=0;v<tt.BLOCK_SIZE;v++)(r[E+v]&255)<=f&&m.set(o+v,l+x)}static calculateBlackPoints(r,o,l,f,d){const m=d-tt.BLOCK_SIZE,x=f-tt.BLOCK_SIZE,E=new Array(l);for(let v=0;v<l;v++){E[v]=new Int32Array(o);let N=v<<tt.BLOCK_SIZE_POWER;N>m&&(N=m);for(let R=0;R<o;R++){let B=R<<tt.BLOCK_SIZE_POWER;B>x&&(B=x);let k=0,j=255,X=0;for(let ct=0,St=N*f+B;ct<tt.BLOCK_SIZE;ct++,St+=f){for(let bt=0;bt<tt.BLOCK_SIZE;bt++){const At=r[St+bt]&255;k+=At,At<j&&(j=At),At>X&&(X=At)}if(X-j>tt.MIN_DYNAMIC_RANGE)for(ct++,St+=f;ct<tt.BLOCK_SIZE;ct++,St+=f)for(let bt=0;bt<tt.BLOCK_SIZE;bt++)k+=r[St+bt]&255}let et=k>>tt.BLOCK_SIZE_POWER*2;if(X-j<=tt.MIN_DYNAMIC_RANGE&&(et=j/2,v>0&&R>0)){const ct=(E[v-1][R]+2*E[v][R-1]+E[v-1][R-1])/4;j<ct&&(et=ct)}E[v][R]=et}}return E}}tt.BLOCK_SIZE_POWER=3,tt.BLOCK_SIZE=1<<tt.BLOCK_SIZE_POWER,tt.BLOCK_SIZE_MASK=tt.BLOCK_SIZE-1,tt.MINIMUM_DIMENSION=tt.BLOCK_SIZE*5,tt.MIN_DYNAMIC_RANGE=24;class Et{constructor(r,o){this.width=r,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,o,l,f){throw new _t("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new _t("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new _t("This luminance source does not support rotation by 45 degrees.")}toString(){const r=new Uint8ClampedArray(this.width);let o=new jt;for(let l=0;l<this.height;l++){const f=this.getRow(l,r);for(let d=0;d<this.width;d++){const m=f[d]&255;let x;m<64?x="#":m<128?x="+":m<192?x=".":x=" ",o.append(x)}o.append(`
`)}return o.toString()}}class Rt extends Et{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,o){const l=this.delegate.getRow(r,o),f=this.getWidth();for(let d=0;d<f;d++)l[d]=255-(l[d]&255);return l}getMatrix(){const r=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(o);for(let f=0;f<o;f++)l[f]=255-(r[f]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(r,o,l,f){return new Rt(this.delegate.crop(r,o,l,f))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Rt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Rt(this.delegate.rotateCounterClockwise45())}}class kt extends Et{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=kt.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){const o=r.getContext("2d").getImageData(0,0,r.width,r.height);return kt.toGrayscaleBuffer(o.data,r.width,r.height)}static toGrayscaleBuffer(r,o,l){const f=new Uint8ClampedArray(o*l);for(let d=0,m=0,x=r.length;d<x;d+=4,m++){let E;if(r[d+3]===0)E=255;else{const N=r[d],R=r[d+1],B=r[d+2];E=306*N+601*R+117*B+512>>10}f[m]=E}return f}getRow(r,o){if(r<0||r>=this.getHeight())throw new T("Requested row is outside the image: "+r);const l=this.getWidth(),f=r*l;return o===null?o=this.buffer.slice(f,f+l):(o.length<l&&(o=new Uint8ClampedArray(l)),o.set(this.buffer.slice(f,f+l))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,o,l,f){return super.crop(r,o,l,f),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){const o=this.getTempCanvasElement(),l=o.getContext("2d"),f=r*kt.DEGREE_TO_RADIANS,d=this.canvas.width,m=this.canvas.height,x=Math.ceil(Math.abs(Math.cos(f))*d+Math.abs(Math.sin(f))*m),E=Math.ceil(Math.abs(Math.sin(f))*d+Math.abs(Math.cos(f))*m);return o.width=x,o.height=E,l.translate(x/2,E/2),l.rotate(f),l.drawImage(this.canvas,d/-2,m/-2),this.buffer=kt.makeBufferFromCanvasImageData(o),this}invert(){return new Rt(this)}}kt.DEGREE_TO_RADIANS=Math.PI/180;class Y{constructor(r,o,l){this.deviceId=r,this.label=o,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ft=(globalThis||lh||self||window||void 0)&&(globalThis||lh||self||window||void 0).__awaiter||function(O,r,o,l){function f(d){return d instanceof o?d:new o(function(m){m(d)})}return new(o||(o=Promise))(function(d,m){function x(N){try{v(l.next(N))}catch(R){m(R)}}function E(N){try{v(l.throw(N))}catch(R){m(R)}}function v(N){N.done?d(N.value):f(N.value).then(x,E)}v((l=l.apply(O,r||[])).next())})};class vt{constructor(r,o=500,l){this.reader=r,this.timeBetweenScansMillis=o,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return ft(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const r=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const l of r){const f=l.kind==="video"?"videoinput":l.kind;if(f!=="videoinput")continue;const d=l.deviceId||l.id,m=l.label||`Video device ${o.length+1}`,x=l.groupId,E={deviceId:d,label:m,kind:f,groupId:x};o.push(E)}return o})}getVideoInputDevices(){return ft(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new Y(o.deviceId,o.label))})}findDeviceById(r){return ft(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(l=>l.deviceId===r):null})}decodeFromInputVideoDevice(r,o){return ft(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,o)})}decodeOnceFromVideoDevice(r,o){return ft(this,void 0,void 0,function*(){this.reset();let l;r?l={deviceId:{exact:r}}:l={facingMode:"environment"};const f={video:l};return yield this.decodeOnceFromConstraints(f,o)})}decodeOnceFromConstraints(r,o){return ft(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(l,o)})}decodeOnceFromStream(r,o){return ft(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(r,o);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(r,o,l){return ft(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,o,l)})}decodeFromVideoDevice(r,o,l){return ft(this,void 0,void 0,function*(){let f;r?f={deviceId:{exact:r}}:f={facingMode:"environment"};const d={video:f};return yield this.decodeFromConstraints(d,o,l)})}decodeFromConstraints(r,o,l){return ft(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(f,o,l)})}decodeFromStream(r,o,l){return ft(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(r,o);return yield this.decodeContinuously(f,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,o){return ft(this,void 0,void 0,function*(){const l=this.prepareVideoElement(o);return this.addVideoSource(l,r),this.videoElement=l,this.stream=r,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(r){return new Promise((o,l)=>this.playVideoOnLoad(r,()=>o()))}playVideoOnLoad(r,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",o),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return ft(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,o){const l=document.getElementById(r);if(!l)throw new C(`element with id '${r}' not found`);if(l.nodeName.toLowerCase()!==o.toLowerCase())throw new C(`element with id '${r}' must be an ${o} element`);return l}decodeFromImage(r,o){if(!r&&!o)throw new C("either imageElement with a src set or an url must be provided");return o&&!r?this.decodeFromImageUrl(o):this.decodeFromImageElement(r)}decodeFromVideo(r,o){if(!r&&!o)throw new C("Either an element with a src set or an URL must be provided");return o&&!r?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,o,l){if(r===void 0&&o===void 0)throw new C("Either an element with a src set or an URL must be provided");return o&&!r?this.decodeFromVideoUrlContinuously(o,l):this.decodeFromVideoElementContinuously(r,l)}decodeFromImageElement(r){if(!r)throw new C("An image element must be provided.");this.reset();const o=this.prepareImageElement(r);this.imageElement=o;let l;return this.isImageLoaded(o)?l=this.decodeOnce(o,!1,!0):l=this._decodeOnLoadImage(o),l}decodeFromVideoElement(r){const o=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(r,o){const l=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(l,o)}_decodeFromVideoElementSetup(r){if(!r)throw new C("A video element must be provided.");this.reset();const o=this.prepareVideoElement(r);return this.videoElement=o,o}decodeFromImageUrl(r){if(!r)throw new C("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const l=this._decodeOnLoadImage(o);return o.src=r,l}decodeFromVideoUrl(r){if(!r)throw new C("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElement(o);return o.src=r,l}decodeFromVideoUrlContinuously(r,o){if(!r)throw new C("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),f=this.decodeFromVideoElementContinuously(l,o);return l.src=r,f}_decodeOnLoadImage(r){return new Promise((o,l)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(o,l),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return ft(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,o){return ft(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,o)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let o;return typeof r>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof r=="string"&&(o=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(o=r),o}prepareVideoElement(r){let o;return!r&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof r=="string"&&(o=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(o=r),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(r,o=!0,l=!0){this._stopAsyncDecode=!1;const f=(d,m)=>{if(this._stopAsyncDecode){m(new H("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const x=this.decode(r);d(x)}catch(x){const E=o&&x instanceof H,N=(x instanceof D||x instanceof K)&&l;if(E||N)return setTimeout(f,this._timeBetweenDecodingAttempts,d,m);m(x)}};return new Promise((d,m)=>f(d,m))}decodeContinuously(r,o){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const f=this.decode(r);o(f,null),setTimeout(l,this.timeBetweenScansMillis)}catch(f){o(null,f);const d=f instanceof D||f instanceof K,m=f instanceof H;(d||m)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(r){const o=this.createBinaryBitmap(r);return this.decodeBitmap(o)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,o,l){o||(o={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(r,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(r,o,l=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(r,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(r){this.getCaptureCanvasContext(r),this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);const o=this.getCaptureCanvas(r),l=new kt(o),f=new tt(l);return new I(f)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){const o=this.createCaptureCanvas(r);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let l,f;return typeof r<"u"&&(r instanceof HTMLVideoElement?(l=r.videoWidth,f=r.videoHeight):r instanceof HTMLImageElement&&(l=r.naturalWidth||r.width,f=r.naturalHeight||r.height)),o.style.width=l+"px",o.style.height=f+"px",o.width=l,o.height=f,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,o){try{r.srcObject=o}catch{r.src=URL.createObjectURL(o)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class It{constructor(r,o,l=o==null?0:8*o.length,f,d,m=L.currentTimeMillis()){this.text=r,this.rawBytes=o,this.numBits=l,this.resultPoints=f,this.format=d,this.timestamp=m,this.text=r,this.rawBytes=o,l==null?this.numBits=o==null?0:8*o.length:this.numBits=l,this.resultPoints=f,this.format=d,this.resultMetadata=null,m==null?this.timestamp=L.currentTimeMillis():this.timestamp=m}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,o)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){const o=this.resultPoints;if(o===null)this.resultPoints=r;else if(r!==null&&r.length>0){const l=new Array(o.length+r.length);L.arraycopy(o,0,l,0,o.length),L.arraycopy(r,0,l,o.length,r.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Qt;(function(O){O[O.AZTEC=0]="AZTEC",O[O.CODABAR=1]="CODABAR",O[O.CODE_39=2]="CODE_39",O[O.CODE_93=3]="CODE_93",O[O.CODE_128=4]="CODE_128",O[O.DATA_MATRIX=5]="DATA_MATRIX",O[O.EAN_8=6]="EAN_8",O[O.EAN_13=7]="EAN_13",O[O.ITF=8]="ITF",O[O.MAXICODE=9]="MAXICODE",O[O.PDF_417=10]="PDF_417",O[O.QR_CODE=11]="QR_CODE",O[O.RSS_14=12]="RSS_14",O[O.RSS_EXPANDED=13]="RSS_EXPANDED",O[O.UPC_A=14]="UPC_A",O[O.UPC_E=15]="UPC_E",O[O.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Qt||(Qt={}));var Ct=Qt,ne;(function(O){O[O.OTHER=0]="OTHER",O[O.ORIENTATION=1]="ORIENTATION",O[O.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",O[O.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",O[O.ISSUE_NUMBER=4]="ISSUE_NUMBER",O[O.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",O[O.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",O[O.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",O[O.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",O[O.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",O[O.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ne||(ne={}));var de=ne;class Ce{constructor(r,o,l,f,d=-1,m=-1){this.rawBytes=r,this.text=o,this.byteSegments=l,this.ecLevel=f,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=m,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ni{exp(r){return this.expTable[r]}log(r){if(r===0)throw new T;return this.logTable[r]}static addOrSubtract(r,o){return r^o}}class An{constructor(r,o){if(o.length===0)throw new T;this.field=r;const l=o.length;if(l>1&&o[0]===0){let f=1;for(;f<l&&o[f]===0;)f++;f===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-f),L.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);const o=this.coefficients;let l;if(r===1){l=0;for(let m=0,x=o.length;m!==x;m++){const E=o[m];l=ni.addOrSubtract(l,E)}return l}l=o[0];const f=o.length,d=this.field;for(let m=1;m<f;m++)l=ni.addOrSubtract(d.multiply(r,l),o[m]);return l}addOrSubtract(r){if(!this.field.equals(r.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let o=this.coefficients,l=r.coefficients;if(o.length>l.length){const m=o;o=l,l=m}let f=new Int32Array(l.length);const d=l.length-o.length;L.arraycopy(l,0,f,0,d);for(let m=d;m<l.length;m++)f[m]=ni.addOrSubtract(o[m-d],l[m]);return new An(this.field,f)}multiply(r){if(!this.field.equals(r.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();const o=this.coefficients,l=o.length,f=r.coefficients,d=f.length,m=new Int32Array(l+d-1),x=this.field;for(let E=0;E<l;E++){const v=o[E];for(let N=0;N<d;N++)m[E+N]=ni.addOrSubtract(m[E+N],x.multiply(v,f[N]))}return new An(x,m)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;const o=this.coefficients.length,l=this.field,f=new Int32Array(o),d=this.coefficients;for(let m=0;m<o;m++)f[m]=l.multiply(d[m],r);return new An(l,f)}multiplyByMonomial(r,o){if(r<0)throw new T;if(o===0)return this.field.getZero();const l=this.coefficients,f=l.length,d=new Int32Array(f+r),m=this.field;for(let x=0;x<f;x++)d[x]=m.multiply(l[x],o);return new An(m,d)}divide(r){if(!this.field.equals(r.field))throw new T("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new T("Divide by 0");const o=this.field;let l=o.getZero(),f=this;const d=r.getCoefficient(r.getDegree()),m=o.inverse(d);for(;f.getDegree()>=r.getDegree()&&!f.isZero();){const x=f.getDegree()-r.getDegree(),E=o.multiply(f.getCoefficient(f.getDegree()),m),v=r.multiplyByMonomial(x,E),N=o.buildMonomial(x,E);l=l.addOrSubtract(N),f=f.addOrSubtract(v)}return[l,f]}toString(){let r="";for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);if(l!==0){if(l<0?(r+=" - ",l=-l):r.length>0&&(r+=" + "),o===0||l!==1){const f=this.field.log(l);f===0?r+="1":f===1?r+="a":(r+="a^",r+=f)}o!==0&&(o===1?r+="x":(r+="x^",r+=o))}}return r}}class Xn extends y{}Xn.kind="ArithmeticException";class re extends ni{constructor(r,o,l){super(),this.primitive=r,this.size=o,this.generatorBase=l;const f=new Int32Array(o);let d=1;for(let x=0;x<o;x++)f[x]=d,d*=2,d>=o&&(d^=r,d&=o-1);this.expTable=f;const m=new Int32Array(o);for(let x=0;x<o-1;x++)m[f[x]]=x;this.logTable=m,this.zero=new An(this,Int32Array.from([0])),this.one=new An(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,o){if(r<0)throw new T;if(o===0)return this.zero;const l=new Int32Array(r+1);return l[0]=o,new An(this,l)}inverse(r){if(r===0)throw new Xn;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,o){return r===0||o===0?0:this.expTable[(this.logTable[r]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+z.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}re.AZTEC_DATA_12=new re(4201,4096,1),re.AZTEC_DATA_10=new re(1033,1024,1),re.AZTEC_DATA_6=new re(67,64,1),re.AZTEC_PARAM=new re(19,16,1),re.QR_CODE_FIELD_256=new re(285,256,0),re.DATA_MATRIX_FIELD_256=new re(301,256,1),re.AZTEC_DATA_8=re.DATA_MATRIX_FIELD_256,re.MAXICODE_FIELD_64=re.AZTEC_DATA_6;class Qn extends y{}Qn.kind="ReedSolomonException";class oi extends y{}oi.kind="IllegalStateException";class hr{constructor(r){this.field=r}decode(r,o){const l=this.field,f=new An(l,r),d=new Int32Array(o);let m=!0;for(let k=0;k<o;k++){const j=f.evaluateAt(l.exp(k+l.getGeneratorBase()));d[d.length-1-k]=j,j!==0&&(m=!1)}if(m)return;const x=new An(l,d),E=this.runEuclideanAlgorithm(l.buildMonomial(o,1),x,o),v=E[0],N=E[1],R=this.findErrorLocations(v),B=this.findErrorMagnitudes(N,R);for(let k=0;k<R.length;k++){const j=r.length-1-l.log(R[k]);if(j<0)throw new Qn("Bad error location");r[j]=re.addOrSubtract(r[j],B[k])}}runEuclideanAlgorithm(r,o,l){if(r.getDegree()<o.getDegree()){const k=r;r=o,o=k}const f=this.field;let d=r,m=o,x=f.getZero(),E=f.getOne();for(;m.getDegree()>=(l/2|0);){let k=d,j=x;if(d=m,x=E,d.isZero())throw new Qn("r_{i-1} was zero");m=k;let X=f.getZero();const et=d.getCoefficient(d.getDegree()),ct=f.inverse(et);for(;m.getDegree()>=d.getDegree()&&!m.isZero();){const St=m.getDegree()-d.getDegree(),bt=f.multiply(m.getCoefficient(m.getDegree()),ct);X=X.addOrSubtract(f.buildMonomial(St,bt)),m=m.addOrSubtract(d.multiplyByMonomial(St,bt))}if(E=X.multiply(x).addOrSubtract(j),m.getDegree()>=d.getDegree())throw new oi("Division algorithm failed to reduce polynomial?")}const v=E.getCoefficient(0);if(v===0)throw new Qn("sigmaTilde(0) was zero");const N=f.inverse(v),R=E.multiplyScalar(N),B=m.multiplyScalar(N);return[R,B]}findErrorLocations(r){const o=r.getDegree();if(o===1)return Int32Array.from([r.getCoefficient(1)]);const l=new Int32Array(o);let f=0;const d=this.field;for(let m=1;m<d.getSize()&&f<o;m++)r.evaluateAt(m)===0&&(l[f]=d.inverse(m),f++);if(f!==o)throw new Qn("Error locator degree does not match number of roots");return l}findErrorMagnitudes(r,o){const l=o.length,f=new Int32Array(l),d=this.field;for(let m=0;m<l;m++){const x=d.inverse(o[m]);let E=1;for(let v=0;v<l;v++)if(m!==v){const N=d.multiply(o[v],x),R=(N&1)===0?N|1:N&-2;E=d.multiply(E,R)}f[m]=d.multiply(r.evaluateAt(x),d.inverse(E)),d.getGeneratorBase()!==0&&(f[m]=d.multiply(f[m],x))}return f}}var Zn;(function(O){O[O.UPPER=0]="UPPER",O[O.LOWER=1]="LOWER",O[O.MIXED=2]="MIXED",O[O.DIGIT=3]="DIGIT",O[O.PUNCT=4]="PUNCT",O[O.BINARY=5]="BINARY"})(Zn||(Zn={}));class ze{decode(r){this.ddata=r;let o=r.getBits(),l=this.extractBits(o),f=this.correctBits(l),d=ze.convertBoolArrayToByteArray(f),m=ze.getEncodedData(f),x=new Ce(d,m,null,null);return x.setNumBits(f.length),x}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let o=r.length,l=Zn.UPPER,f=Zn.UPPER,d="",m=0;for(;m<o;)if(f===Zn.BINARY){if(o-m<5)break;let x=ze.readCode(r,m,5);if(m+=5,x===0){if(o-m<11)break;x=ze.readCode(r,m,11)+31,m+=11}for(let E=0;E<x;E++){if(o-m<8){m=o;break}const v=ze.readCode(r,m,8);d+=Mt.castAsNonUtf8Char(v),m+=8}f=l}else{let x=f===Zn.DIGIT?4:5;if(o-m<x)break;let E=ze.readCode(r,m,x);m+=x;let v=ze.getCharacter(f,E);v.startsWith("CTRL_")?(l=f,f=ze.getTable(v.charAt(5)),v.charAt(6)==="L"&&(l=f)):(d+=v,f=l)}return d}static getTable(r){switch(r){case"L":return Zn.LOWER;case"P":return Zn.PUNCT;case"M":return Zn.MIXED;case"D":return Zn.DIGIT;case"B":return Zn.BINARY;default:return Zn.UPPER}}static getCharacter(r,o){switch(r){case Zn.UPPER:return ze.UPPER_TABLE[o];case Zn.LOWER:return ze.LOWER_TABLE[o];case Zn.MIXED:return ze.MIXED_TABLE[o];case Zn.PUNCT:return ze.PUNCT_TABLE[o];case Zn.DIGIT:return ze.DIGIT_TABLE[o];default:throw new oi("Bad table")}}correctBits(r){let o,l;this.ddata.getNbLayers()<=2?(l=6,o=re.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,o=re.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,o=re.AZTEC_DATA_10):(l=12,o=re.AZTEC_DATA_12);let f=this.ddata.getNbDatablocks(),d=r.length/l;if(d<f)throw new K;let m=r.length%l,x=new Int32Array(d);for(let B=0;B<d;B++,m+=l)x[B]=ze.readCode(r,m,l);try{new hr(o).decode(x,d-f)}catch(B){throw new K(B)}let E=(1<<l)-1,v=0;for(let B=0;B<f;B++){let k=x[B];if(k===0||k===E)throw new K;(k===1||k===E-1)&&v++}let N=new Array(f*l-v),R=0;for(let B=0;B<f;B++){let k=x[B];if(k===1||k===E-1)N.fill(k>1,R,R+l-1),R+=l-1;else for(let j=l-1;j>=0;--j)N[R++]=(k&1<<j)!==0}return N}extractBits(r){let o=this.ddata.isCompact(),l=this.ddata.getNbLayers(),f=(o?11:14)+l*4,d=new Int32Array(f),m=new Array(this.totalBitsInLayer(l,o));if(o)for(let x=0;x<d.length;x++)d[x]=x;else{let x=f+1+2*z.truncDivision(z.truncDivision(f,2)-1,15),E=f/2,v=z.truncDivision(x,2);for(let N=0;N<E;N++){let R=N+z.truncDivision(N,15);d[E-N-1]=v-R-1,d[E+N]=v+R+1}}for(let x=0,E=0;x<l;x++){let v=(l-x)*4+(o?9:12),N=x*2,R=f-1-N;for(let B=0;B<v;B++){let k=B*2;for(let j=0;j<2;j++)m[E+k+j]=r.get(d[N+j],d[N+B]),m[E+2*v+k+j]=r.get(d[N+B],d[R-j]),m[E+4*v+k+j]=r.get(d[R-j],d[R-B]),m[E+6*v+k+j]=r.get(d[R-B],d[N+j])}E+=v*8}return m}static readCode(r,o,l){let f=0;for(let d=o;d<o+l;d++)f<<=1,r[d]&&(f|=1);return f}static readByte(r,o){let l=r.length-o;return l>=8?ze.readCode(r,o,8):ze.readCode(r,o,l)<<8-l}static convertBoolArrayToByteArray(r){let o=new Uint8Array((r.length+7)/8);for(let l=0;l<o.length;l++)o[l]=ze.readByte(r,8*l);return o}totalBitsInLayer(r,o){return((o?88:112)+16*r)*r}}ze.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ze.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ze.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ze.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ze.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ge{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,o,l,f){const d=r-l,m=o-f;return Math.sqrt(d*d+m*m)}static sum(r){let o=0;for(let l=0,f=r.length;l!==f;l++){const d=r[l];o+=d}return o}}class Js{static floatToIntBits(r){return r}}Js.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ft{constructor(r,o){this.x=r,this.y=o}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof Ft){const o=r;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Js.floatToIntBits(this.x)+Js.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){const o=this.distance(r[0],r[1]),l=this.distance(r[1],r[2]),f=this.distance(r[0],r[2]);let d,m,x;if(l>=o&&l>=f?(m=r[0],d=r[1],x=r[2]):f>=l&&f>=o?(m=r[1],d=r[0],x=r[2]):(m=r[2],d=r[0],x=r[1]),this.crossProductZ(d,m,x)<0){const E=d;d=x,x=E}r[0]=d,r[1]=m,r[2]=x}static distance(r,o){return ge.distance(r.x,r.y,o.x,o.y)}static crossProductZ(r,o,l){const f=o.x,d=o.y;return(l.x-f)*(r.y-d)-(l.y-d)*(r.x-f)}}class Qo{constructor(r,o){this.bits=r,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Gu extends Qo{constructor(r,o,l,f,d){super(r,o),this.compact=l,this.nbDatablocks=f,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class mn{constructor(r,o,l,f){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),o==null&&(o=mn.INIT_SIZE),l==null&&(l=r.getWidth()/2|0),f==null&&(f=r.getHeight()/2|0);const d=o/2|0;if(this.leftInit=l-d,this.rightInit=l+d,this.upInit=f-d,this.downInit=f+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new H}detect(){let r=this.leftInit,o=this.rightInit,l=this.upInit,f=this.downInit,d=!1,m=!0,x=!1,E=!1,v=!1,N=!1,R=!1;const B=this.width,k=this.height;for(;m;){m=!1;let j=!0;for(;(j||!E)&&o<B;)j=this.containsBlackPoint(l,f,o,!1),j?(o++,m=!0,E=!0):E||o++;if(o>=B){d=!0;break}let X=!0;for(;(X||!v)&&f<k;)X=this.containsBlackPoint(r,o,f,!0),X?(f++,m=!0,v=!0):v||f++;if(f>=k){d=!0;break}let et=!0;for(;(et||!N)&&r>=0;)et=this.containsBlackPoint(l,f,r,!1),et?(r--,m=!0,N=!0):N||r--;if(r<0){d=!0;break}let ct=!0;for(;(ct||!R)&&l>=0;)ct=this.containsBlackPoint(r,o,l,!0),ct?(l--,m=!0,R=!0):R||l--;if(l<0){d=!0;break}m&&(x=!0)}if(!d&&x){const j=o-r;let X=null;for(let bt=1;X===null&&bt<j;bt++)X=this.getBlackPointOnSegment(r,f-bt,r+bt,f);if(X==null)throw new H;let et=null;for(let bt=1;et===null&&bt<j;bt++)et=this.getBlackPointOnSegment(r,l+bt,r+bt,l);if(et==null)throw new H;let ct=null;for(let bt=1;ct===null&&bt<j;bt++)ct=this.getBlackPointOnSegment(o,l+bt,o-bt,l);if(ct==null)throw new H;let St=null;for(let bt=1;St===null&&bt<j;bt++)St=this.getBlackPointOnSegment(o,f-bt,o-bt,f);if(St==null)throw new H;return this.centerEdges(St,X,ct,et)}else throw new H}getBlackPointOnSegment(r,o,l,f){const d=ge.round(ge.distance(r,o,l,f)),m=(l-r)/d,x=(f-o)/d,E=this.image;for(let v=0;v<d;v++){const N=ge.round(r+v*m),R=ge.round(o+v*x);if(E.get(N,R))return new Ft(N,R)}return null}centerEdges(r,o,l,f){const d=r.getX(),m=r.getY(),x=o.getX(),E=o.getY(),v=l.getX(),N=l.getY(),R=f.getX(),B=f.getY(),k=mn.CORR;return d<this.width/2?[new Ft(R-k,B+k),new Ft(x+k,E+k),new Ft(v-k,N-k),new Ft(d+k,m-k)]:[new Ft(R+k,B+k),new Ft(x+k,E-k),new Ft(v-k,N+k),new Ft(d-k,m-k)]}containsBlackPoint(r,o,l,f){const d=this.image;if(f){for(let m=r;m<=o;m++)if(d.get(m,l))return!0}else for(let m=r;m<=o;m++)if(d.get(l,m))return!0;return!1}}mn.INIT_SIZE=10,mn.CORR=1;class lc{static checkAndNudgePoints(r,o){const l=r.getWidth(),f=r.getHeight();let d=!0;for(let m=0;m<o.length&&d;m+=2){const x=Math.floor(o[m]),E=Math.floor(o[m+1]);if(x<-1||x>l||E<-1||E>f)throw new H;d=!1,x===-1?(o[m]=0,d=!0):x===l&&(o[m]=l-1,d=!0),E===-1?(o[m+1]=0,d=!0):E===f&&(o[m+1]=f-1,d=!0)}d=!0;for(let m=o.length-2;m>=0&&d;m-=2){const x=Math.floor(o[m]),E=Math.floor(o[m+1]);if(x<-1||x>l||E<-1||E>f)throw new H;d=!1,x===-1?(o[m]=0,d=!0):x===l&&(o[m]=l-1,d=!0),E===-1?(o[m+1]=0,d=!0):E===f&&(o[m+1]=f-1,d=!0)}}}class _i{constructor(r,o,l,f,d,m,x,E,v){this.a11=r,this.a21=o,this.a31=l,this.a12=f,this.a22=d,this.a32=m,this.a13=x,this.a23=E,this.a33=v}static quadrilateralToQuadrilateral(r,o,l,f,d,m,x,E,v,N,R,B,k,j,X,et){const ct=_i.quadrilateralToSquare(r,o,l,f,d,m,x,E);return _i.squareToQuadrilateral(v,N,R,B,k,j,X,et).times(ct)}transformPoints(r){const o=r.length,l=this.a11,f=this.a12,d=this.a13,m=this.a21,x=this.a22,E=this.a23,v=this.a31,N=this.a32,R=this.a33;for(let B=0;B<o;B+=2){const k=r[B],j=r[B+1],X=d*k+E*j+R;r[B]=(l*k+m*j+v)/X,r[B+1]=(f*k+x*j+N)/X}}transformPointsWithValues(r,o){const l=this.a11,f=this.a12,d=this.a13,m=this.a21,x=this.a22,E=this.a23,v=this.a31,N=this.a32,R=this.a33,B=r.length;for(let k=0;k<B;k++){const j=r[k],X=o[k],et=d*j+E*X+R;r[k]=(l*j+m*X+v)/et,o[k]=(f*j+x*X+N)/et}}static squareToQuadrilateral(r,o,l,f,d,m,x,E){const v=r-l+d-x,N=o-f+m-E;if(v===0&&N===0)return new _i(l-r,d-l,r,f-o,m-f,o,0,0,1);{const R=l-d,B=x-d,k=f-m,j=E-m,X=R*j-B*k,et=(v*j-B*N)/X,ct=(R*N-v*k)/X;return new _i(l-r+et*l,x-r+ct*x,r,f-o+et*f,E-o+ct*E,o,et,ct,1)}}static quadrilateralToSquare(r,o,l,f,d,m,x,E){return _i.squareToQuadrilateral(r,o,l,f,d,m,x,E).buildAdjoint()}buildAdjoint(){return new _i(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new _i(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class cc extends lc{sampleGrid(r,o,l,f,d,m,x,E,v,N,R,B,k,j,X,et,ct,St,bt){const At=_i.quadrilateralToQuadrilateral(f,d,m,x,E,v,N,R,B,k,j,X,et,ct,St,bt);return this.sampleGridWithTransform(r,o,l,At)}sampleGridWithTransform(r,o,l,f){if(o<=0||l<=0)throw new H;const d=new qt(o,l),m=new Float32Array(2*o);for(let x=0;x<l;x++){const E=m.length,v=x+.5;for(let N=0;N<E;N+=2)m[N]=N/2+.5,m[N+1]=v;f.transformPoints(m),lc.checkAndNudgePoints(r,m);try{for(let N=0;N<E;N+=2)r.get(Math.floor(m[N]),Math.floor(m[N+1]))&&d.set(N/2,x)}catch{throw new H}}return d}}class Qi{static setGridSampler(r){Qi.gridSampler=r}static getInstance(){return Qi.gridSampler}}Qi.gridSampler=new cc;class li{constructor(r,o){this.x=r,this.y=o}toResultPoint(){return new Ft(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class uc{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let o=this.getMatrixCenter(),l=this.getBullsEyeCorners(o);if(r){let m=l[0];l[0]=l[2],l[2]=m}this.extractParameters(l);let f=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),d=this.getMatrixCornerPoints(l);return new Gu(f,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new H;let o=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(r[0],r[1],o),this.sampleLine(r[1],r[2],o),this.sampleLine(r[2],r[3],o),this.sampleLine(r[3],r[0],o)]);this.shift=this.getRotation(l,o);let f=0;for(let m=0;m<4;m++){let x=l[(this.shift+m)%4];this.compact?(f<<=7,f+=x>>1&127):(f<<=10,f+=(x>>2&992)+(x>>1&31))}let d=this.getCorrectedParameterData(f,this.compact);this.compact?(this.nbLayers=(d>>6)+1,this.nbDataBlocks=(d&63)+1):(this.nbLayers=(d>>11)+1,this.nbDataBlocks=(d&2047)+1)}getRotation(r,o){let l=0;r.forEach((f,d,m)=>{let x=(f>>o-2<<1)+(f&1);l=(l<<3)+x}),l=((l&1)<<11)+(l>>1);for(let f=0;f<4;f++)if(z.bitCount(l^this.EXPECTED_CORNER_BITS[f])<=2)return f;throw new H}getCorrectedParameterData(r,o){let l,f;o?(l=7,f=2):(l=10,f=4);let d=l-f,m=new Int32Array(l);for(let E=l-1;E>=0;--E)m[E]=r&15,r>>=4;try{new hr(re.AZTEC_PARAM).decode(m,d)}catch{throw new H}let x=0;for(let E=0;E<f;E++)x=(x<<4)+m[E];return x}getBullsEyeCorners(r){let o=r,l=r,f=r,d=r,m=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let R=this.getFirstDifferent(o,m,1,-1),B=this.getFirstDifferent(l,m,1,1),k=this.getFirstDifferent(f,m,-1,1),j=this.getFirstDifferent(d,m,-1,-1);if(this.nbCenterLayers>2){let X=this.distancePoint(j,R)*this.nbCenterLayers/(this.distancePoint(d,o)*(this.nbCenterLayers+2));if(X<.75||X>1.25||!this.isWhiteOrBlackRectangle(R,B,k,j))break}o=R,l=B,f=k,d=j,m=!m}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new H;this.compact=this.nbCenterLayers===5;let x=new Ft(o.getX()+.5,o.getY()-.5),E=new Ft(l.getX()+.5,l.getY()+.5),v=new Ft(f.getX()-.5,f.getY()+.5),N=new Ft(d.getX()-.5,d.getY()-.5);return this.expandSquare([x,E,v,N],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,o,l,f;try{let x=new mn(this.image).detect();r=x[0],o=x[1],l=x[2],f=x[3]}catch{let E=this.image.getWidth()/2,v=this.image.getHeight()/2;r=this.getFirstDifferent(new li(E+7,v-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new li(E+7,v+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new li(E-7,v+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new li(E-7,v-7),!1,-1,-1).toResultPoint()}let d=ge.round((r.getX()+f.getX()+o.getX()+l.getX())/4),m=ge.round((r.getY()+f.getY()+o.getY()+l.getY())/4);try{let x=new mn(this.image,15,d,m).detect();r=x[0],o=x[1],l=x[2],f=x[3]}catch{r=this.getFirstDifferent(new li(d+7,m-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new li(d+7,m+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new li(d-7,m+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new li(d-7,m-7),!1,-1,-1).toResultPoint()}return d=ge.round((r.getX()+f.getX()+o.getX()+l.getX())/4),m=ge.round((r.getY()+f.getY()+o.getY()+l.getY())/4),new li(d,m)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,o,l,f,d){let m=Qi.getInstance(),x=this.getDimension(),E=x/2-this.nbCenterLayers,v=x/2+this.nbCenterLayers;return m.sampleGrid(r,x,x,E,E,v,E,v,v,E,v,o.getX(),o.getY(),l.getX(),l.getY(),f.getX(),f.getY(),d.getX(),d.getY())}sampleLine(r,o,l){let f=0,d=this.distanceResultPoint(r,o),m=d/l,x=r.getX(),E=r.getY(),v=m*(o.getX()-r.getX())/d,N=m*(o.getY()-r.getY())/d;for(let R=0;R<l;R++)this.image.get(ge.round(x+R*v),ge.round(E+R*N))&&(f|=1<<l-R-1);return f}isWhiteOrBlackRectangle(r,o,l,f){let d=3;r=new li(r.getX()-d,r.getY()+d),o=new li(o.getX()-d,o.getY()-d),l=new li(l.getX()+d,l.getY()-d),f=new li(f.getX()+d,f.getY()+d);let m=this.getColor(f,r);if(m===0)return!1;let x=this.getColor(r,o);return x!==m||(x=this.getColor(o,l),x!==m)?!1:(x=this.getColor(l,f),x===m)}getColor(r,o){let l=this.distancePoint(r,o),f=(o.getX()-r.getX())/l,d=(o.getY()-r.getY())/l,m=0,x=r.getX(),E=r.getY(),v=this.image.get(r.getX(),r.getY()),N=Math.ceil(l);for(let B=0;B<N;B++)x+=f,E+=d,this.image.get(ge.round(x),ge.round(E))!==v&&m++;let R=m/l;return R>.1&&R<.9?0:R<=.1===v?1:-1}getFirstDifferent(r,o,l,f){let d=r.getX()+l,m=r.getY()+f;for(;this.isValid(d,m)&&this.image.get(d,m)===o;)d+=l,m+=f;for(d-=l,m-=f;this.isValid(d,m)&&this.image.get(d,m)===o;)d+=l;for(d-=l;this.isValid(d,m)&&this.image.get(d,m)===o;)m+=f;return m-=f,new li(d,m)}expandSquare(r,o,l){let f=l/(2*o),d=r[0].getX()-r[2].getX(),m=r[0].getY()-r[2].getY(),x=(r[0].getX()+r[2].getX())/2,E=(r[0].getY()+r[2].getY())/2,v=new Ft(x+f*d,E+f*m),N=new Ft(x-f*d,E-f*m);d=r[1].getX()-r[3].getX(),m=r[1].getY()-r[3].getY(),x=(r[1].getX()+r[3].getX())/2,E=(r[1].getY()+r[3].getY())/2;let R=new Ft(x+f*d,E+f*m),B=new Ft(x-f*d,E-f*m);return[v,R,N,B]}isValid(r,o){return r>=0&&r<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(r){let o=ge.round(r.getX()),l=ge.round(r.getY());return this.isValid(o,l)}distancePoint(r,o){return ge.distance(r.getX(),r.getY(),o.getX(),o.getY())}distanceResultPoint(r,o){return ge.distance(r.getX(),r.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(z.truncDivision(this.nbLayers-4,8)+1)+15}}class Zo{decode(r,o=null){let l=null,f=new uc(r.getBlackMatrix()),d=null,m=null;try{let N=f.detectMirror(!1);d=N.getPoints(),this.reportFoundResultPoints(o,d),m=new ze().decode(N)}catch(N){l=N}if(m==null)try{let N=f.detectMirror(!0);d=N.getPoints(),this.reportFoundResultPoints(o,d),m=new ze().decode(N)}catch(N){throw l??N}let x=new It(m.getText(),m.getRawBytes(),m.getNumBits(),d,Ct.AZTEC,L.currentTimeMillis()),E=m.getByteSegments();E!=null&&x.putMetadata(de.BYTE_SEGMENTS,E);let v=m.getECLevel();return v!=null&&x.putMetadata(de.ERROR_CORRECTION_LEVEL,v),x}reportFoundResultPoints(r,o){if(r!=null){let l=r.get(dt.NEED_RESULT_POINT_CALLBACK);l!=null&&o.forEach((f,d,m)=>{l.foundPossibleResultPoint(f)})}}reset(){}}class g0 extends vt{constructor(r=500){super(new Zo,r)}}class tn{decode(r,o){try{return this.doDecode(r,o)}catch{if(o&&o.get(dt.TRY_HARDER)===!0&&r.isRotateSupported()){const d=r.rotateCounterClockwise(),m=this.doDecode(d,o),x=m.getResultMetadata();let E=270;x!==null&&x.get(de.ORIENTATION)===!0&&(E=E+x.get(de.ORIENTATION)%360),m.putMetadata(de.ORIENTATION,E);const v=m.getResultPoints();if(v!==null){const N=d.getHeight();for(let R=0;R<v.length;R++)v[R]=new Ft(N-v[R].getY()-1,v[R].getX())}return m}else throw new H}}reset(){}doDecode(r,o){const l=r.getWidth(),f=r.getHeight();let d=new lt(l);const m=o&&o.get(dt.TRY_HARDER)===!0,x=Math.max(1,f>>(m?8:5));let E;m?E=f:E=15;const v=Math.trunc(f/2);for(let N=0;N<E;N++){const R=Math.trunc((N+1)/2),B=(N&1)===0,k=v+x*(B?R:-R);if(k<0||k>=f)break;try{d=r.getBlackRow(k,d)}catch{continue}for(let j=0;j<2;j++){if(j===1&&(d.reverse(),o&&o.get(dt.NEED_RESULT_POINT_CALLBACK)===!0)){const X=new Map;o.forEach((et,ct)=>X.set(ct,et)),X.delete(dt.NEED_RESULT_POINT_CALLBACK),o=X}try{const X=this.decodeRow(k,d,o);if(j===1){X.putMetadata(de.ORIENTATION,180);const et=X.getResultPoints();et!==null&&(et[0]=new Ft(l-et[0].getX()-1,et[0].getY()),et[1]=new Ft(l-et[1].getX()-1,et[1].getY()))}return X}catch{}}}throw new H}static recordPattern(r,o,l){const f=l.length;for(let v=0;v<f;v++)l[v]=0;const d=r.getSize();if(o>=d)throw new H;let m=!r.get(o),x=0,E=o;for(;E<d;){if(r.get(E)!==m)l[x]++;else{if(++x===f)break;l[x]=1,m=!m}E++}if(!(x===f||x===f-1&&E===d))throw new H}static recordPatternInReverse(r,o,l){let f=l.length,d=r.get(o);for(;o>0&&f>=0;)r.get(--o)!==d&&(f--,d=!d);if(f>=0)throw new H;tn.recordPattern(r,o+1,l)}static patternMatchVariance(r,o,l){const f=r.length;let d=0,m=0;for(let v=0;v<f;v++)d+=r[v],m+=o[v];if(d<m)return Number.POSITIVE_INFINITY;const x=d/m;l*=x;let E=0;for(let v=0;v<f;v++){const N=r[v],R=o[v]*x,B=N>R?N-R:R-N;if(B>l)return Number.POSITIVE_INFINITY;E+=B}return E/d}}class Tt extends tn{static findStartPattern(r){const o=r.getSize(),l=r.getNextSet(0);let f=0,d=Int32Array.from([0,0,0,0,0,0]),m=l,x=!1;const E=6;for(let v=l;v<o;v++)if(r.get(v)!==x)d[f]++;else{if(f===E-1){let N=Tt.MAX_AVG_VARIANCE,R=-1;for(let B=Tt.CODE_START_A;B<=Tt.CODE_START_C;B++){const k=tn.patternMatchVariance(d,Tt.CODE_PATTERNS[B],Tt.MAX_INDIVIDUAL_VARIANCE);k<N&&(N=k,R=B)}if(R>=0&&r.isRange(Math.max(0,m-(v-m)/2),m,!1))return Int32Array.from([m,v,R]);m+=d[0]+d[1],d=d.slice(2,d.length-1),d[f-1]=0,d[f]=0,f--}else f++;d[f]=1,x=!x}throw new H}static decodeCode(r,o,l){tn.recordPattern(r,l,o);let f=Tt.MAX_AVG_VARIANCE,d=-1;for(let m=0;m<Tt.CODE_PATTERNS.length;m++){const x=Tt.CODE_PATTERNS[m],E=this.patternMatchVariance(o,x,Tt.MAX_INDIVIDUAL_VARIANCE);E<f&&(f=E,d=m)}if(d>=0)return d;throw new H}decodeRow(r,o,l){const f=l&&l.get(dt.ASSUME_GS1)===!0,d=Tt.findStartPattern(o),m=d[2];let x=0;const E=new Uint8Array(20);E[x++]=m;let v;switch(m){case Tt.CODE_START_A:v=Tt.CODE_CODE_A;break;case Tt.CODE_START_B:v=Tt.CODE_CODE_B;break;case Tt.CODE_START_C:v=Tt.CODE_CODE_C;break;default:throw new K}let N=!1,R=!1,B="",k=d[0],j=d[1];const X=Int32Array.from([0,0,0,0,0,0]);let et=0,ct=0,St=m,bt=0,At=!0,le=!1,te=!1;for(;!N;){const As=R;switch(R=!1,et=ct,ct=Tt.decodeCode(o,X,j),E[x++]=ct,ct!==Tt.CODE_STOP&&(At=!0),ct!==Tt.CODE_STOP&&(bt++,St+=bt*ct),k=j,j+=X.reduce((sf,Ec)=>sf+Ec,0),ct){case Tt.CODE_START_A:case Tt.CODE_START_B:case Tt.CODE_START_C:throw new K}switch(v){case Tt.CODE_CODE_A:if(ct<64)te===le?B+=String.fromCharCode(32+ct):B+=String.fromCharCode(32+ct+128),te=!1;else if(ct<96)te===le?B+=String.fromCharCode(ct-64):B+=String.fromCharCode(ct+64),te=!1;else switch(ct!==Tt.CODE_STOP&&(At=!1),ct){case Tt.CODE_FNC_1:f&&(B.length===0?B+="]C1":B+="");break;case Tt.CODE_FNC_2:case Tt.CODE_FNC_3:break;case Tt.CODE_FNC_4_A:!le&&te?(le=!0,te=!1):le&&te?(le=!1,te=!1):te=!0;break;case Tt.CODE_SHIFT:R=!0,v=Tt.CODE_CODE_B;break;case Tt.CODE_CODE_B:v=Tt.CODE_CODE_B;break;case Tt.CODE_CODE_C:v=Tt.CODE_CODE_C;break;case Tt.CODE_STOP:N=!0;break}break;case Tt.CODE_CODE_B:if(ct<96)te===le?B+=String.fromCharCode(32+ct):B+=String.fromCharCode(32+ct+128),te=!1;else switch(ct!==Tt.CODE_STOP&&(At=!1),ct){case Tt.CODE_FNC_1:f&&(B.length===0?B+="]C1":B+="");break;case Tt.CODE_FNC_2:case Tt.CODE_FNC_3:break;case Tt.CODE_FNC_4_B:!le&&te?(le=!0,te=!1):le&&te?(le=!1,te=!1):te=!0;break;case Tt.CODE_SHIFT:R=!0,v=Tt.CODE_CODE_A;break;case Tt.CODE_CODE_A:v=Tt.CODE_CODE_A;break;case Tt.CODE_CODE_C:v=Tt.CODE_CODE_C;break;case Tt.CODE_STOP:N=!0;break}break;case Tt.CODE_CODE_C:if(ct<100)ct<10&&(B+="0"),B+=ct;else switch(ct!==Tt.CODE_STOP&&(At=!1),ct){case Tt.CODE_FNC_1:f&&(B.length===0?B+="]C1":B+="");break;case Tt.CODE_CODE_A:v=Tt.CODE_CODE_A;break;case Tt.CODE_CODE_B:v=Tt.CODE_CODE_B;break;case Tt.CODE_STOP:N=!0;break}break}As&&(v=v===Tt.CODE_CODE_A?Tt.CODE_CODE_B:Tt.CODE_CODE_A)}const En=j-k;if(j=o.getNextUnset(j),!o.isRange(j,Math.min(o.getSize(),j+(j-k)/2),!1))throw new H;if(St-=bt*et,St%103!==et)throw new D;const ki=B.length;if(ki===0)throw new H;ki>0&&At&&(v===Tt.CODE_CODE_C?B=B.substring(0,ki-2):B=B.substring(0,ki-1));const ui=(d[1]+d[0])/2,ke=k+En/2,Jn=E.length,Ti=new Uint8Array(Jn);for(let As=0;As<Jn;As++)Ti[As]=E[As];const ha=[new Ft(ui,r),new Ft(ke,r)];return new It(B,Ti,0,ha,Ct.CODE_128,new Date().getTime())}}Tt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Tt.MAX_AVG_VARIANCE=.25,Tt.MAX_INDIVIDUAL_VARIANCE=.7,Tt.CODE_SHIFT=98,Tt.CODE_CODE_C=99,Tt.CODE_CODE_B=100,Tt.CODE_CODE_A=101,Tt.CODE_FNC_1=102,Tt.CODE_FNC_2=97,Tt.CODE_FNC_3=96,Tt.CODE_FNC_4_A=101,Tt.CODE_FNC_4_B=100,Tt.CODE_START_A=103,Tt.CODE_START_B=104,Tt.CODE_START_C=105,Tt.CODE_STOP=106;class Ye extends tn{constructor(r=!1,o=!1){super(),this.usingCheckDigit=r,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,o,l){let f=this.counters;f.fill(0),this.decodeRowResult="";let d=Ye.findAsteriskPattern(o,f),m=o.getNextSet(d[1]),x=o.getSize(),E,v;do{Ye.recordPattern(o,m,f);let X=Ye.toNarrowWidePattern(f);if(X<0)throw new H;E=Ye.patternToChar(X),this.decodeRowResult+=E,v=m;for(let et of f)m+=et;m=o.getNextSet(m)}while(E!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let N=0;for(let X of f)N+=X;let R=m-v-N;if(m!==x&&R*2<N)throw new H;if(this.usingCheckDigit){let X=this.decodeRowResult.length-1,et=0;for(let ct=0;ct<X;ct++)et+=Ye.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ct));if(this.decodeRowResult.charAt(X)!==Ye.ALPHABET_STRING.charAt(et%43))throw new D;this.decodeRowResult=this.decodeRowResult.substring(0,X)}if(this.decodeRowResult.length===0)throw new H;let B;this.extendedMode?B=Ye.decodeExtended(this.decodeRowResult):B=this.decodeRowResult;let k=(d[1]+d[0])/2,j=v+N/2;return new It(B,null,0,[new Ft(k,r),new Ft(j,r)],Ct.CODE_39,new Date().getTime())}static findAsteriskPattern(r,o){let l=r.getSize(),f=r.getNextSet(0),d=0,m=f,x=!1,E=o.length;for(let v=f;v<l;v++)if(r.get(v)!==x)o[d]++;else{if(d===E-1){if(this.toNarrowWidePattern(o)===Ye.ASTERISK_ENCODING&&r.isRange(Math.max(0,m-Math.floor((v-m)/2)),m,!1))return[m,v];m+=o[0]+o[1],o.copyWithin(0,2,2+d-1),o[d-1]=0,o[d]=0,d--}else d++;o[d]=1,x=!x}throw new H}static toNarrowWidePattern(r){let o=r.length,l=0,f;do{let d=2147483647;for(let E of r)E<d&&E>l&&(d=E);l=d,f=0;let m=0,x=0;for(let E=0;E<o;E++){let v=r[E];v>l&&(x|=1<<o-1-E,f++,m+=v)}if(f===3){for(let E=0;E<o&&f>0;E++){let v=r[E];if(v>l&&(f--,v*2>=m))return-1}return x}}while(f>3);return-1}static patternToChar(r){for(let o=0;o<Ye.CHARACTER_ENCODINGS.length;o++)if(Ye.CHARACTER_ENCODINGS[o]===r)return Ye.ALPHABET_STRING.charAt(o);if(r===Ye.ASTERISK_ENCODING)return"*";throw new H}static decodeExtended(r){let o=r.length,l="";for(let f=0;f<o;f++){let d=r.charAt(f);if(d==="+"||d==="$"||d==="%"||d==="/"){let m=r.charAt(f+1),x="\0";switch(d){case"+":if(m>="A"&&m<="Z")x=String.fromCharCode(m.charCodeAt(0)+32);else throw new K;break;case"$":if(m>="A"&&m<="Z")x=String.fromCharCode(m.charCodeAt(0)-64);else throw new K;break;case"%":if(m>="A"&&m<="E")x=String.fromCharCode(m.charCodeAt(0)-38);else if(m>="F"&&m<="J")x=String.fromCharCode(m.charCodeAt(0)-11);else if(m>="K"&&m<="O")x=String.fromCharCode(m.charCodeAt(0)+16);else if(m>="P"&&m<="T")x=String.fromCharCode(m.charCodeAt(0)+43);else if(m==="U")x="\0";else if(m==="V")x="@";else if(m==="W")x="`";else if(m==="X"||m==="Y"||m==="Z")x="";else throw new K;break;case"/":if(m>="A"&&m<="O")x=String.fromCharCode(m.charCodeAt(0)-32);else if(m==="Z")x=":";else throw new K;break}l+=x,f++}else l+=d}return l}}Ye.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ye.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ye.ASTERISK_ENCODING=148;class se extends tn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,o,l){let f=this.decodeStart(o),d=this.decodeEnd(o),m=new jt;se.decodeMiddle(o,f[1],d[0],m);let x=m.toString(),E=null;l!=null&&(E=l.get(dt.ALLOWED_LENGTHS)),E==null&&(E=se.DEFAULT_ALLOWED_LENGTHS);let v=x.length,N=!1,R=0;for(let j of E){if(v===j){N=!0;break}j>R&&(R=j)}if(!N&&v>R&&(N=!0),!N)throw new K;const B=[new Ft(f[1],r),new Ft(d[0],r)];return new It(x,null,0,B,Ct.ITF,new Date().getTime())}static decodeMiddle(r,o,l,f){let d=new Int32Array(10),m=new Int32Array(5),x=new Int32Array(5);for(d.fill(0),m.fill(0),x.fill(0);o<l;){tn.recordPattern(r,o,d);for(let v=0;v<5;v++){let N=2*v;m[v]=d[N],x[v]=d[N+1]}let E=se.decodeDigit(m);f.append(E.toString()),E=this.decodeDigit(x),f.append(E.toString()),d.forEach(function(v){o+=v})}}decodeStart(r){let o=se.skipWhiteSpace(r),l=se.findGuardPattern(r,o,se.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(r,l[0]),l}validateQuietZone(r,o){let l=this.narrowLineWidth*10;l=l<o?l:o;for(let f=o-1;l>0&&f>=0&&!r.get(f);f--)l--;if(l!==0)throw new H}static skipWhiteSpace(r){const o=r.getSize(),l=r.getNextSet(0);if(l===o)throw new H;return l}decodeEnd(r){r.reverse();try{let o=se.skipWhiteSpace(r),l;try{l=se.findGuardPattern(r,o,se.END_PATTERN_REVERSED[0])}catch(d){d instanceof H&&(l=se.findGuardPattern(r,o,se.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,l[0]);let f=l[0];return l[0]=r.getSize()-l[1],l[1]=r.getSize()-f,l}finally{r.reverse()}}static findGuardPattern(r,o,l){let f=l.length,d=new Int32Array(f),m=r.getSize(),x=!1,E=0,v=o;d.fill(0);for(let N=o;N<m;N++)if(r.get(N)!==x)d[E]++;else{if(E===f-1){if(tn.patternMatchVariance(d,l,se.MAX_INDIVIDUAL_VARIANCE)<se.MAX_AVG_VARIANCE)return[v,N];v+=d[0]+d[1],L.arraycopy(d,2,d,0,E-1),d[E-1]=0,d[E]=0,E--}else E++;d[E]=1,x=!x}throw new H}static decodeDigit(r){let o=se.MAX_AVG_VARIANCE,l=-1,f=se.PATTERNS.length;for(let d=0;d<f;d++){let m=se.PATTERNS[d],x=tn.patternMatchVariance(r,m,se.MAX_INDIVIDUAL_VARIANCE);x<o?(o=x,l=d):x===o&&(l=-1)}if(l>=0)return l%10;throw new H}}se.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],se.MAX_AVG_VARIANCE=.38,se.MAX_INDIVIDUAL_VARIANCE=.5,se.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],se.START_PATTERN=Int32Array.from([1,1,1,1]),se.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class un extends tn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let o=!1,l,f=0,d=Int32Array.from([0,0,0]);for(;!o;){d=Int32Array.from([0,0,0]),l=un.findGuardPattern(r,f,!1,this.START_END_PATTERN,d);let m=l[0];f=l[1];let x=m-(f-m);x>=0&&(o=r.isRange(x,m,!1))}return l}static checkChecksum(r){return un.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let o=r.length;if(o===0)return!1;let l=parseInt(r.charAt(o-1),10);return un.getStandardUPCEANChecksum(r.substring(0,o-1))===l}static getStandardUPCEANChecksum(r){let o=r.length,l=0;for(let f=o-1;f>=0;f-=2){let d=r.charAt(f).charCodeAt(0)-48;if(d<0||d>9)throw new K;l+=d}l*=3;for(let f=o-2;f>=0;f-=2){let d=r.charAt(f).charCodeAt(0)-48;if(d<0||d>9)throw new K;l+=d}return(1e3-l)%10}static decodeEnd(r,o){return un.findGuardPattern(r,o,!1,un.START_END_PATTERN,new Int32Array(un.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,o,l,f){return this.findGuardPattern(r,o,l,f,new Int32Array(f.length))}static findGuardPattern(r,o,l,f,d){let m=r.getSize();o=l?r.getNextUnset(o):r.getNextSet(o);let x=0,E=o,v=f.length,N=l;for(let R=o;R<m;R++)if(r.get(R)!==N)d[x]++;else{if(x===v-1){if(tn.patternMatchVariance(d,f,un.MAX_INDIVIDUAL_VARIANCE)<un.MAX_AVG_VARIANCE)return Int32Array.from([E,R]);E+=d[0]+d[1];let B=d.slice(2,d.length-1);for(let k=0;k<x-1;k++)d[k]=B[k];d[x-1]=0,d[x]=0,x--}else x++;d[x]=1,N=!N}throw new H}static decodeDigit(r,o,l,f){this.recordPattern(r,l,o);let d=this.MAX_AVG_VARIANCE,m=-1,x=f.length;for(let E=0;E<x;E++){let v=f[E],N=tn.patternMatchVariance(o,v,un.MAX_INDIVIDUAL_VARIANCE);N<d&&(d=N,m=E)}if(m>=0)return m;throw new H}}un.MAX_AVG_VARIANCE=.48,un.MAX_INDIVIDUAL_VARIANCE=.7,un.START_END_PATTERN=Int32Array.from([1,1,1]),un.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),un.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),un.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ja{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,o,l){let f=this.decodeRowStringBuffer,d=this.decodeMiddle(o,l,f),m=f.toString(),x=Ja.parseExtensionString(m),E=[new Ft((l[0]+l[1])/2,r),new Ft(d,r)],v=new It(m,null,0,E,Ct.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&v.putAllMetadata(x),v}decodeMiddle(r,o,l){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=r.getSize(),m=o[1],x=0;for(let v=0;v<5&&m<d;v++){let N=un.decodeDigit(r,f,m,un.L_AND_G_PATTERNS);l+=String.fromCharCode(48+N%10);for(let R of f)m+=R;N>=10&&(x|=1<<4-v),v!==4&&(m=r.getNextSet(m),m=r.getNextUnset(m))}if(l.length!==5)throw new H;let E=this.determineCheckDigit(x);if(Ja.extensionChecksum(l.toString())!==E)throw new H;return m}static extensionChecksum(r){let o=r.length,l=0;for(let f=o-2;f>=0;f-=2)l+=r.charAt(f).charCodeAt(0)-48;l*=3;for(let f=o-1;f>=0;f-=2)l+=r.charAt(f).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(r){for(let o=0;o<10;o++)if(r===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new H}static parseExtensionString(r){if(r.length!==5)return null;let o=Ja.parseExtension5String(r);return o==null?null:new Map([[de.SUGGESTED_PRICE,o]])}static parseExtension5String(r){let o;switch(r.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let l=parseInt(r.substring(1)),f=(l/100).toString(),d=l%100,m=d<10?"0"+d:d.toString();return o+f+"."+m}}class fc{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,o,l){let f=this.decodeRowStringBuffer,d=this.decodeMiddle(o,l,f),m=f.toString(),x=fc.parseExtensionString(m),E=[new Ft((l[0]+l[1])/2,r),new Ft(d,r)],v=new It(m,null,0,E,Ct.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&v.putAllMetadata(x),v}decodeMiddle(r,o,l){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=r.getSize(),m=o[1],x=0;for(let E=0;E<2&&m<d;E++){let v=un.decodeDigit(r,f,m,un.L_AND_G_PATTERNS);l+=String.fromCharCode(48+v%10);for(let N of f)m+=N;v>=10&&(x|=1<<1-E),E!==1&&(m=r.getNextSet(m),m=r.getNextUnset(m))}if(l.length!==2)throw new H;if(parseInt(l.toString())%4!==x)throw new H;return m}static parseExtensionString(r){return r.length!==2?null:new Map([[de.ISSUE_NUMBER,parseInt(r)]])}}class $a{static decodeRow(r,o,l){let f=un.findGuardPattern(o,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ja().decodeRow(r,o,f)}catch{return new fc().decodeRow(r,o,f)}}}$a.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ae extends un{constructor(){super(),this.decodeRowStringBuffer="",Ae.L_AND_G_PATTERNS=Ae.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let o=Ae.L_PATTERNS[r-10],l=new Int32Array(o.length);for(let f=0;f<o.length;f++)l[f]=o[o.length-f-1];Ae.L_AND_G_PATTERNS[r]=l}}decodeRow(r,o,l){let f=Ae.findStartGuardPattern(o),d=l==null?null:l.get(dt.NEED_RESULT_POINT_CALLBACK);if(d!=null){const At=new Ft((f[0]+f[1])/2,r);d.foundPossibleResultPoint(At)}let m=this.decodeMiddle(o,f,this.decodeRowStringBuffer),x=m.rowOffset,E=m.resultString;if(d!=null){const At=new Ft(x,r);d.foundPossibleResultPoint(At)}let v=this.decodeEnd(o,x);if(d!=null){const At=new Ft((v[0]+v[1])/2,r);d.foundPossibleResultPoint(At)}let N=v[1],R=N+(N-v[0]);if(R>=o.getSize()||!o.isRange(N,R,!1))throw new H;let B=E.toString();if(B.length<8)throw new K;if(!Ae.checkChecksum(B))throw new D;let k=(f[1]+f[0])/2,j=(v[1]+v[0])/2,X=this.getBarcodeFormat(),et=[new Ft(k,r),new Ft(j,r)],ct=new It(B,null,0,et,X,new Date().getTime()),St=0;try{let At=$a.decodeRow(r,o,v[1]);ct.putMetadata(de.UPC_EAN_EXTENSION,At.getText()),ct.putAllMetadata(At.getResultMetadata()),ct.addResultPoints(At.getResultPoints()),St=At.getText().length}catch{}let bt=l==null?null:l.get(dt.ALLOWED_EAN_EXTENSIONS);if(bt!=null){let At=!1;for(let le in bt)if(St.toString()===le){At=!0;break}if(!At)throw new H}return ct}decodeEnd(r,o){return Ae.findGuardPattern(r,o,!1,Ae.START_END_PATTERN,new Int32Array(Ae.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return Ae.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let o=r.length;if(o===0)return!1;let l=parseInt(r.charAt(o-1),10);return Ae.getStandardUPCEANChecksum(r.substring(0,o-1))===l}static getStandardUPCEANChecksum(r){let o=r.length,l=0;for(let f=o-1;f>=0;f-=2){let d=r.charAt(f).charCodeAt(0)-48;if(d<0||d>9)throw new K;l+=d}l*=3;for(let f=o-2;f>=0;f-=2){let d=r.charAt(f).charCodeAt(0)-48;if(d<0||d>9)throw new K;l+=d}return(1e3-l)%10}}class dr extends Ae{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,o,l){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=r.getSize(),m=o[1],x=0;for(let v=0;v<6&&m<d;v++){let N=Ae.decodeDigit(r,f,m,Ae.L_AND_G_PATTERNS);l+=String.fromCharCode(48+N%10);for(let R of f)m+=R;N>=10&&(x|=1<<5-v)}l=dr.determineFirstDigit(l,x),m=Ae.findGuardPattern(r,m,!0,Ae.MIDDLE_PATTERN,new Int32Array(Ae.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<6&&m<d;v++){let N=Ae.decodeDigit(r,f,m,Ae.L_PATTERNS);l+=String.fromCharCode(48+N);for(let R of f)m+=R}return{rowOffset:m,resultString:l}}getBarcodeFormat(){return Ct.EAN_13}static determineFirstDigit(r,o){for(let l=0;l<10;l++)if(o===this.FIRST_DIGIT_ENCODINGS[l])return r=String.fromCharCode(48+l)+r,r;throw new H}}dr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Kr extends Ae{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,o,l){const f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=r.getSize(),m=o[1];for(let E=0;E<4&&m<d;E++){let v=Ae.decodeDigit(r,f,m,Ae.L_PATTERNS);l+=String.fromCharCode(48+v);for(let N of f)m+=N}m=Ae.findGuardPattern(r,m,!0,Ae.MIDDLE_PATTERN,new Int32Array(Ae.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<4&&m<d;E++){let v=Ae.decodeDigit(r,f,m,Ae.L_PATTERNS);l+=String.fromCharCode(48+v);for(let N of f)m+=N}return{rowOffset:m,resultString:l}}getBarcodeFormat(){return Ct.EAN_8}}class to extends Ae{constructor(){super(...arguments),this.ean13Reader=new dr}getBarcodeFormat(){return Ct.UPC_A}decode(r,o){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,o,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,o,l))}decodeMiddle(r,o,l){return this.ean13Reader.decodeMiddle(r,o,l)}maybeReturnResult(r){let o=r.getText();if(o.charAt(0)==="0"){let l=new It(o.substring(1),null,null,r.getResultPoints(),Ct.UPC_A);return r.getResultMetadata()!=null&&l.putAllMetadata(r.getResultMetadata()),l}else throw new H}reset(){this.ean13Reader.reset()}}class ci extends Ae{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,o,l){const f=this.decodeMiddleCounters.map(v=>v);f[0]=0,f[1]=0,f[2]=0,f[3]=0;const d=r.getSize();let m=o[1],x=0;for(let v=0;v<6&&m<d;v++){const N=ci.decodeDigit(r,f,m,ci.L_AND_G_PATTERNS);l+=String.fromCharCode(48+N%10);for(let R of f)m+=R;N>=10&&(x|=1<<5-v)}let E=ci.determineNumSysAndCheckDigit(l,x);return{rowOffset:m,resultString:E}}decodeEnd(r,o){return ci.findGuardPatternWithoutCounters(r,o,!0,ci.MIDDLE_END_PATTERN)}checkChecksum(r){return Ae.checkChecksum(ci.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,o){for(let l=0;l<=1;l++)for(let f=0;f<10;f++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][f]){let d=String.fromCharCode(48+l),m=String.fromCharCode(48+f);return d+r+m}throw H.getNotFoundInstance()}getBarcodeFormat(){return Ct.UPC_E}static convertUPCEtoUPCA(r){const o=r.slice(1,7).split("").map(d=>d.charCodeAt(0)),l=new jt;l.append(r.charAt(0));let f=o[5];switch(f){case 0:case 1:case 2:l.appendChars(o,0,2),l.append(f),l.append("0000"),l.appendChars(o,2,3);break;case 3:l.appendChars(o,0,3),l.append("00000"),l.appendChars(o,3,2);break;case 4:l.appendChars(o,0,4),l.append("00000"),l.append(o[4]);break;default:l.appendChars(o,0,5),l.append("0000"),l.append(f);break}return r.length>=8&&l.append(r.charAt(7)),l.toString()}}ci.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ci.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class hc extends tn{constructor(r){super();let o=r==null?null:r.get(dt.POSSIBLE_FORMATS),l=[];a(o)?(l.push(new dr),l.push(new to),l.push(new Kr),l.push(new ci)):(o.indexOf(Ct.EAN_13)>-1&&l.push(new dr),o.indexOf(Ct.UPC_A)>-1&&l.push(new to),o.indexOf(Ct.EAN_8)>-1&&l.push(new Kr),o.indexOf(Ct.UPC_E)>-1&&l.push(new ci)),this.readers=l}decodeRow(r,o,l){for(let f of this.readers)try{const d=f.decodeRow(r,o,l),m=d.getBarcodeFormat()===Ct.EAN_13&&d.getText().charAt(0)==="0",x=l==null?null:l.get(dt.POSSIBLE_FORMATS),E=x==null||x.includes(Ct.UPC_A);if(m&&E){const v=d.getRawBytes(),N=new It(d.getText().substring(1),v,v?v.length:null,d.getResultPoints(),Ct.UPC_A);return N.putAllMetadata(d.getResultMetadata()),N}return d}catch{}throw new H}reset(){for(let r of this.readers)r.reset()}}class Kn extends tn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,o){for(let l=0;l<o.length;l++)if(tn.patternMatchVariance(r,o[l],Kn.MAX_INDIVIDUAL_VARIANCE)<Kn.MAX_AVG_VARIANCE)return l;throw new H}static count(r){return ge.sum(new Int32Array(r))}static increment(r,o){let l=0,f=o[0];for(let d=1;d<r.length;d++)o[d]>f&&(f=o[d],l=d);r[l]++}static decrement(r,o){let l=0,f=o[0];for(let d=1;d<r.length;d++)o[d]<f&&(f=o[d],l=d);r[l]--}static isFinderPattern(r){let o=r[0]+r[1],l=o+r[2]+r[3],f=o/l;if(f>=Kn.MIN_FINDER_PATTERN_RATIO&&f<=Kn.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER;for(let x of r)x>m&&(m=x),x<d&&(d=x);return m<10*d}return!1}}Kn.MAX_AVG_VARIANCE=.2,Kn.MAX_INDIVIDUAL_VARIANCE=.45,Kn.MIN_FINDER_PATTERN_RATIO=9.5/12,Kn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Wr{constructor(r,o){this.value=r,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof Wr))return!1;const o=r;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class qr{constructor(r,o,l,f,d){this.value=r,this.startEnd=o,this.value=r,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new Ft(l,d)),this.resultPoints.push(new Ft(f,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof qr))return!1;const o=r;return this.value===o.value}hashCode(){return this.value}}class gr{constructor(){}static getRSSvalue(r,o,l){let f=0;for(let E of r)f+=E;let d=0,m=0,x=r.length;for(let E=0;E<x-1;E++){let v;for(v=1,m|=1<<E;v<r[E];v++,m&=~(1<<E)){let N=gr.combins(f-v-1,x-E-2);if(l&&m===0&&f-v-(x-E-1)>=x-E-1&&(N-=gr.combins(f-v-(x-E),x-E-2)),x-E-1>1){let R=0;for(let B=f-v-(x-E-2);B>o;B--)R+=gr.combins(f-v-B-1,x-E-3);N-=R*(x-1-E)}else f-v>o&&N--;d+=N}f-=v}return d}static combins(r,o){let l,f;r-o>o?(f=o,l=r-o):(f=r-o,l=o);let d=1,m=1;for(let x=r;x>l;x--)d*=x,m<=f&&(d/=m,m++);for(;m<=f;)d/=m,m++;return d}}class ju{static buildBitArray(r){let o=r.length*2-1;r[r.length-1].getRightChar()==null&&(o-=1);let l=12*o,f=new lt(l),d=0,x=r[0].getRightChar().getValue();for(let E=11;E>=0;--E)(x&1<<E)!=0&&f.set(d),d++;for(let E=1;E<r.length;++E){let v=r[E],N=v.getLeftChar().getValue();for(let R=11;R>=0;--R)(N&1<<R)!=0&&f.set(d),d++;if(v.getRightChar()!=null){let R=v.getRightChar().getValue();for(let B=11;B>=0;--B)(R&1<<B)!=0&&f.set(d),d++}}return f}}class Jr{constructor(r,o){o?this.decodedInformation=null:(this.finished=r,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ko{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}class ii extends Ko{constructor(r,o){super(r),this.value=o}getValue(){return this.value}isFNC1(){return this.value===ii.FNC1}}ii.FNC1="$";class Dr extends Ko{constructor(r,o,l){super(r),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class wi extends Ko{constructor(r,o,l){if(super(r),o<0||o>10||l<0||l>10)throw new K;this.firstDigit=o,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===wi.FNC1}isSecondDigitFNC1(){return this.secondDigit===wi.FNC1}isAnyFNC1(){return this.firstDigit===wi.FNC1||this.secondDigit===wi.FNC1}}wi.FNC1=10;class Bt{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new H;let o=r.substring(0,2);for(let d of Bt.TWO_DIGIT_DATA_LENGTH)if(d[0]===o)return d[1]===Bt.VARIABLE_LENGTH?Bt.processVariableAI(2,d[2],r):Bt.processFixedAI(2,d[1],r);if(r.length<3)throw new H;let l=r.substring(0,3);for(let d of Bt.THREE_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===Bt.VARIABLE_LENGTH?Bt.processVariableAI(3,d[2],r):Bt.processFixedAI(3,d[1],r);for(let d of Bt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===Bt.VARIABLE_LENGTH?Bt.processVariableAI(4,d[2],r):Bt.processFixedAI(4,d[1],r);if(r.length<4)throw new H;let f=r.substring(0,4);for(let d of Bt.FOUR_DIGIT_DATA_LENGTH)if(d[0]===f)return d[1]===Bt.VARIABLE_LENGTH?Bt.processVariableAI(4,d[2],r):Bt.processFixedAI(4,d[1],r);throw new H}static processFixedAI(r,o,l){if(l.length<r)throw new H;let f=l.substring(0,r);if(l.length<r+o)throw new H;let d=l.substring(r,r+o),m=l.substring(r+o),x="("+f+")"+d,E=Bt.parseFieldsInGeneralPurpose(m);return E==null?x:x+E}static processVariableAI(r,o,l){let f=l.substring(0,r),d;l.length<r+o?d=l.length:d=r+o;let m=l.substring(r,d),x=l.substring(d),E="("+f+")"+m,v=Bt.parseFieldsInGeneralPurpose(x);return v==null?E:E+v}}Bt.VARIABLE_LENGTH=[],Bt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Bt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Bt.VARIABLE_LENGTH,20],["22",Bt.VARIABLE_LENGTH,29],["30",Bt.VARIABLE_LENGTH,8],["37",Bt.VARIABLE_LENGTH,8],["90",Bt.VARIABLE_LENGTH,30],["91",Bt.VARIABLE_LENGTH,30],["92",Bt.VARIABLE_LENGTH,30],["93",Bt.VARIABLE_LENGTH,30],["94",Bt.VARIABLE_LENGTH,30],["95",Bt.VARIABLE_LENGTH,30],["96",Bt.VARIABLE_LENGTH,30],["97",Bt.VARIABLE_LENGTH,3],["98",Bt.VARIABLE_LENGTH,30],["99",Bt.VARIABLE_LENGTH,30]],Bt.THREE_DIGIT_DATA_LENGTH=[["240",Bt.VARIABLE_LENGTH,30],["241",Bt.VARIABLE_LENGTH,30],["242",Bt.VARIABLE_LENGTH,6],["250",Bt.VARIABLE_LENGTH,30],["251",Bt.VARIABLE_LENGTH,30],["253",Bt.VARIABLE_LENGTH,17],["254",Bt.VARIABLE_LENGTH,20],["400",Bt.VARIABLE_LENGTH,30],["401",Bt.VARIABLE_LENGTH,30],["402",17],["403",Bt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Bt.VARIABLE_LENGTH,20],["421",Bt.VARIABLE_LENGTH,15],["422",3],["423",Bt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Bt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Bt.VARIABLE_LENGTH,15],["391",Bt.VARIABLE_LENGTH,18],["392",Bt.VARIABLE_LENGTH,15],["393",Bt.VARIABLE_LENGTH,18],["703",Bt.VARIABLE_LENGTH,30]],Bt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Bt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Bt.VARIABLE_LENGTH,20],["8003",Bt.VARIABLE_LENGTH,30],["8004",Bt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Bt.VARIABLE_LENGTH,30],["8008",Bt.VARIABLE_LENGTH,12],["8018",18],["8020",Bt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Bt.VARIABLE_LENGTH,70],["8200",Bt.VARIABLE_LENGTH,70]];class bi{constructor(r){this.buffer=new jt,this.information=r}decodeAllCodes(r,o){let l=o,f=null;do{let d=this.decodeGeneralPurposeField(l,f),m=Bt.parseFieldsInGeneralPurpose(d.getNewString());if(m!=null&&r.append(m),d.isRemaining()?f=""+d.getRemainingValue():f=null,l===d.getNewPosition())break;l=d.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let o=r;o<r+3;++o)if(this.information.get(o))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(r,4);return d===0?new wi(this.information.getSize(),wi.FNC1,wi.FNC1):new wi(this.information.getSize(),d-1,wi.FNC1)}let o=this.extractNumericValueFromBitArray(r,7),l=(o-8)/11,f=(o-8)%11;return new wi(r+7,l,f)}extractNumericValueFromBitArray(r,o){return bi.extractNumericValueFromBitArray(this.information,r,o)}static extractNumericValueFromBitArray(r,o,l){let f=0;for(let d=0;d<l;++d)r.get(o+d)&&(f|=1<<l-d-1);return f}decodeGeneralPurposeField(r,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(r);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Dr(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Dr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,o;do{let l=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),r=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),r=o.isFinished()):(o=this.parseNumericBlock(),r=o.isFinished()),!(l!==this.current.getPosition())&&!r)break}while(!r);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let o;return r.isSecondDigitFNC1()?o=new Dr(this.current.getPosition(),this.buffer.toString()):o=new Dr(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new Jr(!0,o)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let o=new Dr(this.current.getPosition(),this.buffer.toString());return new Jr(!0,o)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Jr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let o=new Dr(this.current.getPosition(),this.buffer.toString());return new Jr(!0,o)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Jr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let o=new Dr(this.current.getPosition(),this.buffer.toString());return new Jr(!0,o)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Jr(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,5);if(o>=5&&o<16)return!0;if(r+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(r,7);if(l>=64&&l<116)return!0;if(r+8>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(r,8);return f>=232&&f<253}decodeIsoIec646(r){let o=this.extractNumericValueFromBitArray(r,5);if(o===15)return new ii(r+5,ii.FNC1);if(o>=5&&o<15)return new ii(r+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(r,7);if(l>=64&&l<90)return new ii(r+7,""+(l+1));if(l>=90&&l<116)return new ii(r+7,""+(l+7));let f=this.extractNumericValueFromBitArray(r,8),d;switch(f){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new K}return new ii(r+8,d)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,5);if(o>=5&&o<16)return!0;if(r+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(r,6);return l>=16&&l<63}decodeAlphanumeric(r){let o=this.extractNumericValueFromBitArray(r,5);if(o===15)return new ii(r+5,ii.FNC1);if(o>=5&&o<15)return new ii(r+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(r,6);if(l>=32&&l<58)return new ii(r+6,""+(l+33));let f;switch(l){case 58:f="*";break;case 59:f=",";break;case 60:f="-";break;case 61:f=".";break;case 62:f="/";break;default:throw new oi("Decoding invalid alphanumeric value: "+l)}return new ii(r+6,f)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let o=0;o<5&&o+r<this.information.getSize();++o)if(o===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+o))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let o=r;o<r+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let o=0;o<4&&o+r<this.information.getSize();++o)if(this.information.get(r+o))return!1;return!0}}class On{constructor(r){this.information=r,this.generalDecoder=new bi(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Ve extends On{constructor(r){super(r)}encodeCompressedGtin(r,o){r.append("(01)");let l=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,o,l)}encodeCompressedGtinWithoutAI(r,o,l){for(let f=0;f<4;++f){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*f,10);d/100===0&&r.append("0"),d/10===0&&r.append("0"),r.append(d)}Ve.appendCheckDigit(r,l)}static appendCheckDigit(r,o){let l=0;for(let f=0;f<13;f++){let d=r.charAt(f+o).charCodeAt(0)-48;l+=(f&1)===0?3*d:d}l=10-l%10,l===10&&(l=0),r.append(l)}}Ve.GTIN_SIZE=40;class Zi extends Ve{constructor(r){super(r)}parseInformation(){let r=new jt;r.append("(01)");let o=r.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(Zi.HEADER_SIZE,4);return r.append(l),this.encodeCompressedGtinWithoutAI(r,Zi.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(r,Zi.HEADER_SIZE+44)}}Zi.HEADER_SIZE=4;class $s extends On{constructor(r){super(r)}parseInformation(){let r=new jt;return this.getGeneralDecoder().decodeAllCodes(r,$s.HEADER_SIZE)}}$s.HEADER_SIZE=5;class Wo extends Ve{constructor(r){super(r)}encodeCompressedWeight(r,o,l){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(o,l);this.addWeightCode(r,f);let d=this.checkWeight(f),m=1e5;for(let x=0;x<5;++x)d/m===0&&r.append("0"),m/=10;r.append(d)}}class mr extends Wo{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=mr.HEADER_SIZE+Wo.GTIN_SIZE+mr.WEIGHT_SIZE)throw new H;let r=new jt;return this.encodeCompressedGtin(r,mr.HEADER_SIZE),this.encodeCompressedWeight(r,mr.HEADER_SIZE+Wo.GTIN_SIZE,mr.WEIGHT_SIZE),r.toString()}}mr.HEADER_SIZE=5,mr.WEIGHT_SIZE=15;class Yu extends mr{constructor(r){super(r)}addWeightCode(r,o){r.append("(3103)")}checkWeight(r){return r}}class eo extends mr{constructor(r){super(r)}addWeightCode(r,o){o<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}class Li extends Ve{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<Li.HEADER_SIZE+Ve.GTIN_SIZE)throw new H;let r=new jt;this.encodeCompressedGtin(r,Li.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Li.HEADER_SIZE+Ve.GTIN_SIZE,Li.LAST_DIGIT_SIZE);r.append("(392"),r.append(o),r.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(Li.HEADER_SIZE+Ve.GTIN_SIZE+Li.LAST_DIGIT_SIZE,null);return r.append(l.getNewString()),r.toString()}}Li.HEADER_SIZE=8,Li.LAST_DIGIT_SIZE=2;class wn extends Ve{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<wn.HEADER_SIZE+Ve.GTIN_SIZE)throw new H;let r=new jt;this.encodeCompressedGtin(r,wn.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(wn.HEADER_SIZE+Ve.GTIN_SIZE,wn.LAST_DIGIT_SIZE);r.append("(393"),r.append(o),r.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(wn.HEADER_SIZE+Ve.GTIN_SIZE+wn.LAST_DIGIT_SIZE,wn.FIRST_THREE_DIGITS_SIZE);l/100==0&&r.append("0"),l/10==0&&r.append("0"),r.append(l);let f=this.getGeneralDecoder().decodeGeneralPurposeField(wn.HEADER_SIZE+Ve.GTIN_SIZE+wn.LAST_DIGIT_SIZE+wn.FIRST_THREE_DIGITS_SIZE,null);return r.append(f.getNewString()),r.toString()}}wn.HEADER_SIZE=8,wn.LAST_DIGIT_SIZE=2,wn.FIRST_THREE_DIGITS_SIZE=10;class Be extends Wo{constructor(r,o,l){super(r),this.dateCode=l,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=Be.HEADER_SIZE+Be.GTIN_SIZE+Be.WEIGHT_SIZE+Be.DATE_SIZE)throw new H;let r=new jt;return this.encodeCompressedGtin(r,Be.HEADER_SIZE),this.encodeCompressedWeight(r,Be.HEADER_SIZE+Be.GTIN_SIZE,Be.WEIGHT_SIZE),this.encodeCompressedDate(r,Be.HEADER_SIZE+Be.GTIN_SIZE+Be.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(o,Be.DATE_SIZE);if(l==38400)return;r.append("("),r.append(this.dateCode),r.append(")");let f=l%32;l/=32;let d=l%12+1;l/=12;let m=l;m/10==0&&r.append("0"),r.append(m),d/10==0&&r.append("0"),r.append(d),f/10==0&&r.append("0"),r.append(f)}addWeightCode(r,o){r.append("("),r.append(this.firstAIdigits),r.append(o/1e5),r.append(")")}checkWeight(r){return r%1e5}}Be.HEADER_SIZE=8,Be.WEIGHT_SIZE=20,Be.DATE_SIZE=16;function ta(O){try{if(O.get(1))return new Zi(O);if(!O.get(2))return new $s(O);switch(bi.extractNumericValueFromBitArray(O,1,4)){case 4:return new Yu(O);case 5:return new eo(O)}switch(bi.extractNumericValueFromBitArray(O,1,5)){case 12:return new Li(O);case 13:return new wn(O)}switch(bi.extractNumericValueFromBitArray(O,1,7)){case 56:return new Be(O,"310","11");case 57:return new Be(O,"320","11");case 58:return new Be(O,"310","13");case 59:return new Be(O,"320","13");case 60:return new Be(O,"310","15");case 61:return new Be(O,"320","15");case 62:return new Be(O,"310","17");case 63:return new Be(O,"320","17")}}catch(r){throw console.log(r),new oi("unknown decoder: "+O)}}class Ei{constructor(r,o,l,f){this.leftchar=r,this.rightchar=o,this.finderpattern=l,this.maybeLast=f}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,o){return r instanceof Ei?Ei.equalsOrNull(r.leftchar,o.leftchar)&&Ei.equalsOrNull(r.rightchar,o.rightchar)&&Ei.equalsOrNull(r.finderpattern,o.finderpattern):!1}static equalsOrNull(r,o){return r===null?o===null:Ei.equals(r,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class bn{constructor(r,o,l){this.pairs=r,this.rowNumber=o,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,o){return r instanceof bn?this.checkEqualitity(r,o)&&r.wasReversed===o.wasReversed:!1}checkEqualitity(r,o){if(!r||!o)return;let l;return r.forEach((f,d)=>{o.forEach(m=>{f.getLeftChar().getValue()===m.getLeftChar().getValue()&&f.getRightChar().getValue()===m.getRightChar().getValue()&&f.getFinderPatter().getValue()===m.getFinderPatter().getValue()&&(l=!0)})}),l}}class xt extends Kn{constructor(r){super(...arguments),this.pairs=new Array(xt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,o,l){this.pairs.length=0,this.startFromEven=!1;try{return xt.constructResult(this.decodeRow2pairs(r,o))}catch(f){this.verbose&&console.log(f)}return this.pairs.length=0,this.startFromEven=!0,xt.constructResult(this.decodeRow2pairs(r,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,o){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,r))}catch(d){if(d instanceof H){if(!this.pairs.length)throw new H;l=!0}}if(this.checkChecksum())return this.pairs;let f;if(this.rows.length?f=!0:f=!1,this.storeRow(r,!1),f){let d=this.checkRowsBoolean(!1);if(d!=null||(d=this.checkRowsBoolean(!0),d!=null))return d}throw new H}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return r&&(this.rows=this.rows.reverse()),o}checkRows(r,o){for(let l=o;l<this.rows.length;l++){let f=this.rows[l];this.pairs.length=0;for(let m of r)this.pairs.push(m.getPairs());if(this.pairs.push(f.getPairs()),!xt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(r);d.push(f);try{return this.checkRows(d,l+1)}catch(m){this.verbose&&console.log(m)}}throw new H}static isValidSequence(r){for(let o of xt.FINDER_PATTERN_SEQUENCES){if(r.length>o.length)continue;let l=!0;for(let f=0;f<r.length;f++)if(r[f].getFinderPattern().getValue()!=o[f]){l=!1;break}if(l)return!0}return!1}storeRow(r,o){let l=0,f=!1,d=!1;for(;l<this.rows.length;){let m=this.rows[l];if(m.getRowNumber()>r){d=m.isEquivalent(this.pairs);break}f=m.isEquivalent(this.pairs),l++}d||f||xt.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new bn(this.pairs,r,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,o){for(let l of o)if(l.getPairs().length!==r.length){for(let f of l.getPairs())for(let d of r)if(Ei.equals(f,d))break}}static isPartialRow(r,o){for(let l of o){let f=!0;for(let d of r){let m=!1;for(let x of l.getPairs())if(d.equals(x)){m=!0;break}if(!m){f=!1;break}}if(f)return!0}return!1}getRows(){return this.rows}static constructResult(r){let o=ju.buildBitArray(r),f=ta(o).parseInformation(),d=r[0].getFinderPattern().getResultPoints(),m=r[r.length-1].getFinderPattern().getResultPoints(),x=[d[0],d[1],m[0],m[1]];return new It(f,null,null,x,Ct.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),o=r.getLeftChar(),l=r.getRightChar();if(l==null)return!1;let f=l.getChecksumPortion(),d=2;for(let x=1;x<this.pairs.size();++x){let E=this.pairs.get(x);f+=E.getLeftChar().getChecksumPortion(),d++;let v=E.getRightChar();v!=null&&(f+=v.getChecksumPortion(),d++)}return f%=211,211*(d-4)+f==o.getValue()}static getNextSecondBar(r,o){let l;return r.get(o)?(l=r.getNextUnset(o),l=r.getNextSet(l)):(l=r.getNextSet(o),l=r.getNextUnset(l)),l}retrieveNextPair(r,o,l){let f=o.length%2==0;this.startFromEven&&(f=!f);let d,m=!0,x=-1;do this.findNextPair(r,o,x),d=this.parseFoundFinderPattern(r,l,f),d==null?x=xt.getNextSecondBar(r,this.startEnd[0]):m=!1;while(m);let E=this.decodeDataCharacter(r,d,f,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new H;let v;try{v=this.decodeDataCharacter(r,d,f,!1)}catch(N){v=null,this.verbose&&console.log(N)}return new Ei(E,v,d,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,o,l){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=r.getSize(),m;l>=0?m=l:this.isEmptyPair(o)?m=0:m=o[o.length-1].getFinderPattern().getStartEnd()[1];let x=o.length%2!=0;this.startFromEven&&(x=!x);let E=!1;for(;m<d&&(E=!r.get(m),!!E);)m++;let v=0,N=m;for(let R=m;R<d;R++)if(r.get(R)!=E)f[v]++;else{if(v==3){if(x&&xt.reverseCounters(f),xt.isFinderPattern(f)){this.startEnd[0]=N,this.startEnd[1]=R;return}x&&xt.reverseCounters(f),N+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,v--}else v++;f[v]=1,E=!E}throw new H}static reverseCounters(r){let o=r.length;for(let l=0;l<o/2;++l){let f=r[l];r[l]=r[o-l-1],r[o-l-1]=f}}parseFoundFinderPattern(r,o,l){let f,d,m;if(l){let v=this.startEnd[0]-1;for(;v>=0&&!r.get(v);)v--;v++,f=this.startEnd[0]-v,d=v,m=this.startEnd[1]}else d=this.startEnd[0],m=r.getNextUnset(this.startEnd[1]+1),f=m-this.startEnd[1];let x=this.getDecodeFinderCounters();L.arraycopy(x,0,x,1,x.length-1),x[0]=f;let E;try{E=this.parseFinderValue(x,xt.FINDER_PATTERNS)}catch{return null}return new qr(E,[d,m],d,m,o)}decodeDataCharacter(r,o,l,f){let d=this.getDataCharacterCounters();for(let ke=0;ke<d.length;ke++)d[ke]=0;if(f)xt.recordPatternInReverse(r,o.getStartEnd()[0],d);else{xt.recordPattern(r,o.getStartEnd()[1],d);for(let ke=0,Jn=d.length-1;ke<Jn;ke++,Jn--){let Ti=d[ke];d[ke]=d[Jn],d[Jn]=Ti}}let m=17,x=ge.sum(new Int32Array(d))/m,E=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(x-E)/E>.3)throw new H;let v=this.getOddCounts(),N=this.getEvenCounts(),R=this.getOddRoundingErrors(),B=this.getEvenRoundingErrors();for(let ke=0;ke<d.length;ke++){let Jn=1*d[ke]/x,Ti=Jn+.5;if(Ti<1){if(Jn<.3)throw new H;Ti=1}else if(Ti>8){if(Jn>8.7)throw new H;Ti=8}let ha=ke/2;(ke&1)==0?(v[ha]=Ti,R[ha]=Jn-Ti):(N[ha]=Ti,B[ha]=Jn-Ti)}this.adjustOddEvenCounts(m);let k=4*o.getValue()+(l?0:2)+(f?0:1)-1,j=0,X=0;for(let ke=v.length-1;ke>=0;ke--){if(xt.isNotA1left(o,l,f)){let Jn=xt.WEIGHTS[k][2*ke];X+=v[ke]*Jn}j+=v[ke]}let et=0;for(let ke=N.length-1;ke>=0;ke--)if(xt.isNotA1left(o,l,f)){let Jn=xt.WEIGHTS[k][2*ke+1];et+=N[ke]*Jn}let ct=X+et;if((j&1)!=0||j>13||j<4)throw new H;let St=(13-j)/2,bt=xt.SYMBOL_WIDEST[St],At=9-bt,le=gr.getRSSvalue(v,bt,!0),te=gr.getRSSvalue(N,At,!1),En=xt.EVEN_TOTAL_SUBSET[St],ki=xt.GSUM[St],ui=le*En+te+ki;return new Wr(ui,ct)}static isNotA1left(r,o,l){return!(r.getValue()==0&&o&&l)}adjustOddEvenCounts(r){let o=ge.sum(new Int32Array(this.getOddCounts())),l=ge.sum(new Int32Array(this.getEvenCounts())),f=!1,d=!1;o>13?d=!0:o<4&&(f=!0);let m=!1,x=!1;l>13?x=!0:l<4&&(m=!0);let E=o+l-r,v=(o&1)==1,N=(l&1)==0;if(E==1)if(v){if(N)throw new H;d=!0}else{if(!N)throw new H;x=!0}else if(E==-1)if(v){if(N)throw new H;f=!0}else{if(!N)throw new H;m=!0}else if(E==0){if(v){if(!N)throw new H;o<l?(f=!0,x=!0):(d=!0,m=!0)}else if(N)throw new H}else throw new H;if(f){if(d)throw new H;xt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&xt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(x)throw new H;xt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&xt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}xt.SYMBOL_WIDEST=[7,5,4,3,1],xt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],xt.GSUM=[0,348,1388,2948,3988],xt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],xt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],xt.FINDER_PAT_A=0,xt.FINDER_PAT_B=1,xt.FINDER_PAT_C=2,xt.FINDER_PAT_D=3,xt.FINDER_PAT_E=4,xt.FINDER_PAT_F=5,xt.FINDER_PATTERN_SEQUENCES=[[xt.FINDER_PAT_A,xt.FINDER_PAT_A],[xt.FINDER_PAT_A,xt.FINDER_PAT_B,xt.FINDER_PAT_B],[xt.FINDER_PAT_A,xt.FINDER_PAT_C,xt.FINDER_PAT_B,xt.FINDER_PAT_D],[xt.FINDER_PAT_A,xt.FINDER_PAT_E,xt.FINDER_PAT_B,xt.FINDER_PAT_D,xt.FINDER_PAT_C],[xt.FINDER_PAT_A,xt.FINDER_PAT_E,xt.FINDER_PAT_B,xt.FINDER_PAT_D,xt.FINDER_PAT_D,xt.FINDER_PAT_F],[xt.FINDER_PAT_A,xt.FINDER_PAT_E,xt.FINDER_PAT_B,xt.FINDER_PAT_D,xt.FINDER_PAT_E,xt.FINDER_PAT_F,xt.FINDER_PAT_F],[xt.FINDER_PAT_A,xt.FINDER_PAT_A,xt.FINDER_PAT_B,xt.FINDER_PAT_B,xt.FINDER_PAT_C,xt.FINDER_PAT_C,xt.FINDER_PAT_D,xt.FINDER_PAT_D],[xt.FINDER_PAT_A,xt.FINDER_PAT_A,xt.FINDER_PAT_B,xt.FINDER_PAT_B,xt.FINDER_PAT_C,xt.FINDER_PAT_C,xt.FINDER_PAT_D,xt.FINDER_PAT_E,xt.FINDER_PAT_E],[xt.FINDER_PAT_A,xt.FINDER_PAT_A,xt.FINDER_PAT_B,xt.FINDER_PAT_B,xt.FINDER_PAT_C,xt.FINDER_PAT_C,xt.FINDER_PAT_D,xt.FINDER_PAT_E,xt.FINDER_PAT_F,xt.FINDER_PAT_F],[xt.FINDER_PAT_A,xt.FINDER_PAT_A,xt.FINDER_PAT_B,xt.FINDER_PAT_B,xt.FINDER_PAT_C,xt.FINDER_PAT_D,xt.FINDER_PAT_D,xt.FINDER_PAT_E,xt.FINDER_PAT_E,xt.FINDER_PAT_F,xt.FINDER_PAT_F]],xt.MAX_PAIRS=11;class Xu extends Wr{constructor(r,o,l){super(r,o),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Pe extends Kn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,o,l){const f=this.decodePair(o,!1,r,l);Pe.addOrTally(this.possibleLeftPairs,f),o.reverse();let d=this.decodePair(o,!0,r,l);Pe.addOrTally(this.possibleRightPairs,d),o.reverse();for(let m of this.possibleLeftPairs)if(m.getCount()>1){for(let x of this.possibleRightPairs)if(x.getCount()>1&&Pe.checkChecksum(m,x))return Pe.constructResult(m,x)}throw new H}static addOrTally(r,o){if(o==null)return;let l=!1;for(let f of r)if(f.getValue()===o.getValue()){f.incrementCount(),l=!0;break}l||r.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,o){let l=4537077*r.getValue()+o.getValue(),f=new String(l).toString(),d=new jt;for(let v=13-f.length;v>0;v--)d.append("0");d.append(f);let m=0;for(let v=0;v<13;v++){let N=d.charAt(v).charCodeAt(0)-48;m+=(v&1)===0?3*N:N}m=10-m%10,m===10&&(m=0),d.append(m.toString());let x=r.getFinderPattern().getResultPoints(),E=o.getFinderPattern().getResultPoints();return new It(d.toString(),null,0,[x[0],x[1],E[0],E[1]],Ct.RSS_14,new Date().getTime())}static checkChecksum(r,o){let l=(r.getChecksumPortion()+16*o.getChecksumPortion())%79,f=9*r.getFinderPattern().getValue()+o.getFinderPattern().getValue();return f>72&&f--,f>8&&f--,l===f}decodePair(r,o,l,f){try{let d=this.findFinderPattern(r,o),m=this.parseFoundFinderPattern(r,l,o,d),x=f==null?null:f.get(dt.NEED_RESULT_POINT_CALLBACK);if(x!=null){let N=(d[0]+d[1])/2;o&&(N=r.getSize()-1-N),x.foundPossibleResultPoint(new Ft(N,l))}let E=this.decodeDataCharacter(r,m,!0),v=this.decodeDataCharacter(r,m,!1);return new Xu(1597*E.getValue()+v.getValue(),E.getChecksumPortion()+4*v.getChecksumPortion(),m)}catch{return null}}decodeDataCharacter(r,o,l){let f=this.getDataCharacterCounters();for(let et=0;et<f.length;et++)f[et]=0;if(l)tn.recordPatternInReverse(r,o.getStartEnd()[0],f);else{tn.recordPattern(r,o.getStartEnd()[1]+1,f);for(let et=0,ct=f.length-1;et<ct;et++,ct--){let St=f[et];f[et]=f[ct],f[ct]=St}}let d=l?16:15,m=ge.sum(new Int32Array(f))/d,x=this.getOddCounts(),E=this.getEvenCounts(),v=this.getOddRoundingErrors(),N=this.getEvenRoundingErrors();for(let et=0;et<f.length;et++){let ct=f[et]/m,St=Math.floor(ct+.5);St<1?St=1:St>8&&(St=8);let bt=Math.floor(et/2);(et&1)===0?(x[bt]=St,v[bt]=ct-St):(E[bt]=St,N[bt]=ct-St)}this.adjustOddEvenCounts(l,d);let R=0,B=0;for(let et=x.length-1;et>=0;et--)B*=9,B+=x[et],R+=x[et];let k=0,j=0;for(let et=E.length-1;et>=0;et--)k*=9,k+=E[et],j+=E[et];let X=B+3*k;if(l){if((R&1)!==0||R>12||R<4)throw new H;let et=(12-R)/2,ct=Pe.OUTSIDE_ODD_WIDEST[et],St=9-ct,bt=gr.getRSSvalue(x,ct,!1),At=gr.getRSSvalue(E,St,!0),le=Pe.OUTSIDE_EVEN_TOTAL_SUBSET[et],te=Pe.OUTSIDE_GSUM[et];return new Wr(bt*le+At+te,X)}else{if((j&1)!==0||j>10||j<4)throw new H;let et=(10-j)/2,ct=Pe.INSIDE_ODD_WIDEST[et],St=9-ct,bt=gr.getRSSvalue(x,ct,!0),At=gr.getRSSvalue(E,St,!1),le=Pe.INSIDE_ODD_TOTAL_SUBSET[et],te=Pe.INSIDE_GSUM[et];return new Wr(At*le+bt+te,X)}}findFinderPattern(r,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let f=r.getSize(),d=!1,m=0;for(;m<f&&(d=!r.get(m),o!==d);)m++;let x=0,E=m;for(let v=m;v<f;v++)if(r.get(v)!==d)l[x]++;else{if(x===3){if(Kn.isFinderPattern(l))return[E,v];E+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,x--}else x++;l[x]=1,d=!d}throw new H}parseFoundFinderPattern(r,o,l,f){let d=r.get(f[0]),m=f[0]-1;for(;m>=0&&d!==r.get(m);)m--;m++;const x=f[0]-m,E=this.getDecodeFinderCounters(),v=new Int32Array(E.length);L.arraycopy(E,0,v,1,E.length-1),v[0]=x;const N=this.parseFinderValue(v,Pe.FINDER_PATTERNS);let R=m,B=f[1];return l&&(R=r.getSize()-1-R,B=r.getSize()-1-B),new qr(N,[m,f[1]],R,B,o)}adjustOddEvenCounts(r,o){let l=ge.sum(new Int32Array(this.getOddCounts())),f=ge.sum(new Int32Array(this.getEvenCounts())),d=!1,m=!1,x=!1,E=!1;r?(l>12?m=!0:l<4&&(d=!0),f>12?E=!0:f<4&&(x=!0)):(l>11?m=!0:l<5&&(d=!0),f>10?E=!0:f<4&&(x=!0));let v=l+f-o,N=(l&1)===(r?1:0),R=(f&1)===1;if(v===1)if(N){if(R)throw new H;m=!0}else{if(!R)throw new H;E=!0}else if(v===-1)if(N){if(R)throw new H;d=!0}else{if(!R)throw new H;x=!0}else if(v===0){if(N){if(!R)throw new H;l<f?(d=!0,E=!0):(m=!0,x=!0)}else if(R)throw new H}else throw new H;if(d){if(m)throw new H;Kn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(m&&Kn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(E)throw new H;Kn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&Kn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Pe.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Pe.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Pe.OUTSIDE_GSUM=[0,161,961,2015,2715],Pe.INSIDE_GSUM=[0,336,1036,1516],Pe.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Pe.INSIDE_ODD_WIDEST=[2,4,6,8],Pe.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ki extends tn{constructor(r,o){super(),this.readers=[],this.verbose=o===!0;const l=r?r.get(dt.POSSIBLE_FORMATS):null,f=r&&r.get(dt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(Ct.EAN_13)||l.includes(Ct.UPC_A)||l.includes(Ct.EAN_8)||l.includes(Ct.UPC_E))&&this.readers.push(new hc(r)),l.includes(Ct.CODE_39)&&this.readers.push(new Ye(f)),l.includes(Ct.CODE_128)&&this.readers.push(new Tt),l.includes(Ct.ITF)&&this.readers.push(new se),l.includes(Ct.RSS_14)&&this.readers.push(new Pe),l.includes(Ct.RSS_EXPANDED)&&this.readers.push(new xt(this.verbose))):(this.readers.push(new hc(r)),this.readers.push(new Ye),this.readers.push(new hc(r)),this.readers.push(new Tt),this.readers.push(new se),this.readers.push(new Pe),this.readers.push(new xt(this.verbose)))}decodeRow(r,o,l){for(let f=0;f<this.readers.length;f++)try{return this.readers[f].decodeRow(r,o,l)}catch{}throw new H}reset(){this.readers.forEach(r=>r.reset())}}class m0 extends vt{constructor(r=500,o){super(new Ki(o),r,o)}}class Ie{constructor(r,o,l){this.ecCodewords=r,this.ecBlocks=[o],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ne{constructor(r,o){this.count=r,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class me{constructor(r,o,l,f,d,m){this.versionNumber=r,this.symbolSizeRows=o,this.symbolSizeColumns=l,this.dataRegionSizeRows=f,this.dataRegionSizeColumns=d,this.ecBlocks=m;let x=0;const E=m.getECCodewords(),v=m.getECBlocks();for(let N of v)x+=N.getCount()*(N.getDataCodewords()+E);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,o){if((r&1)!==0||(o&1)!==0)throw new K;for(let l of me.VERSIONS)if(l.symbolSizeRows===r&&l.symbolSizeColumns===o)return l;throw new K}toString(){return""+this.versionNumber}static buildVersions(){return[new me(1,10,10,8,8,new Ie(5,new Ne(1,3))),new me(2,12,12,10,10,new Ie(7,new Ne(1,5))),new me(3,14,14,12,12,new Ie(10,new Ne(1,8))),new me(4,16,16,14,14,new Ie(12,new Ne(1,12))),new me(5,18,18,16,16,new Ie(14,new Ne(1,18))),new me(6,20,20,18,18,new Ie(18,new Ne(1,22))),new me(7,22,22,20,20,new Ie(20,new Ne(1,30))),new me(8,24,24,22,22,new Ie(24,new Ne(1,36))),new me(9,26,26,24,24,new Ie(28,new Ne(1,44))),new me(10,32,32,14,14,new Ie(36,new Ne(1,62))),new me(11,36,36,16,16,new Ie(42,new Ne(1,86))),new me(12,40,40,18,18,new Ie(48,new Ne(1,114))),new me(13,44,44,20,20,new Ie(56,new Ne(1,144))),new me(14,48,48,22,22,new Ie(68,new Ne(1,174))),new me(15,52,52,24,24,new Ie(42,new Ne(2,102))),new me(16,64,64,14,14,new Ie(56,new Ne(2,140))),new me(17,72,72,16,16,new Ie(36,new Ne(4,92))),new me(18,80,80,18,18,new Ie(48,new Ne(4,114))),new me(19,88,88,20,20,new Ie(56,new Ne(4,144))),new me(20,96,96,22,22,new Ie(68,new Ne(4,174))),new me(21,104,104,24,24,new Ie(56,new Ne(6,136))),new me(22,120,120,18,18,new Ie(68,new Ne(6,175))),new me(23,132,132,20,20,new Ie(62,new Ne(8,163))),new me(24,144,144,22,22,new Ie(62,new Ne(8,156),new Ne(2,155))),new me(25,8,18,6,16,new Ie(7,new Ne(1,5))),new me(26,8,32,6,14,new Ie(11,new Ne(1,10))),new me(27,12,26,10,24,new Ie(14,new Ne(1,16))),new me(28,12,36,10,16,new Ie(18,new Ne(1,22))),new me(29,16,36,14,16,new Ie(24,new Ne(1,32))),new me(30,16,48,14,22,new Ie(28,new Ne(1,49)))]}}me.VERSIONS=me.buildVersions();class ea{constructor(r){const o=r.getHeight();if(o<8||o>144||(o&1)!==0)throw new K;this.version=ea.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new qt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){const o=r.getHeight(),l=r.getWidth();return me.getVersionForDimensions(o,l)}readCodewords(){const r=new Int8Array(this.version.getTotalCodewords());let o=0,l=4,f=0;const d=this.mappingBitMatrix.getHeight(),m=this.mappingBitMatrix.getWidth();let x=!1,E=!1,v=!1,N=!1;do if(l===d&&f===0&&!x)r[o++]=this.readCorner1(d,m)&255,l-=2,f+=2,x=!0;else if(l===d-2&&f===0&&(m&3)!==0&&!E)r[o++]=this.readCorner2(d,m)&255,l-=2,f+=2,E=!0;else if(l===d+4&&f===2&&(m&7)===0&&!v)r[o++]=this.readCorner3(d,m)&255,l-=2,f+=2,v=!0;else if(l===d-2&&f===0&&(m&7)===4&&!N)r[o++]=this.readCorner4(d,m)&255,l-=2,f+=2,N=!0;else{do l<d&&f>=0&&!this.readMappingMatrix.get(f,l)&&(r[o++]=this.readUtah(l,f,d,m)&255),l-=2,f+=2;while(l>=0&&f<m);l+=1,f+=3;do l>=0&&f<m&&!this.readMappingMatrix.get(f,l)&&(r[o++]=this.readUtah(l,f,d,m)&255),l+=2,f-=2;while(l<d&&f>=0);l+=3,f+=1}while(l<d||f<m);if(o!==this.version.getTotalCodewords())throw new K;return r}readModule(r,o,l,f){return r<0&&(r+=l,o+=4-(l+4&7)),o<0&&(o+=f,r+=4-(f+4&7)),this.readMappingMatrix.set(o,r),this.mappingBitMatrix.get(o,r)}readUtah(r,o,l,f){let d=0;return this.readModule(r-2,o-2,l,f)&&(d|=1),d<<=1,this.readModule(r-2,o-1,l,f)&&(d|=1),d<<=1,this.readModule(r-1,o-2,l,f)&&(d|=1),d<<=1,this.readModule(r-1,o-1,l,f)&&(d|=1),d<<=1,this.readModule(r-1,o,l,f)&&(d|=1),d<<=1,this.readModule(r,o-2,l,f)&&(d|=1),d<<=1,this.readModule(r,o-1,l,f)&&(d|=1),d<<=1,this.readModule(r,o,l,f)&&(d|=1),d}readCorner1(r,o){let l=0;return this.readModule(r-1,0,r,o)&&(l|=1),l<<=1,this.readModule(r-1,1,r,o)&&(l|=1),l<<=1,this.readModule(r-1,2,r,o)&&(l|=1),l<<=1,this.readModule(0,o-2,r,o)&&(l|=1),l<<=1,this.readModule(0,o-1,r,o)&&(l|=1),l<<=1,this.readModule(1,o-1,r,o)&&(l|=1),l<<=1,this.readModule(2,o-1,r,o)&&(l|=1),l<<=1,this.readModule(3,o-1,r,o)&&(l|=1),l}readCorner2(r,o){let l=0;return this.readModule(r-3,0,r,o)&&(l|=1),l<<=1,this.readModule(r-2,0,r,o)&&(l|=1),l<<=1,this.readModule(r-1,0,r,o)&&(l|=1),l<<=1,this.readModule(0,o-4,r,o)&&(l|=1),l<<=1,this.readModule(0,o-3,r,o)&&(l|=1),l<<=1,this.readModule(0,o-2,r,o)&&(l|=1),l<<=1,this.readModule(0,o-1,r,o)&&(l|=1),l<<=1,this.readModule(1,o-1,r,o)&&(l|=1),l}readCorner3(r,o){let l=0;return this.readModule(r-1,0,r,o)&&(l|=1),l<<=1,this.readModule(r-1,o-1,r,o)&&(l|=1),l<<=1,this.readModule(0,o-3,r,o)&&(l|=1),l<<=1,this.readModule(0,o-2,r,o)&&(l|=1),l<<=1,this.readModule(0,o-1,r,o)&&(l|=1),l<<=1,this.readModule(1,o-3,r,o)&&(l|=1),l<<=1,this.readModule(1,o-2,r,o)&&(l|=1),l<<=1,this.readModule(1,o-1,r,o)&&(l|=1),l}readCorner4(r,o){let l=0;return this.readModule(r-3,0,r,o)&&(l|=1),l<<=1,this.readModule(r-2,0,r,o)&&(l|=1),l<<=1,this.readModule(r-1,0,r,o)&&(l|=1),l<<=1,this.readModule(0,o-2,r,o)&&(l|=1),l<<=1,this.readModule(0,o-1,r,o)&&(l|=1),l<<=1,this.readModule(1,o-1,r,o)&&(l|=1),l<<=1,this.readModule(2,o-1,r,o)&&(l|=1),l<<=1,this.readModule(3,o-1,r,o)&&(l|=1),l}extractDataRegion(r){const o=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(r.getHeight()!==o)throw new T("Dimension of bitMatrix must match the version size");const f=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),m=o/f|0,x=l/d|0,E=m*f,v=x*d,N=new qt(v,E);for(let R=0;R<m;++R){const B=R*f;for(let k=0;k<x;++k){const j=k*d;for(let X=0;X<f;++X){const et=R*(f+2)+1+X,ct=B+X;for(let St=0;St<d;++St){const bt=k*(d+2)+1+St;if(r.get(bt,et)){const At=j+St;N.set(At,ct)}}}}}return N}}class na{constructor(r,o){this.numDataCodewords=r,this.codewords=o}static getDataBlocks(r,o){const l=o.getECBlocks();let f=0;const d=l.getECBlocks();for(let X of d)f+=X.getCount();const m=new Array(f);let x=0;for(let X of d)for(let et=0;et<X.getCount();et++){const ct=X.getDataCodewords(),St=l.getECCodewords()+ct;m[x++]=new na(ct,new Uint8Array(St))}const v=m[0].codewords.length-l.getECCodewords(),N=v-1;let R=0;for(let X=0;X<N;X++)for(let et=0;et<x;et++)m[et].codewords[X]=r[R++];const B=o.getVersionNumber()===24,k=B?8:x;for(let X=0;X<k;X++)m[X].codewords[v-1]=r[R++];const j=m[0].codewords.length;for(let X=v;X<j;X++)for(let et=0;et<x;et++){const ct=B?(et+8)%x:et,St=B&&ct>7?X-1:X;m[ct].codewords[St]=r[R++]}if(R!==r.length)throw new T;return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Wi{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new T(""+r);let o=0,l=this.bitOffset,f=this.byteOffset;const d=this.bytes;if(l>0){const m=8-l,x=r<m?r:m,E=m-x,v=255>>8-x<<E;o=(d[f]&v)>>E,r-=x,l+=x,l===8&&(l=0,f++)}if(r>0){for(;r>=8;)o=o<<8|d[f]&255,f++,r-=8;if(r>0){const m=8-r,x=255>>m<<m;o=o<<r|(d[f]&x)>>m,l+=r}}return this.bitOffset=l,this.byteOffset=f,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Me;(function(O){O[O.PAD_ENCODE=0]="PAD_ENCODE",O[O.ASCII_ENCODE=1]="ASCII_ENCODE",O[O.C40_ENCODE=2]="C40_ENCODE",O[O.TEXT_ENCODE=3]="TEXT_ENCODE",O[O.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",O[O.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",O[O.BASE256_ENCODE=6]="BASE256_ENCODE"})(Me||(Me={}));class Br{static decode(r){const o=new Wi(r),l=new jt,f=new jt,d=new Array;let m=Me.ASCII_ENCODE;do if(m===Me.ASCII_ENCODE)m=this.decodeAsciiSegment(o,l,f);else{switch(m){case Me.C40_ENCODE:this.decodeC40Segment(o,l);break;case Me.TEXT_ENCODE:this.decodeTextSegment(o,l);break;case Me.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,l);break;case Me.EDIFACT_ENCODE:this.decodeEdifactSegment(o,l);break;case Me.BASE256_ENCODE:this.decodeBase256Segment(o,l,d);break;default:throw new K}m=Me.ASCII_ENCODE}while(m!==Me.PAD_ENCODE&&o.available()>0);return f.length()>0&&l.append(f.toString()),new Ce(r,l.toString(),d.length===0?null:d,null)}static decodeAsciiSegment(r,o,l){let f=!1;do{let d=r.readBits(8);if(d===0)throw new K;if(d<=128)return f&&(d+=128),o.append(String.fromCharCode(d-1)),Me.ASCII_ENCODE;if(d===129)return Me.PAD_ENCODE;if(d<=229){const m=d-130;m<10&&o.append("0"),o.append(""+m)}else switch(d){case 230:return Me.C40_ENCODE;case 231:return Me.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:f=!0;break;case 236:o.append("[)>05"),l.insert(0,"");break;case 237:o.append("[)>06"),l.insert(0,"");break;case 238:return Me.ANSIX12_ENCODE;case 239:return Me.TEXT_ENCODE;case 240:return Me.EDIFACT_ENCODE;case 241:break;default:if(d!==254||r.available()!==0)throw new K;break}}while(r.available()>0);return Me.ASCII_ENCODE}static decodeC40Segment(r,o){let l=!1;const f=[];let d=0;do{if(r.available()===8)return;const m=r.readBits(8);if(m===254)return;this.parseTwoBytes(m,r.readBits(8),f);for(let x=0;x<3;x++){const E=f[x];switch(d){case 0:if(E<3)d=E+1;else if(E<this.C40_BASIC_SET_CHARS.length){const v=this.C40_BASIC_SET_CHARS[E];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v)}else throw new K;break;case 1:l?(o.append(String.fromCharCode(E+128)),l=!1):o.append(String.fromCharCode(E)),d=0;break;case 2:if(E<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[E];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v)}else switch(E){case 27:o.append("");break;case 30:l=!0;break;default:throw new K}d=0;break;case 3:l?(o.append(String.fromCharCode(E+224)),l=!1):o.append(String.fromCharCode(E+96)),d=0;break;default:throw new K}}}while(r.available()>0)}static decodeTextSegment(r,o){let l=!1,f=[],d=0;do{if(r.available()===8)return;const m=r.readBits(8);if(m===254)return;this.parseTwoBytes(m,r.readBits(8),f);for(let x=0;x<3;x++){const E=f[x];switch(d){case 0:if(E<3)d=E+1;else if(E<this.TEXT_BASIC_SET_CHARS.length){const v=this.TEXT_BASIC_SET_CHARS[E];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v)}else throw new K;break;case 1:l?(o.append(String.fromCharCode(E+128)),l=!1):o.append(String.fromCharCode(E)),d=0;break;case 2:if(E<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[E];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v)}else switch(E){case 27:o.append("");break;case 30:l=!0;break;default:throw new K}d=0;break;case 3:if(E<this.TEXT_SHIFT3_SET_CHARS.length){const v=this.TEXT_SHIFT3_SET_CHARS[E];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v),d=0}else throw new K;break;default:throw new K}}}while(r.available()>0)}static decodeAnsiX12Segment(r,o){const l=[];do{if(r.available()===8)return;const f=r.readBits(8);if(f===254)return;this.parseTwoBytes(f,r.readBits(8),l);for(let d=0;d<3;d++){const m=l[d];switch(m){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(m<14)o.append(String.fromCharCode(m+44));else if(m<40)o.append(String.fromCharCode(m+51));else throw new K;break}}}while(r.available()>0)}static parseTwoBytes(r,o,l){let f=(r<<8)+o-1,d=Math.floor(f/1600);l[0]=d,f-=d*1600,d=Math.floor(f/40),l[1]=d,l[2]=f-d*40}static decodeEdifactSegment(r,o){do{if(r.available()<=16)return;for(let l=0;l<4;l++){let f=r.readBits(6);if(f===31){const d=8-r.getBitOffset();d!==8&&r.readBits(d);return}(f&32)===0&&(f|=64),o.append(String.fromCharCode(f))}}while(r.available()>0)}static decodeBase256Segment(r,o,l){let f=1+r.getByteOffset();const d=this.unrandomize255State(r.readBits(8),f++);let m;if(d===0?m=r.available()/8|0:d<250?m=d:m=250*(d-249)+this.unrandomize255State(r.readBits(8),f++),m<0)throw new K;const x=new Uint8Array(m);for(let E=0;E<m;E++){if(r.available()<8)throw new K;x[E]=this.unrandomize255State(r.readBits(8),f++)}l.push(x);try{o.append(Ot.decode(x,Mt.ISO88591))}catch(E){throw new oi("Platform does not support required encoding: "+E.message)}}static unrandomize255State(r,o){const l=149*o%255+1,f=r-l;return f>=0?f:f+256}}Br.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Br.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Br.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Br.TEXT_SHIFT2_SET_CHARS=Br.C40_SHIFT2_SET_CHARS,Br.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class p0{constructor(){this.rsDecoder=new hr(re.DATA_MATRIX_FIELD_256)}decode(r){const o=new ea(r),l=o.getVersion(),f=o.readCodewords(),d=na.getDataBlocks(f,l);let m=0;for(let v of d)m+=v.getNumDataCodewords();const x=new Uint8Array(m),E=d.length;for(let v=0;v<E;v++){const N=d[v],R=N.getCodewords(),B=N.getNumDataCodewords();this.correctErrors(R,B);for(let k=0;k<B;k++)x[k*E+v]=R[k]}return Br.decode(x)}correctErrors(r,o){const l=new Int32Array(r);try{this.rsDecoder.decode(l,r.length-o)}catch{throw new D}for(let f=0;f<o;f++)r[f]=l[f]}}class rn{constructor(r){this.image=r,this.rectangleDetector=new mn(this.image)}detect(){const r=this.rectangleDetector.detect();let o=this.detectSolid1(r);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new H;o=this.shiftToModuleCenter(o);const l=o[0],f=o[1],d=o[2],m=o[3];let x=this.transitionsBetween(l,m)+1,E=this.transitionsBetween(d,m)+1;(x&1)===1&&(x+=1),(E&1)===1&&(E+=1),4*x<7*E&&4*E<7*x&&(x=E=Math.max(x,E));let v=rn.sampleGrid(this.image,l,f,d,m,x,E);return new Qo(v,[l,f,d,m])}static shiftPoint(r,o,l){let f=(o.getX()-r.getX())/(l+1),d=(o.getY()-r.getY())/(l+1);return new Ft(r.getX()+f,r.getY()+d)}static moveAway(r,o,l){let f=r.getX(),d=r.getY();return f<o?f-=1:f+=1,d<l?d-=1:d+=1,new Ft(f,d)}detectSolid1(r){let o=r[0],l=r[1],f=r[3],d=r[2],m=this.transitionsBetween(o,l),x=this.transitionsBetween(l,f),E=this.transitionsBetween(f,d),v=this.transitionsBetween(d,o),N=m,R=[d,o,l,f];return N>x&&(N=x,R[0]=o,R[1]=l,R[2]=f,R[3]=d),N>E&&(N=E,R[0]=l,R[1]=f,R[2]=d,R[3]=o),N>v&&(R[0]=f,R[1]=d,R[2]=o,R[3]=l),R}detectSolid2(r){let o=r[0],l=r[1],f=r[2],d=r[3],m=this.transitionsBetween(o,d),x=rn.shiftPoint(l,f,(m+1)*4),E=rn.shiftPoint(f,l,(m+1)*4),v=this.transitionsBetween(x,o),N=this.transitionsBetween(E,d);return v<N?(r[0]=o,r[1]=l,r[2]=f,r[3]=d):(r[0]=l,r[1]=f,r[2]=d,r[3]=o),r}correctTopRight(r){let o=r[0],l=r[1],f=r[2],d=r[3],m=this.transitionsBetween(o,d),x=this.transitionsBetween(l,d),E=rn.shiftPoint(o,l,(x+1)*4),v=rn.shiftPoint(f,l,(m+1)*4);m=this.transitionsBetween(E,d),x=this.transitionsBetween(v,d);let N=new Ft(d.getX()+(f.getX()-l.getX())/(m+1),d.getY()+(f.getY()-l.getY())/(m+1)),R=new Ft(d.getX()+(o.getX()-l.getX())/(x+1),d.getY()+(o.getY()-l.getY())/(x+1));if(!this.isValid(N))return this.isValid(R)?R:null;if(!this.isValid(R))return N;let B=this.transitionsBetween(E,N)+this.transitionsBetween(v,N),k=this.transitionsBetween(E,R)+this.transitionsBetween(v,R);return B>k?N:R}shiftToModuleCenter(r){let o=r[0],l=r[1],f=r[2],d=r[3],m=this.transitionsBetween(o,d)+1,x=this.transitionsBetween(f,d)+1,E=rn.shiftPoint(o,l,x*4),v=rn.shiftPoint(f,l,m*4);m=this.transitionsBetween(E,d)+1,x=this.transitionsBetween(v,d)+1,(m&1)===1&&(m+=1),(x&1)===1&&(x+=1);let N=(o.getX()+l.getX()+f.getX()+d.getX())/4,R=(o.getY()+l.getY()+f.getY()+d.getY())/4;o=rn.moveAway(o,N,R),l=rn.moveAway(l,N,R),f=rn.moveAway(f,N,R),d=rn.moveAway(d,N,R);let B,k;return E=rn.shiftPoint(o,l,x*4),E=rn.shiftPoint(E,d,m*4),B=rn.shiftPoint(l,o,x*4),B=rn.shiftPoint(B,f,m*4),v=rn.shiftPoint(f,d,x*4),v=rn.shiftPoint(v,l,m*4),k=rn.shiftPoint(d,f,x*4),k=rn.shiftPoint(k,o,m*4),[E,B,v,k]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,o,l,f,d,m,x){return Qi.getInstance().sampleGrid(r,m,x,.5,.5,m-.5,.5,m-.5,x-.5,.5,x-.5,o.getX(),o.getY(),d.getX(),d.getY(),f.getX(),f.getY(),l.getX(),l.getY())}transitionsBetween(r,o){let l=Math.trunc(r.getX()),f=Math.trunc(r.getY()),d=Math.trunc(o.getX()),m=Math.trunc(o.getY()),x=Math.abs(m-f)>Math.abs(d-l);if(x){let X=l;l=f,f=X,X=d,d=m,m=X}let E=Math.abs(d-l),v=Math.abs(m-f),N=-E/2,R=f<m?1:-1,B=l<d?1:-1,k=0,j=this.image.get(x?f:l,x?l:f);for(let X=l,et=f;X!==d;X+=B){let ct=this.image.get(x?et:X,x?X:et);if(ct!==j&&(k++,j=ct),N+=v,N>0){if(et===m)break;et+=R,N-=E}}return k}}class _r{constructor(){this.decoder=new p0}decode(r,o=null){let l,f;if(o!=null&&o.has(dt.PURE_BARCODE)){const v=_r.extractPureBits(r.getBlackMatrix());l=this.decoder.decode(v),f=_r.NO_POINTS}else{const v=new rn(r.getBlackMatrix()).detect();l=this.decoder.decode(v.getBits()),f=v.getPoints()}const d=l.getRawBytes(),m=new It(l.getText(),d,8*d.length,f,Ct.DATA_MATRIX,L.currentTimeMillis()),x=l.getByteSegments();x!=null&&m.putMetadata(de.BYTE_SEGMENTS,x);const E=l.getECLevel();return E!=null&&m.putMetadata(de.ERROR_CORRECTION_LEVEL,E),m}reset(){}static extractPureBits(r){const o=r.getTopLeftOnBit(),l=r.getBottomRightOnBit();if(o==null||l==null)throw new H;const f=this.moduleSize(o,r);let d=o[1];const m=l[1];let x=o[0];const v=(l[0]-x+1)/f,N=(m-d+1)/f;if(v<=0||N<=0)throw new H;const R=f/2;d+=R,x+=R;const B=new qt(v,N);for(let k=0;k<N;k++){const j=d+k*f;for(let X=0;X<v;X++)r.get(x+X*f,j)&&B.set(X,k)}return B}static moduleSize(r,o){const l=o.getWidth();let f=r[0];const d=r[1];for(;f<l&&o.get(f,d);)f++;if(f===l)throw new H;const m=f-r[0];if(m===0)throw new H;return m}}_r.NO_POINTS=[];class qo extends vt{constructor(r=500){super(new _r,r)}}var ia;(function(O){O[O.L=0]="L",O[O.M=1]="M",O[O.Q=2]="Q",O[O.H=3]="H"})(ia||(ia={}));class ue{constructor(r,o,l){this.value=r,this.stringValue=o,this.bits=l,ue.FOR_BITS.set(l,this),ue.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return ue.L;case"M":return ue.M;case"Q":return ue.Q;case"H":return ue.H;default:throw new C(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof ue))return!1;const o=r;return this.value===o.value}static forBits(r){if(r<0||r>=ue.FOR_BITS.size)throw new T;return ue.FOR_BITS.get(r)}}ue.FOR_BITS=new Map,ue.FOR_VALUE=new Map,ue.L=new ue(ia.L,"L",1),ue.M=new ue(ia.M,"M",0),ue.Q=new ue(ia.Q,"Q",3),ue.H=new ue(ia.H,"H",2);class Un{constructor(r){this.errorCorrectionLevel=ue.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,o){return z.bitCount(r^o)}static decodeFormatInformation(r,o){const l=Un.doDecodeFormatInformation(r,o);return l!==null?l:Un.doDecodeFormatInformation(r^Un.FORMAT_INFO_MASK_QR,o^Un.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,o){let l=Number.MAX_SAFE_INTEGER,f=0;for(const d of Un.FORMAT_INFO_DECODE_LOOKUP){const m=d[0];if(m===r||m===o)return new Un(d[1]);let x=Un.numBitsDiffering(r,m);x<l&&(f=d[1],l=x),r!==o&&(x=Un.numBitsDiffering(o,m),x<l&&(f=d[1],l=x))}return l<=3?new Un(f):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof Un))return!1;const o=r;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}Un.FORMAT_INFO_MASK_QR=21522,Un.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class nt{constructor(r,...o){this.ecCodewordsPerBlock=r,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0;const o=this.ecBlocks;for(const l of o)r+=l.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class U{constructor(r,o){this.count=r,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ht{constructor(r,o,...l){this.versionNumber=r,this.alignmentPatternCenters=o,this.ecBlocks=l;let f=0;const d=l[0].getECCodewordsPerBlock(),m=l[0].getECBlocks();for(const x of m)f+=x.getCount()*(x.getDataCodewords()+d);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new K;try{return this.getVersionForNumber((r-17)/4)}catch{throw new K}}static getVersionForNumber(r){if(r<1||r>40)throw new T;return Ht.VERSIONS[r-1]}static decodeVersionInformation(r){let o=Number.MAX_SAFE_INTEGER,l=0;for(let f=0;f<Ht.VERSION_DECODE_INFO.length;f++){const d=Ht.VERSION_DECODE_INFO[f];if(d===r)return Ht.getVersionForNumber(f+7);const m=Un.numBitsDiffering(r,d);m<o&&(l=f+7,o=m)}return o<=3?Ht.getVersionForNumber(l):null}buildFunctionPattern(){const r=this.getDimensionForVersion(),o=new qt(r);o.setRegion(0,0,9,9),o.setRegion(r-8,0,8,9),o.setRegion(0,r-8,9,8);const l=this.alignmentPatternCenters.length;for(let f=0;f<l;f++){const d=this.alignmentPatternCenters[f]-2;for(let m=0;m<l;m++)f===0&&(m===0||m===l-1)||f===l-1&&m===0||o.setRegion(this.alignmentPatternCenters[m]-2,d,5,5)}return o.setRegion(6,9,1,r-17),o.setRegion(9,6,r-17,1),this.versionNumber>6&&(o.setRegion(r-11,0,3,6),o.setRegion(0,r-11,6,3)),o}toString(){return""+this.versionNumber}}Ht.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ht.VERSIONS=[new Ht(1,new Int32Array(0),new nt(7,new U(1,19)),new nt(10,new U(1,16)),new nt(13,new U(1,13)),new nt(17,new U(1,9))),new Ht(2,Int32Array.from([6,18]),new nt(10,new U(1,34)),new nt(16,new U(1,28)),new nt(22,new U(1,22)),new nt(28,new U(1,16))),new Ht(3,Int32Array.from([6,22]),new nt(15,new U(1,55)),new nt(26,new U(1,44)),new nt(18,new U(2,17)),new nt(22,new U(2,13))),new Ht(4,Int32Array.from([6,26]),new nt(20,new U(1,80)),new nt(18,new U(2,32)),new nt(26,new U(2,24)),new nt(16,new U(4,9))),new Ht(5,Int32Array.from([6,30]),new nt(26,new U(1,108)),new nt(24,new U(2,43)),new nt(18,new U(2,15),new U(2,16)),new nt(22,new U(2,11),new U(2,12))),new Ht(6,Int32Array.from([6,34]),new nt(18,new U(2,68)),new nt(16,new U(4,27)),new nt(24,new U(4,19)),new nt(28,new U(4,15))),new Ht(7,Int32Array.from([6,22,38]),new nt(20,new U(2,78)),new nt(18,new U(4,31)),new nt(18,new U(2,14),new U(4,15)),new nt(26,new U(4,13),new U(1,14))),new Ht(8,Int32Array.from([6,24,42]),new nt(24,new U(2,97)),new nt(22,new U(2,38),new U(2,39)),new nt(22,new U(4,18),new U(2,19)),new nt(26,new U(4,14),new U(2,15))),new Ht(9,Int32Array.from([6,26,46]),new nt(30,new U(2,116)),new nt(22,new U(3,36),new U(2,37)),new nt(20,new U(4,16),new U(4,17)),new nt(24,new U(4,12),new U(4,13))),new Ht(10,Int32Array.from([6,28,50]),new nt(18,new U(2,68),new U(2,69)),new nt(26,new U(4,43),new U(1,44)),new nt(24,new U(6,19),new U(2,20)),new nt(28,new U(6,15),new U(2,16))),new Ht(11,Int32Array.from([6,30,54]),new nt(20,new U(4,81)),new nt(30,new U(1,50),new U(4,51)),new nt(28,new U(4,22),new U(4,23)),new nt(24,new U(3,12),new U(8,13))),new Ht(12,Int32Array.from([6,32,58]),new nt(24,new U(2,92),new U(2,93)),new nt(22,new U(6,36),new U(2,37)),new nt(26,new U(4,20),new U(6,21)),new nt(28,new U(7,14),new U(4,15))),new Ht(13,Int32Array.from([6,34,62]),new nt(26,new U(4,107)),new nt(22,new U(8,37),new U(1,38)),new nt(24,new U(8,20),new U(4,21)),new nt(22,new U(12,11),new U(4,12))),new Ht(14,Int32Array.from([6,26,46,66]),new nt(30,new U(3,115),new U(1,116)),new nt(24,new U(4,40),new U(5,41)),new nt(20,new U(11,16),new U(5,17)),new nt(24,new U(11,12),new U(5,13))),new Ht(15,Int32Array.from([6,26,48,70]),new nt(22,new U(5,87),new U(1,88)),new nt(24,new U(5,41),new U(5,42)),new nt(30,new U(5,24),new U(7,25)),new nt(24,new U(11,12),new U(7,13))),new Ht(16,Int32Array.from([6,26,50,74]),new nt(24,new U(5,98),new U(1,99)),new nt(28,new U(7,45),new U(3,46)),new nt(24,new U(15,19),new U(2,20)),new nt(30,new U(3,15),new U(13,16))),new Ht(17,Int32Array.from([6,30,54,78]),new nt(28,new U(1,107),new U(5,108)),new nt(28,new U(10,46),new U(1,47)),new nt(28,new U(1,22),new U(15,23)),new nt(28,new U(2,14),new U(17,15))),new Ht(18,Int32Array.from([6,30,56,82]),new nt(30,new U(5,120),new U(1,121)),new nt(26,new U(9,43),new U(4,44)),new nt(28,new U(17,22),new U(1,23)),new nt(28,new U(2,14),new U(19,15))),new Ht(19,Int32Array.from([6,30,58,86]),new nt(28,new U(3,113),new U(4,114)),new nt(26,new U(3,44),new U(11,45)),new nt(26,new U(17,21),new U(4,22)),new nt(26,new U(9,13),new U(16,14))),new Ht(20,Int32Array.from([6,34,62,90]),new nt(28,new U(3,107),new U(5,108)),new nt(26,new U(3,41),new U(13,42)),new nt(30,new U(15,24),new U(5,25)),new nt(28,new U(15,15),new U(10,16))),new Ht(21,Int32Array.from([6,28,50,72,94]),new nt(28,new U(4,116),new U(4,117)),new nt(26,new U(17,42)),new nt(28,new U(17,22),new U(6,23)),new nt(30,new U(19,16),new U(6,17))),new Ht(22,Int32Array.from([6,26,50,74,98]),new nt(28,new U(2,111),new U(7,112)),new nt(28,new U(17,46)),new nt(30,new U(7,24),new U(16,25)),new nt(24,new U(34,13))),new Ht(23,Int32Array.from([6,30,54,78,102]),new nt(30,new U(4,121),new U(5,122)),new nt(28,new U(4,47),new U(14,48)),new nt(30,new U(11,24),new U(14,25)),new nt(30,new U(16,15),new U(14,16))),new Ht(24,Int32Array.from([6,28,54,80,106]),new nt(30,new U(6,117),new U(4,118)),new nt(28,new U(6,45),new U(14,46)),new nt(30,new U(11,24),new U(16,25)),new nt(30,new U(30,16),new U(2,17))),new Ht(25,Int32Array.from([6,32,58,84,110]),new nt(26,new U(8,106),new U(4,107)),new nt(28,new U(8,47),new U(13,48)),new nt(30,new U(7,24),new U(22,25)),new nt(30,new U(22,15),new U(13,16))),new Ht(26,Int32Array.from([6,30,58,86,114]),new nt(28,new U(10,114),new U(2,115)),new nt(28,new U(19,46),new U(4,47)),new nt(28,new U(28,22),new U(6,23)),new nt(30,new U(33,16),new U(4,17))),new Ht(27,Int32Array.from([6,34,62,90,118]),new nt(30,new U(8,122),new U(4,123)),new nt(28,new U(22,45),new U(3,46)),new nt(30,new U(8,23),new U(26,24)),new nt(30,new U(12,15),new U(28,16))),new Ht(28,Int32Array.from([6,26,50,74,98,122]),new nt(30,new U(3,117),new U(10,118)),new nt(28,new U(3,45),new U(23,46)),new nt(30,new U(4,24),new U(31,25)),new nt(30,new U(11,15),new U(31,16))),new Ht(29,Int32Array.from([6,30,54,78,102,126]),new nt(30,new U(7,116),new U(7,117)),new nt(28,new U(21,45),new U(7,46)),new nt(30,new U(1,23),new U(37,24)),new nt(30,new U(19,15),new U(26,16))),new Ht(30,Int32Array.from([6,26,52,78,104,130]),new nt(30,new U(5,115),new U(10,116)),new nt(28,new U(19,47),new U(10,48)),new nt(30,new U(15,24),new U(25,25)),new nt(30,new U(23,15),new U(25,16))),new Ht(31,Int32Array.from([6,30,56,82,108,134]),new nt(30,new U(13,115),new U(3,116)),new nt(28,new U(2,46),new U(29,47)),new nt(30,new U(42,24),new U(1,25)),new nt(30,new U(23,15),new U(28,16))),new Ht(32,Int32Array.from([6,34,60,86,112,138]),new nt(30,new U(17,115)),new nt(28,new U(10,46),new U(23,47)),new nt(30,new U(10,24),new U(35,25)),new nt(30,new U(19,15),new U(35,16))),new Ht(33,Int32Array.from([6,30,58,86,114,142]),new nt(30,new U(17,115),new U(1,116)),new nt(28,new U(14,46),new U(21,47)),new nt(30,new U(29,24),new U(19,25)),new nt(30,new U(11,15),new U(46,16))),new Ht(34,Int32Array.from([6,34,62,90,118,146]),new nt(30,new U(13,115),new U(6,116)),new nt(28,new U(14,46),new U(23,47)),new nt(30,new U(44,24),new U(7,25)),new nt(30,new U(59,16),new U(1,17))),new Ht(35,Int32Array.from([6,30,54,78,102,126,150]),new nt(30,new U(12,121),new U(7,122)),new nt(28,new U(12,47),new U(26,48)),new nt(30,new U(39,24),new U(14,25)),new nt(30,new U(22,15),new U(41,16))),new Ht(36,Int32Array.from([6,24,50,76,102,128,154]),new nt(30,new U(6,121),new U(14,122)),new nt(28,new U(6,47),new U(34,48)),new nt(30,new U(46,24),new U(10,25)),new nt(30,new U(2,15),new U(64,16))),new Ht(37,Int32Array.from([6,28,54,80,106,132,158]),new nt(30,new U(17,122),new U(4,123)),new nt(28,new U(29,46),new U(14,47)),new nt(30,new U(49,24),new U(10,25)),new nt(30,new U(24,15),new U(46,16))),new Ht(38,Int32Array.from([6,32,58,84,110,136,162]),new nt(30,new U(4,122),new U(18,123)),new nt(28,new U(13,46),new U(32,47)),new nt(30,new U(48,24),new U(14,25)),new nt(30,new U(42,15),new U(32,16))),new Ht(39,Int32Array.from([6,26,54,82,110,138,166]),new nt(30,new U(20,117),new U(4,118)),new nt(28,new U(40,47),new U(7,48)),new nt(30,new U(43,24),new U(22,25)),new nt(30,new U(10,15),new U(67,16))),new Ht(40,Int32Array.from([6,30,58,86,114,142,170]),new nt(30,new U(19,118),new U(6,119)),new nt(28,new U(18,47),new U(31,48)),new nt(30,new U(34,24),new U(34,25)),new nt(30,new U(20,15),new U(61,16)))];var Rn;(function(O){O[O.DATA_MASK_000=0]="DATA_MASK_000",O[O.DATA_MASK_001=1]="DATA_MASK_001",O[O.DATA_MASK_010=2]="DATA_MASK_010",O[O.DATA_MASK_011=3]="DATA_MASK_011",O[O.DATA_MASK_100=4]="DATA_MASK_100",O[O.DATA_MASK_101=5]="DATA_MASK_101",O[O.DATA_MASK_110=6]="DATA_MASK_110",O[O.DATA_MASK_111=7]="DATA_MASK_111"})(Rn||(Rn={}));class Ci{constructor(r,o){this.value=r,this.isMasked=o}unmaskBitMatrix(r,o){for(let l=0;l<o;l++)for(let f=0;f<o;f++)this.isMasked(l,f)&&r.flip(f,l)}}Ci.values=new Map([[Rn.DATA_MASK_000,new Ci(Rn.DATA_MASK_000,(O,r)=>(O+r&1)===0)],[Rn.DATA_MASK_001,new Ci(Rn.DATA_MASK_001,(O,r)=>(O&1)===0)],[Rn.DATA_MASK_010,new Ci(Rn.DATA_MASK_010,(O,r)=>r%3===0)],[Rn.DATA_MASK_011,new Ci(Rn.DATA_MASK_011,(O,r)=>(O+r)%3===0)],[Rn.DATA_MASK_100,new Ci(Rn.DATA_MASK_100,(O,r)=>(Math.floor(O/2)+Math.floor(r/3)&1)===0)],[Rn.DATA_MASK_101,new Ci(Rn.DATA_MASK_101,(O,r)=>O*r%6===0)],[Rn.DATA_MASK_110,new Ci(Rn.DATA_MASK_110,(O,r)=>O*r%6<3)],[Rn.DATA_MASK_111,new Ci(Rn.DATA_MASK_111,(O,r)=>(O+r+O*r%3&1)===0)]]);class ra{constructor(r){const o=r.getHeight();if(o<21||(o&3)!==1)throw new K;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let d=0;d<6;d++)r=this.copyBit(d,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let d=5;d>=0;d--)r=this.copyBit(8,d,r);const o=this.bitMatrix.getHeight();let l=0;const f=o-7;for(let d=o-1;d>=f;d--)l=this.copyBit(8,d,l);for(let d=o-8;d<o;d++)l=this.copyBit(d,8,l);if(this.parsedFormatInfo=Un.decodeFormatInformation(r,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new K}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const r=this.bitMatrix.getHeight(),o=Math.floor((r-17)/4);if(o<=6)return Ht.getVersionForNumber(o);let l=0;const f=r-11;for(let m=5;m>=0;m--)for(let x=r-9;x>=f;x--)l=this.copyBit(x,m,l);let d=Ht.decodeVersionInformation(l);if(d!==null&&d.getDimensionForVersion()===r)return this.parsedVersion=d,d;l=0;for(let m=5;m>=0;m--)for(let x=r-9;x>=f;x--)l=this.copyBit(m,x,l);if(d=Ht.decodeVersionInformation(l),d!==null&&d.getDimensionForVersion()===r)return this.parsedVersion=d,d;throw new K}copyBit(r,o,l){return(this.isMirror?this.bitMatrix.get(o,r):this.bitMatrix.get(r,o))?l<<1|1:l<<1}readCodewords(){const r=this.readFormatInformation(),o=this.readVersion(),l=Ci.values.get(r.getDataMask()),f=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,f);const d=o.buildFunctionPattern();let m=!0;const x=new Uint8Array(o.getTotalCodewords());let E=0,v=0,N=0;for(let R=f-1;R>0;R-=2){R===6&&R--;for(let B=0;B<f;B++){const k=m?f-1-B:B;for(let j=0;j<2;j++)d.get(R-j,k)||(N++,v<<=1,this.bitMatrix.get(R-j,k)&&(v|=1),N===8&&(x[E++]=v,N=0,v=0))}m=!m}if(E!==o.getTotalCodewords())throw new K;return x}remask(){if(this.parsedFormatInfo===null)return;const r=Ci.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,o)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){const r=this.bitMatrix;for(let o=0,l=r.getWidth();o<l;o++)for(let f=o+1,d=r.getHeight();f<d;f++)r.get(o,f)!==r.get(f,o)&&(r.flip(f,o),r.flip(o,f))}}class dc{constructor(r,o){this.numDataCodewords=r,this.codewords=o}static getDataBlocks(r,o,l){if(r.length!==o.getTotalCodewords())throw new T;const f=o.getECBlocksForLevel(l);let d=0;const m=f.getECBlocks();for(const j of m)d+=j.getCount();const x=new Array(d);let E=0;for(const j of m)for(let X=0;X<j.getCount();X++){const et=j.getDataCodewords(),ct=f.getECCodewordsPerBlock()+et;x[E++]=new dc(et,new Uint8Array(ct))}const v=x[0].codewords.length;let N=x.length-1;for(;N>=0&&x[N].codewords.length!==v;)N--;N++;const R=v-f.getECCodewordsPerBlock();let B=0;for(let j=0;j<R;j++)for(let X=0;X<E;X++)x[X].codewords[j]=r[B++];for(let j=N;j<E;j++)x[j].codewords[R]=r[B++];const k=x[0].codewords.length;for(let j=R;j<k;j++)for(let X=0;X<E;X++){const et=X<N?j:j+1;x[X].codewords[et]=r[B++]}return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Si;(function(O){O[O.TERMINATOR=0]="TERMINATOR",O[O.NUMERIC=1]="NUMERIC",O[O.ALPHANUMERIC=2]="ALPHANUMERIC",O[O.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",O[O.BYTE=4]="BYTE",O[O.ECI=5]="ECI",O[O.KANJI=6]="KANJI",O[O.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",O[O.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",O[O.HANZI=9]="HANZI"})(Si||(Si={}));class Yt{constructor(r,o,l,f){this.value=r,this.stringValue=o,this.characterCountBitsForVersions=l,this.bits=f,Yt.FOR_BITS.set(f,this),Yt.FOR_VALUE.set(r,this)}static forBits(r){const o=Yt.FOR_BITS.get(r);if(o===void 0)throw new T;return o}getCharacterCountBits(r){const o=r.getVersionNumber();let l;return o<=9?l=0:o<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof Yt))return!1;const o=r;return this.value===o.value}toString(){return this.stringValue}}Yt.FOR_BITS=new Map,Yt.FOR_VALUE=new Map,Yt.TERMINATOR=new Yt(Si.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Yt.NUMERIC=new Yt(Si.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Yt.ALPHANUMERIC=new Yt(Si.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Yt.STRUCTURED_APPEND=new Yt(Si.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Yt.BYTE=new Yt(Si.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Yt.ECI=new Yt(Si.ECI,"ECI",Int32Array.from([0,0,0]),7),Yt.KANJI=new Yt(Si.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Yt.FNC1_FIRST_POSITION=new Yt(Si.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Yt.FNC1_SECOND_POSITION=new Yt(Si.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Yt.HANZI=new Yt(Si.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class We{static decode(r,o,l,f){const d=new Wi(r);let m=new jt;const x=new Array;let E=-1,v=-1;try{let N=null,R=!1,B;do{if(d.available()<4)B=Yt.TERMINATOR;else{const k=d.readBits(4);B=Yt.forBits(k)}switch(B){case Yt.TERMINATOR:break;case Yt.FNC1_FIRST_POSITION:case Yt.FNC1_SECOND_POSITION:R=!0;break;case Yt.STRUCTURED_APPEND:if(d.available()<16)throw new K;E=d.readBits(8),v=d.readBits(8);break;case Yt.ECI:const k=We.parseECIValue(d);if(N=at.getCharacterSetECIByValue(k),N===null)throw new K;break;case Yt.HANZI:const j=d.readBits(4),X=d.readBits(B.getCharacterCountBits(o));j===We.GB2312_SUBSET&&We.decodeHanziSegment(d,m,X);break;default:const et=d.readBits(B.getCharacterCountBits(o));switch(B){case Yt.NUMERIC:We.decodeNumericSegment(d,m,et);break;case Yt.ALPHANUMERIC:We.decodeAlphanumericSegment(d,m,et,R);break;case Yt.BYTE:We.decodeByteSegment(d,m,et,N,x,f);break;case Yt.KANJI:We.decodeKanjiSegment(d,m,et);break;default:throw new K}break}}while(B!==Yt.TERMINATOR)}catch{throw new K}return new Ce(r,m.toString(),x.length===0?null:x,l===null?null:l.toString(),E,v)}static decodeHanziSegment(r,o,l){if(l*13>r.available())throw new K;const f=new Uint8Array(2*l);let d=0;for(;l>0;){const m=r.readBits(13);let x=m/96<<8&4294967295|m%96;x<959?x+=41377:x+=42657,f[d]=x>>8&255,f[d+1]=x&255,d+=2,l--}try{o.append(Ot.decode(f,Mt.GB2312))}catch(m){throw new K(m)}}static decodeKanjiSegment(r,o,l){if(l*13>r.available())throw new K;const f=new Uint8Array(2*l);let d=0;for(;l>0;){const m=r.readBits(13);let x=m/192<<8&4294967295|m%192;x<7936?x+=33088:x+=49472,f[d]=x>>8,f[d+1]=x,d+=2,l--}try{o.append(Ot.decode(f,Mt.SHIFT_JIS))}catch(m){throw new K(m)}}static decodeByteSegment(r,o,l,f,d,m){if(8*l>r.available())throw new K;const x=new Uint8Array(l);for(let v=0;v<l;v++)x[v]=r.readBits(8);let E;f===null?E=Mt.guessEncoding(x,m):E=f.getName();try{o.append(Ot.decode(x,E))}catch(v){throw new K(v)}d.push(x)}static toAlphaNumericChar(r){if(r>=We.ALPHANUMERIC_CHARS.length)throw new K;return We.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,o,l,f){const d=o.length();for(;l>1;){if(r.available()<11)throw new K;const m=r.readBits(11);o.append(We.toAlphaNumericChar(Math.floor(m/45))),o.append(We.toAlphaNumericChar(m%45)),l-=2}if(l===1){if(r.available()<6)throw new K;o.append(We.toAlphaNumericChar(r.readBits(6)))}if(f)for(let m=d;m<o.length();m++)o.charAt(m)==="%"&&(m<o.length()-1&&o.charAt(m+1)==="%"?o.deleteCharAt(m+1):o.setCharAt(m,""))}static decodeNumericSegment(r,o,l){for(;l>=3;){if(r.available()<10)throw new K;const f=r.readBits(10);if(f>=1e3)throw new K;o.append(We.toAlphaNumericChar(Math.floor(f/100))),o.append(We.toAlphaNumericChar(Math.floor(f/10)%10)),o.append(We.toAlphaNumericChar(f%10)),l-=3}if(l===2){if(r.available()<7)throw new K;const f=r.readBits(7);if(f>=100)throw new K;o.append(We.toAlphaNumericChar(Math.floor(f/10))),o.append(We.toAlphaNumericChar(f%10))}else if(l===1){if(r.available()<4)throw new K;const f=r.readBits(4);if(f>=10)throw new K;o.append(We.toAlphaNumericChar(f))}}static parseECIValue(r){const o=r.readBits(8);if((o&128)===0)return o&127;if((o&192)===128){const l=r.readBits(8);return(o&63)<<8&4294967295|l}if((o&224)===192){const l=r.readBits(16);return(o&31)<<16&4294967295|l}throw new K}}We.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",We.GB2312_SUBSET=1;class Qu{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;const o=r[0];r[0]=r[2],r[2]=o}}class y0{constructor(){this.rsDecoder=new hr(re.QR_CODE_FIELD_256)}decodeBooleanArray(r,o){return this.decodeBitMatrix(qt.parseFromBooleanArray(r),o)}decodeBitMatrix(r,o){const l=new ra(r);let f=null;try{return this.decodeBitMatrixParser(l,o)}catch(d){f=d}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const d=this.decodeBitMatrixParser(l,o);return d.setOther(new Qu(!0)),d}catch(d){throw f!==null?f:d}}decodeBitMatrixParser(r,o){const l=r.readVersion(),f=r.readFormatInformation().getErrorCorrectionLevel(),d=r.readCodewords(),m=dc.getDataBlocks(d,l,f);let x=0;for(const N of m)x+=N.getNumDataCodewords();const E=new Uint8Array(x);let v=0;for(const N of m){const R=N.getCodewords(),B=N.getNumDataCodewords();this.correctErrors(R,B);for(let k=0;k<B;k++)E[v++]=R[k]}return We.decode(E,l,f,o)}correctErrors(r,o){const l=new Int32Array(r);try{this.rsDecoder.decode(l,r.length-o)}catch{throw new D}for(let f=0;f<o;f++)r[f]=l[f]}}class sa extends Ft{constructor(r,o,l){super(r,o),this.estimatedModuleSize=l}aboutEquals(r,o,l){if(Math.abs(o-this.getY())<=r&&Math.abs(l-this.getX())<=r){const f=Math.abs(r-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(r,o,l){const f=(this.getX()+o)/2,d=(this.getY()+r)/2,m=(this.estimatedModuleSize+l)/2;return new sa(f,d,m)}}class Pi{constructor(r,o,l,f,d,m,x){this.image=r,this.startX=o,this.startY=l,this.width=f,this.height=d,this.moduleSize=m,this.resultPointCallback=x,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const r=this.startX,o=this.height,l=this.width,f=r+l,d=this.startY+o/2,m=new Int32Array(3),x=this.image;for(let E=0;E<o;E++){const v=d+((E&1)===0?Math.floor((E+1)/2):-Math.floor((E+1)/2));m[0]=0,m[1]=0,m[2]=0;let N=r;for(;N<f&&!x.get(N,v);)N++;let R=0;for(;N<f;){if(x.get(N,v))if(R===1)m[1]++;else if(R===2){if(this.foundPatternCross(m)){const B=this.handlePossibleCenter(m,v,N);if(B!==null)return B}m[0]=m[2],m[1]=1,m[2]=0,R=1}else m[++R]++;else R===1&&R++,m[R]++;N++}if(this.foundPatternCross(m)){const B=this.handlePossibleCenter(m,v,f);if(B!==null)return B}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new H}static centerFromEnd(r,o){return o-r[2]-r[1]/2}foundPatternCross(r){const o=this.moduleSize,l=o/2;for(let f=0;f<3;f++)if(Math.abs(o-r[f])>=l)return!1;return!0}crossCheckVertical(r,o,l,f){const d=this.image,m=d.getHeight(),x=this.crossCheckStateCount;x[0]=0,x[1]=0,x[2]=0;let E=r;for(;E>=0&&d.get(o,E)&&x[1]<=l;)x[1]++,E--;if(E<0||x[1]>l)return NaN;for(;E>=0&&!d.get(o,E)&&x[0]<=l;)x[0]++,E--;if(x[0]>l)return NaN;for(E=r+1;E<m&&d.get(o,E)&&x[1]<=l;)x[1]++,E++;if(E===m||x[1]>l)return NaN;for(;E<m&&!d.get(o,E)&&x[2]<=l;)x[2]++,E++;if(x[2]>l)return NaN;const v=x[0]+x[1]+x[2];return 5*Math.abs(v-f)>=2*f?NaN:this.foundPatternCross(x)?Pi.centerFromEnd(x,E):NaN}handlePossibleCenter(r,o,l){const f=r[0]+r[1]+r[2],d=Pi.centerFromEnd(r,l),m=this.crossCheckVertical(o,d,2*r[1],f);if(!isNaN(m)){const x=(r[0]+r[1]+r[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(x,m,d))return v.combineEstimate(m,d,x);const E=new sa(d,m,x);this.possibleCenters.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return null}}class no extends Ft{constructor(r,o,l,f){super(r,o),this.estimatedModuleSize=l,this.count=f,f===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,o,l){if(Math.abs(o-this.getY())<=r&&Math.abs(l-this.getX())<=r){const f=Math.abs(r-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(r,o,l){const f=this.count+1,d=(this.count*this.getX()+o)/f,m=(this.count*this.getY()+r)/f,x=(this.count*this.estimatedModuleSize+l)/f;return new no(d,m,x,f)}}class gc{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class sn{constructor(r,o){this.image=r,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const o=r!=null&&r.get(dt.TRY_HARDER)!==void 0,l=r!=null&&r.get(dt.PURE_BARCODE)!==void 0,f=this.image,d=f.getHeight(),m=f.getWidth();let x=Math.floor(3*d/(4*sn.MAX_MODULES));(x<sn.MIN_SKIP||o)&&(x=sn.MIN_SKIP);let E=!1;const v=new Int32Array(5);for(let R=x-1;R<d&&!E;R+=x){v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0;let B=0;for(let k=0;k<m;k++)if(f.get(k,R))(B&1)===1&&B++,v[B]++;else if((B&1)===0)if(B===4)if(sn.foundPatternCross(v)){if(this.handlePossibleCenter(v,R,k,l)===!0)if(x=2,this.hasSkipped===!0)E=this.haveMultiplyConfirmedCenters();else{const X=this.findRowSkip();X>v[2]&&(R+=X-v[2]-x,k=m-1)}else{v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,B=3;continue}B=0,v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0}else v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,B=3;else v[++B]++;else v[B]++;sn.foundPatternCross(v)&&this.handlePossibleCenter(v,R,m,l)===!0&&(x=v[0],this.hasSkipped&&(E=this.haveMultiplyConfirmedCenters()))}const N=this.selectBestPatterns();return Ft.orderBestPatterns(N),new gc(N)}static centerFromEnd(r,o){return o-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let o=0;for(let d=0;d<5;d++){const m=r[d];if(m===0)return!1;o+=m}if(o<7)return!1;const l=o/7,f=l/2;return Math.abs(l-r[0])<f&&Math.abs(l-r[1])<f&&Math.abs(3*l-r[2])<3*f&&Math.abs(l-r[3])<f&&Math.abs(l-r[4])<f}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,o,l,f){const d=this.getCrossCheckStateCount();let m=0;const x=this.image;for(;r>=m&&o>=m&&x.get(o-m,r-m);)d[2]++,m++;if(r<m||o<m)return!1;for(;r>=m&&o>=m&&!x.get(o-m,r-m)&&d[1]<=l;)d[1]++,m++;if(r<m||o<m||d[1]>l)return!1;for(;r>=m&&o>=m&&x.get(o-m,r-m)&&d[0]<=l;)d[0]++,m++;if(d[0]>l)return!1;const E=x.getHeight(),v=x.getWidth();for(m=1;r+m<E&&o+m<v&&x.get(o+m,r+m);)d[2]++,m++;if(r+m>=E||o+m>=v)return!1;for(;r+m<E&&o+m<v&&!x.get(o+m,r+m)&&d[3]<l;)d[3]++,m++;if(r+m>=E||o+m>=v||d[3]>=l)return!1;for(;r+m<E&&o+m<v&&x.get(o+m,r+m)&&d[4]<l;)d[4]++,m++;if(d[4]>=l)return!1;const N=d[0]+d[1]+d[2]+d[3]+d[4];return Math.abs(N-f)<2*f&&sn.foundPatternCross(d)}crossCheckVertical(r,o,l,f){const d=this.image,m=d.getHeight(),x=this.getCrossCheckStateCount();let E=r;for(;E>=0&&d.get(o,E);)x[2]++,E--;if(E<0)return NaN;for(;E>=0&&!d.get(o,E)&&x[1]<=l;)x[1]++,E--;if(E<0||x[1]>l)return NaN;for(;E>=0&&d.get(o,E)&&x[0]<=l;)x[0]++,E--;if(x[0]>l)return NaN;for(E=r+1;E<m&&d.get(o,E);)x[2]++,E++;if(E===m)return NaN;for(;E<m&&!d.get(o,E)&&x[3]<l;)x[3]++,E++;if(E===m||x[3]>=l)return NaN;for(;E<m&&d.get(o,E)&&x[4]<l;)x[4]++,E++;if(x[4]>=l)return NaN;const v=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(v-f)>=2*f?NaN:sn.foundPatternCross(x)?sn.centerFromEnd(x,E):NaN}crossCheckHorizontal(r,o,l,f){const d=this.image,m=d.getWidth(),x=this.getCrossCheckStateCount();let E=r;for(;E>=0&&d.get(E,o);)x[2]++,E--;if(E<0)return NaN;for(;E>=0&&!d.get(E,o)&&x[1]<=l;)x[1]++,E--;if(E<0||x[1]>l)return NaN;for(;E>=0&&d.get(E,o)&&x[0]<=l;)x[0]++,E--;if(x[0]>l)return NaN;for(E=r+1;E<m&&d.get(E,o);)x[2]++,E++;if(E===m)return NaN;for(;E<m&&!d.get(E,o)&&x[3]<l;)x[3]++,E++;if(E===m||x[3]>=l)return NaN;for(;E<m&&d.get(E,o)&&x[4]<l;)x[4]++,E++;if(x[4]>=l)return NaN;const v=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(v-f)>=f?NaN:sn.foundPatternCross(x)?sn.centerFromEnd(x,E):NaN}handlePossibleCenter(r,o,l,f){const d=r[0]+r[1]+r[2]+r[3]+r[4];let m=sn.centerFromEnd(r,l),x=this.crossCheckVertical(o,Math.floor(m),r[2],d);if(!isNaN(x)&&(m=this.crossCheckHorizontal(Math.floor(m),Math.floor(x),r[2],d),!isNaN(m)&&(!f||this.crossCheckDiagonal(Math.floor(x),Math.floor(m),r[2],d)))){const E=d/7;let v=!1;const N=this.possibleCenters;for(let R=0,B=N.length;R<B;R++){const k=N[R];if(k.aboutEquals(E,x,m)){N[R]=k.combineEstimate(x,m,E),v=!0;break}}if(!v){const R=new no(m,x,E);N.push(R),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(R)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const l of this.possibleCenters)if(l.getCount()>=sn.CENTER_QUORUM)if(o==null)o=l;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-l.getX())-Math.abs(o.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let r=0,o=0;const l=this.possibleCenters.length;for(const m of this.possibleCenters)m.getCount()>=sn.CENTER_QUORUM&&(r++,o+=m.getEstimatedModuleSize());if(r<3)return!1;const f=o/l;let d=0;for(const m of this.possibleCenters)d+=Math.abs(m.getEstimatedModuleSize()-f);return d<=.05*o}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new H;const o=this.possibleCenters;let l;if(r>3){let f=0,d=0;for(const E of this.possibleCenters){const v=E.getEstimatedModuleSize();f+=v,d+=v*v}l=f/r;let m=Math.sqrt(d/r-l*l);o.sort((E,v)=>{const N=Math.abs(v.getEstimatedModuleSize()-l),R=Math.abs(E.getEstimatedModuleSize()-l);return N<R?-1:N>R?1:0});const x=Math.max(.2*l,m);for(let E=0;E<o.length&&o.length>3;E++){const v=o[E];Math.abs(v.getEstimatedModuleSize()-l)>x&&(o.splice(E,1),E--)}}if(o.length>3){let f=0;for(const d of o)f+=d.getEstimatedModuleSize();l=f/o.length,o.sort((d,m)=>{if(m.getCount()===d.getCount()){const x=Math.abs(m.getEstimatedModuleSize()-l),E=Math.abs(d.getEstimatedModuleSize()-l);return x<E?1:x>E?-1:0}else return m.getCount()-d.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}sn.CENTER_QUORUM=2,sn.MIN_SKIP=3,sn.MAX_MODULES=57;class pr{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(dt.NEED_RESULT_POINT_CALLBACK);const l=new sn(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(l)}processFinderPatternInfo(r){const o=r.getTopLeft(),l=r.getTopRight(),f=r.getBottomLeft(),d=this.calculateModuleSize(o,l,f);if(d<1)throw new H("No pattern found in proccess finder.");const m=pr.computeDimension(o,l,f,d),x=Ht.getProvisionalVersionForDimension(m),E=x.getDimensionForVersion()-7;let v=null;if(x.getAlignmentPatternCenters().length>0){const k=l.getX()-o.getX()+f.getX(),j=l.getY()-o.getY()+f.getY(),X=1-3/E,et=Math.floor(o.getX()+X*(k-o.getX())),ct=Math.floor(o.getY()+X*(j-o.getY()));for(let St=4;St<=16;St<<=1)try{v=this.findAlignmentInRegion(d,et,ct,St);break}catch(bt){if(!(bt instanceof H))throw bt}}const N=pr.createTransform(o,l,f,v,m),R=pr.sampleGrid(this.image,N,m);let B;return v===null?B=[f,o,l]:B=[f,o,l,v],new Qo(R,B)}static createTransform(r,o,l,f,d){const m=d-3.5;let x,E,v,N;return f!==null?(x=f.getX(),E=f.getY(),v=m-3,N=v):(x=o.getX()-r.getX()+l.getX(),E=o.getY()-r.getY()+l.getY(),v=m,N=m),_i.quadrilateralToQuadrilateral(3.5,3.5,m,3.5,v,N,3.5,m,r.getX(),r.getY(),o.getX(),o.getY(),x,E,l.getX(),l.getY())}static sampleGrid(r,o,l){return Qi.getInstance().sampleGridWithTransform(r,l,l,o)}static computeDimension(r,o,l,f){const d=ge.round(Ft.distance(r,o)/f),m=ge.round(Ft.distance(r,l)/f);let x=Math.floor((d+m)/2)+7;switch(x&3){case 0:x++;break;case 2:x--;break;case 3:throw new H("Dimensions could be not found.")}return x}calculateModuleSize(r,o,l){return(this.calculateModuleSizeOneWay(r,o)+this.calculateModuleSizeOneWay(r,l))/2}calculateModuleSizeOneWay(r,o){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(o.getX()),Math.floor(o.getY())),f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(l)?f/7:isNaN(f)?l/7:(l+f)/14}sizeOfBlackWhiteBlackRunBothWays(r,o,l,f){let d=this.sizeOfBlackWhiteBlackRun(r,o,l,f),m=1,x=r-(l-r);x<0?(m=r/(r-x),x=0):x>=this.image.getWidth()&&(m=(this.image.getWidth()-1-r)/(x-r),x=this.image.getWidth()-1);let E=Math.floor(o-(f-o)*m);return m=1,E<0?(m=o/(o-E),E=0):E>=this.image.getHeight()&&(m=(this.image.getHeight()-1-o)/(E-o),E=this.image.getHeight()-1),x=Math.floor(r+(x-r)*m),d+=this.sizeOfBlackWhiteBlackRun(r,o,x,E),d-1}sizeOfBlackWhiteBlackRun(r,o,l,f){const d=Math.abs(f-o)>Math.abs(l-r);if(d){let k=r;r=o,o=k,k=l,l=f,f=k}const m=Math.abs(l-r),x=Math.abs(f-o);let E=-m/2;const v=r<l?1:-1,N=o<f?1:-1;let R=0;const B=l+v;for(let k=r,j=o;k!==B;k+=v){const X=d?j:k,et=d?k:j;if(R===1===this.image.get(X,et)){if(R===2)return ge.distance(k,j,r,o);R++}if(E+=x,E>0){if(j===f)break;j+=N,E-=m}}return R===2?ge.distance(l+v,f,r,o):NaN}findAlignmentInRegion(r,o,l,f){const d=Math.floor(f*r),m=Math.max(0,o-d),x=Math.min(this.image.getWidth()-1,o+d);if(x-m<r*3)throw new H("Alignment top exceeds estimated module size.");const E=Math.max(0,l-d),v=Math.min(this.image.getHeight()-1,l+d);if(v-E<r*3)throw new H("Alignment bottom exceeds estimated module size.");return new Pi(this.image,m,E,x-m,v-E,r,this.resultPointCallback).find()}}class Lr{constructor(){this.decoder=new y0}getDecoder(){return this.decoder}decode(r,o){let l,f;if(o!=null&&o.get(dt.PURE_BARCODE)!==void 0){const E=Lr.extractPureBits(r.getBlackMatrix());l=this.decoder.decodeBitMatrix(E,o),f=Lr.NO_POINTS}else{const E=new pr(r.getBlackMatrix()).detect(o);l=this.decoder.decodeBitMatrix(E.getBits(),o),f=E.getPoints()}l.getOther()instanceof Qu&&l.getOther().applyMirroredCorrection(f);const d=new It(l.getText(),l.getRawBytes(),void 0,f,Ct.QR_CODE,void 0),m=l.getByteSegments();m!==null&&d.putMetadata(de.BYTE_SEGMENTS,m);const x=l.getECLevel();return x!==null&&d.putMetadata(de.ERROR_CORRECTION_LEVEL,x),l.hasStructuredAppend()&&(d.putMetadata(de.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),d.putMetadata(de.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),d}reset(){}static extractPureBits(r){const o=r.getTopLeftOnBit(),l=r.getBottomRightOnBit();if(o===null||l===null)throw new H;const f=this.moduleSize(o,r);let d=o[1],m=l[1],x=o[0],E=l[0];if(x>=E||d>=m)throw new H;if(m-d!==E-x&&(E=x+(m-d),E>=r.getWidth()))throw new H;const v=Math.round((E-x+1)/f),N=Math.round((m-d+1)/f);if(v<=0||N<=0)throw new H;if(N!==v)throw new H;const R=Math.floor(f/2);d+=R,x+=R;const B=x+Math.floor((v-1)*f)-E;if(B>0){if(B>R)throw new H;x-=B}const k=d+Math.floor((N-1)*f)-m;if(k>0){if(k>R)throw new H;d-=k}const j=new qt(v,N);for(let X=0;X<N;X++){const et=d+Math.floor(X*f);for(let ct=0;ct<v;ct++)r.get(x+Math.floor(ct*f),et)&&j.set(ct,X)}return j}static moduleSize(r,o){const l=o.getHeight(),f=o.getWidth();let d=r[0],m=r[1],x=!0,E=0;for(;d<f&&m<l;){if(x!==o.get(d,m)){if(++E===5)break;x=!x}d++,m++}if(d===f||m===l)throw new H;return(d-r[0])/7}}Lr.NO_POINTS=new Array;class Zt{PDF417Common(){}static getBitCountSum(r){return ge.sum(r)}static toIntArray(r){if(r==null||!r.length)return Zt.EMPTY_INT_ARRAY;const o=new Int32Array(r.length);let l=0;for(const f of r)o[l++]=f;return o}static getCodeword(r){const o=q.binarySearch(Zt.SYMBOL_TABLE,r&262143);return o<0?-1:(Zt.CODEWORD_TABLE[o]-1)%Zt.NUMBER_OF_CODEWORDS}}Zt.NUMBER_OF_CODEWORDS=929,Zt.MAX_CODEWORDS_IN_BARCODE=Zt.NUMBER_OF_CODEWORDS-1,Zt.MIN_ROWS_IN_BARCODE=3,Zt.MAX_ROWS_IN_BARCODE=90,Zt.MODULES_IN_CODEWORD=17,Zt.MODULES_IN_STOP_PATTERN=18,Zt.BARS_IN_MODULE=8,Zt.EMPTY_INT_ARRAY=new Int32Array([]),Zt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Zt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Zu{constructor(r,o){this.bits=r,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class $t{static detectMultiple(r,o,l){let f=r.getBlackMatrix(),d=$t.detect(l,f);return d.length||(f=f.clone(),f.rotate180(),d=$t.detect(l,f)),new Zu(f,d)}static detect(r,o){const l=new Array;let f=0,d=0,m=!1;for(;f<o.getHeight();){const x=$t.findVertices(o,f,d);if(x[0]==null&&x[3]==null){if(!m)break;m=!1,d=0;for(const E of l)E[1]!=null&&(f=Math.trunc(Math.max(f,E[1].getY()))),E[3]!=null&&(f=Math.max(f,Math.trunc(E[3].getY())));f+=$t.ROW_STEP;continue}if(m=!0,l.push(x),!r)break;x[2]!=null?(d=Math.trunc(x[2].getX()),f=Math.trunc(x[2].getY())):(d=Math.trunc(x[4].getX()),f=Math.trunc(x[4].getY()))}return l}static findVertices(r,o,l){const f=r.getHeight(),d=r.getWidth(),m=new Array(8);return $t.copyToResult(m,$t.findRowsWithPattern(r,f,d,o,l,$t.START_PATTERN),$t.INDEXES_START_PATTERN),m[4]!=null&&(l=Math.trunc(m[4].getX()),o=Math.trunc(m[4].getY())),$t.copyToResult(m,$t.findRowsWithPattern(r,f,d,o,l,$t.STOP_PATTERN),$t.INDEXES_STOP_PATTERN),m}static copyToResult(r,o,l){for(let f=0;f<l.length;f++)r[l[f]]=o[f]}static findRowsWithPattern(r,o,l,f,d,m){const x=new Array(4);let E=!1;const v=new Int32Array(m.length);for(;f<o;f+=$t.ROW_STEP){let R=$t.findGuardPattern(r,d,f,l,!1,m,v);if(R!=null){for(;f>0;){const B=$t.findGuardPattern(r,d,--f,l,!1,m,v);if(B!=null)R=B;else{f++;break}}x[0]=new Ft(R[0],f),x[1]=new Ft(R[1],f),E=!0;break}}let N=f+1;if(E){let R=0,B=Int32Array.from([Math.trunc(x[0].getX()),Math.trunc(x[1].getX())]);for(;N<o;N++){const k=$t.findGuardPattern(r,B[0],N,l,!1,m,v);if(k!=null&&Math.abs(B[0]-k[0])<$t.MAX_PATTERN_DRIFT&&Math.abs(B[1]-k[1])<$t.MAX_PATTERN_DRIFT)B=k,R=0;else{if(R>$t.SKIPPED_ROW_COUNT_MAX)break;R++}}N-=R+1,x[2]=new Ft(B[0],N),x[3]=new Ft(B[1],N)}return N-f<$t.BARCODE_MIN_HEIGHT&&q.fill(x,null),x}static findGuardPattern(r,o,l,f,d,m,x){q.fillWithin(x,0,x.length,0);let E=o,v=0;for(;r.get(E,l)&&E>0&&v++<$t.MAX_PIXEL_DRIFT;)E--;let N=E,R=0,B=m.length;for(let k=d;N<f;N++)if(r.get(N,l)!==k)x[R]++;else{if(R===B-1){if($t.patternMatchVariance(x,m,$t.MAX_INDIVIDUAL_VARIANCE)<$t.MAX_AVG_VARIANCE)return new Int32Array([E,N]);E+=x[0]+x[1],L.arraycopy(x,2,x,0,R-1),x[R-1]=0,x[R]=0,R--}else R++;x[R]=1,k=!k}return R===B-1&&$t.patternMatchVariance(x,m,$t.MAX_INDIVIDUAL_VARIANCE)<$t.MAX_AVG_VARIANCE?new Int32Array([E,N-1]):null}static patternMatchVariance(r,o,l){let f=r.length,d=0,m=0;for(let v=0;v<f;v++)d+=r[v],m+=o[v];if(d<m)return 1/0;let x=d/m;l*=x;let E=0;for(let v=0;v<f;v++){let N=r[v],R=o[v]*x,B=N>R?N-R:R-N;if(B>l)return 1/0;E+=B}return E/d}}$t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),$t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),$t.MAX_AVG_VARIANCE=.42,$t.MAX_INDIVIDUAL_VARIANCE=.8,$t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),$t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),$t.MAX_PIXEL_DRIFT=3,$t.MAX_PATTERN_DRIFT=5,$t.SKIPPED_ROW_COUNT_MAX=25,$t.ROW_STEP=5,$t.BARCODE_MIN_HEIGHT=10;class qe{constructor(r,o){if(o.length===0)throw new T;this.field=r;let l=o.length;if(l>1&&o[0]===0){let f=1;for(;f<l&&o[f]===0;)f++;f===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-f),L.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let f=0;for(let d of this.coefficients)f=this.field.add(f,d);return f}let o=this.coefficients[0],l=this.coefficients.length;for(let f=1;f<l;f++)o=this.field.add(this.field.multiply(r,o),this.coefficients[f]);return o}add(r){if(!this.field.equals(r.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let o=this.coefficients,l=r.coefficients;if(o.length>l.length){let m=o;o=l,l=m}let f=new Int32Array(l.length),d=l.length-o.length;L.arraycopy(l,0,f,0,d);for(let m=d;m<l.length;m++)f[m]=this.field.add(o[m-d],l[m]);return new qe(this.field,f)}subtract(r){if(!this.field.equals(r.field))throw new T("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof qe?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new qe(this.field,new Int32Array([0]));let o=this.coefficients,l=o.length,f=r.coefficients,d=f.length,m=new Int32Array(l+d-1);for(let x=0;x<l;x++){let E=o[x];for(let v=0;v<d;v++)m[x+v]=this.field.add(m[x+v],this.field.multiply(E,f[v]))}return new qe(this.field,m)}negative(){let r=this.coefficients.length,o=new Int32Array(r);for(let l=0;l<r;l++)o[l]=this.field.subtract(0,this.coefficients[l]);return new qe(this.field,o)}multiplyScalar(r){if(r===0)return new qe(this.field,new Int32Array([0]));if(r===1)return this;let o=this.coefficients.length,l=new Int32Array(o);for(let f=0;f<o;f++)l[f]=this.field.multiply(this.coefficients[f],r);return new qe(this.field,l)}multiplyByMonomial(r,o){if(r<0)throw new T;if(o===0)return new qe(this.field,new Int32Array([0]));let l=this.coefficients.length,f=new Int32Array(l+r);for(let d=0;d<l;d++)f[d]=this.field.multiply(this.coefficients[d],o);return new qe(this.field,f)}toString(){let r=new jt;for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);l!==0&&(l<0?(r.append(" - "),l=-l):r.length()>0&&r.append(" + "),(o===0||l!==1)&&r.append(l),o!==0&&(o===1?r.append("x"):(r.append("x^"),r.append(o))))}return r.toString()}}class mc{add(r,o){return(r+o)%this.modulus}subtract(r,o){return(this.modulus+r-o)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new T;return this.logTable[r]}inverse(r){if(r===0)throw new Xn;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,o){return r===0||o===0?0:this.expTable[(this.logTable[r]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class ds extends mc{constructor(r,o){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let l=1;for(let f=0;f<r;f++)this.expTable[f]=l,l=l*o%r;for(let f=0;f<r-1;f++)this.logTable[this.expTable[f]]=f;this.zero=new qe(this,new Int32Array([0])),this.one=new qe(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,o){if(r<0)throw new T;if(o===0)return this.zero;let l=new Int32Array(r+1);return l[0]=o,new qe(this,l)}}ds.PDF417_GF=new ds(Zt.NUMBER_OF_CODEWORDS,3);class Pr{constructor(){this.field=ds.PDF417_GF}decode(r,o,l){let f=new qe(this.field,r),d=new Int32Array(o),m=!1;for(let j=o;j>0;j--){let X=f.evaluateAt(this.field.exp(j));d[o-j]=X,X!==0&&(m=!0)}if(!m)return 0;let x=this.field.getOne();if(l!=null)for(const j of l){let X=this.field.exp(r.length-1-j),et=new qe(this.field,new Int32Array([this.field.subtract(0,X),1]));x=x.multiply(et)}let E=new qe(this.field,d),v=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),E,o),N=v[0],R=v[1],B=this.findErrorLocations(N),k=this.findErrorMagnitudes(R,N,B);for(let j=0;j<B.length;j++){let X=r.length-1-this.field.log(B[j]);if(X<0)throw D.getChecksumInstance();r[X]=this.field.subtract(r[X],k[j])}return B.length}runEuclideanAlgorithm(r,o,l){if(r.getDegree()<o.getDegree()){let B=r;r=o,o=B}let f=r,d=o,m=this.field.getZero(),x=this.field.getOne();for(;d.getDegree()>=Math.round(l/2);){let B=f,k=m;if(f=d,m=x,f.isZero())throw D.getChecksumInstance();d=B;let j=this.field.getZero(),X=f.getCoefficient(f.getDegree()),et=this.field.inverse(X);for(;d.getDegree()>=f.getDegree()&&!d.isZero();){let ct=d.getDegree()-f.getDegree(),St=this.field.multiply(d.getCoefficient(d.getDegree()),et);j=j.add(this.field.buildMonomial(ct,St)),d=d.subtract(f.multiplyByMonomial(ct,St))}x=j.multiply(m).subtract(k).negative()}let E=x.getCoefficient(0);if(E===0)throw D.getChecksumInstance();let v=this.field.inverse(E),N=x.multiply(v),R=d.multiply(v);return[N,R]}findErrorLocations(r){let o=r.getDegree(),l=new Int32Array(o),f=0;for(let d=1;d<this.field.getSize()&&f<o;d++)r.evaluateAt(d)===0&&(l[f]=this.field.inverse(d),f++);if(f!==o)throw D.getChecksumInstance();return l}findErrorMagnitudes(r,o,l){let f=o.getDegree(),d=new Int32Array(f);for(let v=1;v<=f;v++)d[f-v]=this.field.multiply(v,o.getCoefficient(v));let m=new qe(this.field,d),x=l.length,E=new Int32Array(x);for(let v=0;v<x;v++){let N=this.field.inverse(l[v]),R=this.field.subtract(0,r.evaluateAt(N)),B=this.field.inverse(m.evaluateAt(N));E[v]=this.field.multiply(R,B)}return E}}class Ur{constructor(r,o,l,f,d){r instanceof Ur?this.constructor_2(r):this.constructor_1(r,o,l,f,d)}constructor_1(r,o,l,f,d){const m=o==null||l==null,x=f==null||d==null;if(m&&x)throw new H;m?(o=new Ft(0,f.getY()),l=new Ft(0,d.getY())):x&&(f=new Ft(r.getWidth()-1,o.getY()),d=new Ft(r.getWidth()-1,l.getY())),this.image=r,this.topLeft=o,this.bottomLeft=l,this.topRight=f,this.bottomRight=d,this.minX=Math.trunc(Math.min(o.getX(),l.getX())),this.maxX=Math.trunc(Math.max(f.getX(),d.getX())),this.minY=Math.trunc(Math.min(o.getY(),f.getY())),this.maxY=Math.trunc(Math.max(l.getY(),d.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,o){return r==null?o:o==null?r:new Ur(r.image,r.topLeft,r.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(r,o,l){let f=this.topLeft,d=this.bottomLeft,m=this.topRight,x=this.bottomRight;if(r>0){let E=l?this.topLeft:this.topRight,v=Math.trunc(E.getY()-r);v<0&&(v=0);let N=new Ft(E.getX(),v);l?f=N:m=N}if(o>0){let E=l?this.bottomLeft:this.bottomRight,v=Math.trunc(E.getY()+o);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let N=new Ft(E.getX(),v);l?d=N:x=N}return new Ur(this.image,f,d,m,x)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Jo{constructor(r,o,l,f){this.columnCount=r,this.errorCorrectionLevel=f,this.rowCountUpperPart=o,this.rowCountLowerPart=l,this.rowCount=o+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class aa{constructor(){this.buffer=""}static form(r,o){let l=-1;function f(m,x,E,v,N,R){if(m==="%%")return"%";if(o[++l]===void 0)return;m=v?parseInt(v.substr(1)):void 0;let B=N?parseInt(N.substr(1)):void 0,k;switch(R){case"s":k=o[l];break;case"c":k=o[l][0];break;case"f":k=parseFloat(o[l]).toFixed(m);break;case"p":k=parseFloat(o[l]).toPrecision(m);break;case"e":k=parseFloat(o[l]).toExponential(m);break;case"x":k=parseInt(o[l]).toString(B||16);break;case"d":k=parseFloat(parseInt(o[l],B||10).toPrecision(m)).toFixed(0);break}k=typeof k=="object"?JSON.stringify(k):(+k).toString(B);let j=parseInt(E),X=E&&E[0]+""=="0"?"0":" ";for(;k.length<j;)k=x!==void 0?k+X:X+k;return k}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(d,f)}format(r,...o){this.buffer+=aa.form(r,o)}toString(){return this.buffer}}class $r{constructor(r){this.boundingBox=new Ur(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let o=this.getCodeword(r);if(o!=null)return o;for(let l=1;l<$r.MAX_NEARBY_DISTANCE;l++){let f=this.imageRowToCodewordIndex(r)-l;if(f>=0&&(o=this.codewords[f],o!=null)||(f=this.imageRowToCodewordIndex(r)+l,f<this.codewords.length&&(o=this.codewords[f],o!=null)))return o}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,o){this.codewords[this.imageRowToCodewordIndex(r)]=o}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new aa;let o=0;for(const l of this.codewords){if(l==null){r.format("%3d:    |   %n",o++);continue}r.format("%3d: %3d|%3d%n",o++,l.getRowNumber(),l.getValue())}return r.toString()}}$r.MAX_NEARBY_DISTANCE=5;class ts{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let o=this.values.get(r);o==null&&(o=0),o++,this.values.set(r,o)}getValue(){let r=-1,o=new Array;for(const[l,f]of this.values.entries()){const d={getKey:()=>l,getValue:()=>f};d.getValue()>r?(r=d.getValue(),o=[],o.push(d.getKey())):d.getValue()===r&&o.push(d.getKey())}return Zt.toIntArray(o)}getConfidence(r){return this.values.get(r)}}class pc extends $r{constructor(r,o){super(r),this._isLeft=o}setRowNumbers(){for(let r of this.getCodewords())r?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,r);let l=this.getBoundingBox(),f=this._isLeft?l.getTopLeft():l.getTopRight(),d=this._isLeft?l.getBottomLeft():l.getBottomRight(),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),x=this.imageRowToCodewordIndex(Math.trunc(d.getY())),E=-1,v=1,N=0;for(let R=m;R<x;R++){if(o[R]==null)continue;let B=o[R],k=B.getRowNumber()-E;if(k===0)N++;else if(k===1)v=Math.max(v,N),N=1,E=B.getRowNumber();else if(k<0||B.getRowNumber()>=r.getRowCount()||k>R)o[R]=null;else{let j;v>2?j=(v-2)*k:j=k;let X=j>=R;for(let et=1;et<=j&&!X;et++)X=o[R-et]!=null;X?o[R]=null:(E=B.getRowNumber(),N=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let o=new Int32Array(r.getRowCount());for(let l of this.getCodewords())if(l!=null){let f=l.getRowNumber();if(f>=o.length)continue;o[f]++}return o}adjustIncompleteIndicatorColumnRowNumbers(r){let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),f=this._isLeft?o.getBottomLeft():o.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),x=this.getCodewords(),E=-1;for(let v=d;v<m;v++){if(x[v]==null)continue;let N=x[v];N.setRowNumberAsRowIndicatorColumn();let R=N.getRowNumber()-E;R===0||(R===1?E=N.getRowNumber():N.getRowNumber()>=r.getRowCount()?x[v]=null:E=N.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),o=new ts,l=new ts,f=new ts,d=new ts;for(let x of r){if(x==null)continue;x.setRowNumberAsRowIndicatorColumn();let E=x.getValue()%30,v=x.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:l.setValue(E*3+1);break;case 1:d.setValue(E/3),f.setValue(E%3);break;case 2:o.setValue(E+1);break}}if(o.getValue().length===0||l.getValue().length===0||f.getValue().length===0||d.getValue().length===0||o.getValue()[0]<1||l.getValue()[0]+f.getValue()[0]<Zt.MIN_ROWS_IN_BARCODE||l.getValue()[0]+f.getValue()[0]>Zt.MAX_ROWS_IN_BARCODE)return null;let m=new Jo(o.getValue()[0],l.getValue()[0],f.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(r,m),m}removeIncorrectCodewords(r,o){for(let l=0;l<r.length;l++){let f=r[l];if(r[l]==null)continue;let d=f.getValue()%30,m=f.getRowNumber();if(m>o.getRowCount()){r[l]=null;continue}switch(this._isLeft||(m+=2),m%3){case 0:d*3+1!==o.getRowCountUpperPart()&&(r[l]=null);break;case 1:(Math.trunc(d/3)!==o.getErrorCorrectionLevel()||d%3!==o.getRowCountLowerPart())&&(r[l]=null);break;case 2:d+1!==o.getColumnCount()&&(r[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class kn{constructor(r,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=Zt.MAX_CODEWORDS_IN_BARCODE,o;do o=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let l=this.detectionResultColumns[o].getCodewords();for(let f=0;f<l.length;f++)l[f]!=null&&(l[f].hasValidRowNumber()||this.adjustRowNumbers(o,f,l))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<r.length;l++)if(r[l]!=null&&o[l]!=null&&r[l].getRowNumber()===o[l].getRowNumber())for(let f=1;f<=this.barcodeColumnCount;f++){let d=this.detectionResultColumns[f].getCodewords()[l];d!=null&&(d.setRowNumber(r[l].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[f].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let f=o[l].getRowNumber(),d=0;for(let m=this.barcodeColumnCount+1;m>0&&d<this.ADJUST_ROW_NUMBER_SKIP;m--){let x=this.detectionResultColumns[m].getCodewords()[l];x!=null&&(d=kn.adjustRowNumberIfValid(f,d,x),x.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,o=this.detectionResultColumns[0].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let f=o[l].getRowNumber(),d=0;for(let m=1;m<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;m++){let x=this.detectionResultColumns[m].getCodewords()[l];x!=null&&(d=kn.adjustRowNumberIfValid(f,d,x),x.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,o,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(r)?(l.setRowNumber(r),o=0):++o),o}adjustRowNumbers(r,o,l){if(!this.detectionResultColumns[r-1])return;let f=l[o],d=this.detectionResultColumns[r-1].getCodewords(),m=d;this.detectionResultColumns[r+1]!=null&&(m=this.detectionResultColumns[r+1].getCodewords());let x=new Array(14);x[2]=d[o],x[3]=m[o],o>0&&(x[0]=l[o-1],x[4]=d[o-1],x[5]=m[o-1]),o>1&&(x[8]=l[o-2],x[10]=d[o-2],x[11]=m[o-2]),o<l.length-1&&(x[1]=l[o+1],x[6]=d[o+1],x[7]=m[o+1]),o<l.length-2&&(x[9]=l[o+2],x[12]=d[o+2],x[13]=m[o+2]);for(let E of x)if(kn.adjustRowNumber(f,E))return}static adjustRowNumber(r,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===r.getBucket()?(r.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,o){this.detectionResultColumns[r]=o}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new aa;for(let l=0;l<r.getCodewords().length;l++){o.format("CW %3d:",l);for(let f=0;f<this.barcodeColumnCount+2;f++){if(this.detectionResultColumns[f]==null){o.format("    |   ");continue}let d=this.detectionResultColumns[f].getCodewords()[l];if(d==null){o.format("    |   ");continue}o.format(" %3d|%3d",d.getRowNumber(),d.getValue())}o.format("%n")}return o.toString()}}class qi{constructor(r,o,l,f){this.rowNumber=qi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(o),this.bucket=Math.trunc(l),this.value=Math.trunc(f)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==qi.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}qi.BARCODE_ROW_UNKNOWN=-1;class Wn{static initialize(){for(let r=0;r<Zt.SYMBOL_TABLE.length;r++){let o=Zt.SYMBOL_TABLE[r],l=o&1;for(let f=0;f<Zt.BARS_IN_MODULE;f++){let d=0;for(;(o&1)===l;)d+=1,o>>=1;l=o&1,Wn.RATIOS_TABLE[r]||(Wn.RATIOS_TABLE[r]=new Array(Zt.BARS_IN_MODULE)),Wn.RATIOS_TABLE[r][Zt.BARS_IN_MODULE-f-1]=Math.fround(d/Zt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let o=Wn.getDecodedCodewordValue(Wn.sampleBitCounts(r));return o!==-1?o:Wn.getClosestDecodedValue(r)}static sampleBitCounts(r){let o=ge.sum(r),l=new Int32Array(Zt.BARS_IN_MODULE),f=0,d=0;for(let m=0;m<Zt.MODULES_IN_CODEWORD;m++){let x=o/(2*Zt.MODULES_IN_CODEWORD)+m*o/Zt.MODULES_IN_CODEWORD;d+r[f]<=x&&(d+=r[f],f++),l[f]++}return l}static getDecodedCodewordValue(r){let o=Wn.getBitValue(r);return Zt.getCodeword(o)===-1?-1:o}static getBitValue(r){let o=0;for(let l=0;l<r.length;l++)for(let f=0;f<r[l];f++)o=o<<1|(l%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(r){let o=ge.sum(r),l=new Array(Zt.BARS_IN_MODULE);if(o>1)for(let m=0;m<l.length;m++)l[m]=Math.fround(r[m]/o);let f=Js.MAX_VALUE,d=-1;this.bSymbolTableReady||Wn.initialize();for(let m=0;m<Wn.RATIOS_TABLE.length;m++){let x=0,E=Wn.RATIOS_TABLE[m];for(let v=0;v<Zt.BARS_IN_MODULE;v++){let N=Math.fround(E[v]-l[v]);if(x+=Math.fround(N*N),x>=f)break}x<f&&(f=x,d=Zt.SYMBOL_TABLE[m])}return d}}Wn.bSymbolTableReady=!1,Wn.RATIOS_TABLE=new Array(Zt.SYMBOL_TABLE.length).map(O=>new Array(Zt.BARS_IN_MODULE));class oa{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class Ku{static parseLong(r,o=void 0){return parseInt(r,o)}}class $o extends y{}$o.kind="NullPointerException";class yc{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,o,l){if(r==null)throw new $o;if(o<0||o>r.length||l<0||o+l>r.length||o+l<0)throw new F;if(l===0)return;for(let f=0;f<l;f++)this.write(r[o+f])}flush(){}close(){}}class io extends y{}class tl extends yc{constructor(r=32){if(super(),this.count=0,r<0)throw new T("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let l=this.buf.length<<1;if(l-r<0&&(l=r),l<0){if(r<0)throw new io;l=z.MAX_VALUE}this.buf=q.copyOfUint8Array(this.buf,l)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,o,l){if(o<0||o>r.length||l<0||o+l-r.length>0)throw new F;this.ensureCapacity(this.count+l),L.arraycopy(r,o,this.buf,this.count,l),this.count+=l}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return q.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var _e;(function(O){O[O.ALPHA=0]="ALPHA",O[O.LOWER=1]="LOWER",O[O.MIXED=2]="MIXED",O[O.PUNCT=3]="PUNCT",O[O.ALPHA_SHIFT=4]="ALPHA_SHIFT",O[O.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(_e||(_e={}));function Wu(){if(typeof window<"u")return window.BigInt||null;if(typeof lh<"u")return lh.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let el;function es(O){if(typeof el>"u"&&(el=Wu()),el===null)throw new Error("BigInt is not supported!");return el(O)}function xc(){let O=[];O[0]=es(1);let r=es(900);O[1]=r;for(let o=2;o<16;o++)O[o]=O[o-1]*r;return O}class ut{static decode(r,o){let l=new jt(""),f=at.ISO8859_1;l.enableDecoding(f);let d=1,m=r[d++],x=new oa;for(;d<r[0];){switch(m){case ut.TEXT_COMPACTION_MODE_LATCH:d=ut.textCompaction(r,d,l);break;case ut.BYTE_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH_6:d=ut.byteCompaction(m,r,f,d,l);break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[d++]);break;case ut.NUMERIC_COMPACTION_MODE_LATCH:d=ut.numericCompaction(r,d,l);break;case ut.ECI_CHARSET:at.getCharacterSetECIByValue(r[d++]);break;case ut.ECI_GENERAL_PURPOSE:d+=2;break;case ut.ECI_USER_DEFINED:d++;break;case ut.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=ut.decodeMacroBlock(r,d,x);break;case ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ut.MACRO_PDF417_TERMINATOR:throw new K;default:d--,d=ut.textCompaction(r,d,l);break}if(d<r.length)m=r[d++];else throw K.getFormatInstance()}if(l.length()===0)throw K.getFormatInstance();let E=new Ce(null,l.toString(),null,o);return E.setOther(x),E}static decodeMacroBlock(r,o,l){if(o+ut.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw K.getFormatInstance();let f=new Int32Array(ut.NUMBER_OF_SEQUENCE_CODEWORDS);for(let x=0;x<ut.NUMBER_OF_SEQUENCE_CODEWORDS;x++,o++)f[x]=r[o];l.setSegmentIndex(z.parseInt(ut.decodeBase900toBase10(f,ut.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new jt;o=ut.textCompaction(r,o,d),l.setFileId(d.toString());let m=-1;for(r[o]===ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(m=o+1);o<r[0];)switch(r[o]){case ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,r[o]){case ut.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let x=new jt;o=ut.textCompaction(r,o+1,x),l.setFileName(x.toString());break;case ut.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let E=new jt;o=ut.textCompaction(r,o+1,E),l.setSender(E.toString());break;case ut.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new jt;o=ut.textCompaction(r,o+1,v),l.setAddressee(v.toString());break;case ut.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let N=new jt;o=ut.numericCompaction(r,o+1,N),l.setSegmentCount(z.parseInt(N.toString()));break;case ut.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let R=new jt;o=ut.numericCompaction(r,o+1,R),l.setTimestamp(Ku.parseLong(R.toString()));break;case ut.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let B=new jt;o=ut.numericCompaction(r,o+1,B),l.setChecksum(z.parseInt(B.toString()));break;case ut.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let k=new jt;o=ut.numericCompaction(r,o+1,k),l.setFileSize(Ku.parseLong(k.toString()));break;default:throw K.getFormatInstance()}break;case ut.MACRO_PDF417_TERMINATOR:o++,l.setLastSegment(!0);break;default:throw K.getFormatInstance()}if(m!==-1){let x=o-m;l.isLastSegment()&&x--,l.setOptionalData(q.copyOfRange(r,m,m+x))}return o}static textCompaction(r,o,l){let f=new Int32Array((r[0]-o)*2),d=new Int32Array((r[0]-o)*2),m=0,x=!1;for(;o<r[0]&&!x;){let E=r[o++];if(E<ut.TEXT_COMPACTION_MODE_LATCH)f[m]=E/30,f[m+1]=E%30,m+=2;else switch(E){case ut.TEXT_COMPACTION_MODE_LATCH:f[m++]=ut.TEXT_COMPACTION_MODE_LATCH;break;case ut.BYTE_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH_6:case ut.NUMERIC_COMPACTION_MODE_LATCH:case ut.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ut.MACRO_PDF417_TERMINATOR:o--,x=!0;break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f[m]=ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,E=r[o++],d[m]=E,m++;break}}return ut.decodeTextCompaction(f,d,m,l),o}static decodeTextCompaction(r,o,l,f){let d=_e.ALPHA,m=_e.ALPHA,x=0;for(;x<l;){let E=r[x],v="";switch(d){case _e.ALPHA:if(E<26)v=String.fromCharCode(65+E);else switch(E){case 26:v=" ";break;case ut.LL:d=_e.LOWER;break;case ut.ML:d=_e.MIXED;break;case ut.PS:m=d,d=_e.PUNCT_SHIFT;break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case ut.TEXT_COMPACTION_MODE_LATCH:d=_e.ALPHA;break}break;case _e.LOWER:if(E<26)v=String.fromCharCode(97+E);else switch(E){case 26:v=" ";break;case ut.AS:m=d,d=_e.ALPHA_SHIFT;break;case ut.ML:d=_e.MIXED;break;case ut.PS:m=d,d=_e.PUNCT_SHIFT;break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case ut.TEXT_COMPACTION_MODE_LATCH:d=_e.ALPHA;break}break;case _e.MIXED:if(E<ut.PL)v=ut.MIXED_CHARS[E];else switch(E){case ut.PL:d=_e.PUNCT;break;case 26:v=" ";break;case ut.LL:d=_e.LOWER;break;case ut.AL:d=_e.ALPHA;break;case ut.PS:m=d,d=_e.PUNCT_SHIFT;break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case ut.TEXT_COMPACTION_MODE_LATCH:d=_e.ALPHA;break}break;case _e.PUNCT:if(E<ut.PAL)v=ut.PUNCT_CHARS[E];else switch(E){case ut.PAL:d=_e.ALPHA;break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case ut.TEXT_COMPACTION_MODE_LATCH:d=_e.ALPHA;break}break;case _e.ALPHA_SHIFT:if(d=m,E<26)v=String.fromCharCode(65+E);else switch(E){case 26:v=" ";break;case ut.TEXT_COMPACTION_MODE_LATCH:d=_e.ALPHA;break}break;case _e.PUNCT_SHIFT:if(d=m,E<ut.PAL)v=ut.PUNCT_CHARS[E];else switch(E){case ut.PAL:d=_e.ALPHA;break;case ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case ut.TEXT_COMPACTION_MODE_LATCH:d=_e.ALPHA;break}break}v!==""&&f.append(v),x++}}static byteCompaction(r,o,l,f,d){let m=new tl,x=0,E=0,v=!1;switch(r){case ut.BYTE_COMPACTION_MODE_LATCH:let N=new Int32Array(6),R=o[f++];for(;f<o[0]&&!v;)switch(N[x++]=R,E=900*E+R,R=o[f++],R){case ut.TEXT_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH:case ut.NUMERIC_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH_6:case ut.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ut.MACRO_PDF417_TERMINATOR:f--,v=!0;break;default:if(x%5===0&&x>0){for(let B=0;B<6;++B)m.write(Number(es(E)>>es(8*(5-B))));E=0,x=0}break}f===o[0]&&R<ut.TEXT_COMPACTION_MODE_LATCH&&(N[x++]=R);for(let B=0;B<x;B++)m.write(N[B]);break;case ut.BYTE_COMPACTION_MODE_LATCH_6:for(;f<o[0]&&!v;){let B=o[f++];if(B<ut.TEXT_COMPACTION_MODE_LATCH)x++,E=900*E+B;else switch(B){case ut.TEXT_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH:case ut.NUMERIC_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH_6:case ut.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ut.MACRO_PDF417_TERMINATOR:f--,v=!0;break}if(x%5===0&&x>0){for(let k=0;k<6;++k)m.write(Number(es(E)>>es(8*(5-k))));E=0,x=0}}break}return d.append(Ot.decode(m.toByteArray(),l)),f}static numericCompaction(r,o,l){let f=0,d=!1,m=new Int32Array(ut.MAX_NUMERIC_CODEWORDS);for(;o<r[0]&&!d;){let x=r[o++];if(o===r[0]&&(d=!0),x<ut.TEXT_COMPACTION_MODE_LATCH)m[f]=x,f++;else switch(x){case ut.TEXT_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH:case ut.BYTE_COMPACTION_MODE_LATCH_6:case ut.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ut.MACRO_PDF417_TERMINATOR:o--,d=!0;break}(f%ut.MAX_NUMERIC_CODEWORDS===0||x===ut.NUMERIC_COMPACTION_MODE_LATCH||d)&&f>0&&(l.append(ut.decodeBase900toBase10(m,f)),f=0)}return o}static decodeBase900toBase10(r,o){let l=es(0);for(let d=0;d<o;d++)l+=ut.EXP900[o-d-1]*es(r[d]);let f=l.toString();if(f.charAt(0)!=="1")throw new K;return f.substring(1)}}ut.TEXT_COMPACTION_MODE_LATCH=900,ut.BYTE_COMPACTION_MODE_LATCH=901,ut.NUMERIC_COMPACTION_MODE_LATCH=902,ut.BYTE_COMPACTION_MODE_LATCH_6=924,ut.ECI_USER_DEFINED=925,ut.ECI_GENERAL_PURPOSE=926,ut.ECI_CHARSET=927,ut.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ut.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ut.MACRO_PDF417_TERMINATOR=922,ut.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ut.MAX_NUMERIC_CODEWORDS=15,ut.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ut.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ut.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ut.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ut.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ut.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ut.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ut.PL=25,ut.LL=27,ut.AS=27,ut.ML=28,ut.AL=28,ut.PS=29,ut.PAL=29,ut.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ut.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ut.EXP900=Wu()?xc():[],ut.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ae{constructor(){}static decode(r,o,l,f,d,m,x){let E=new Ur(r,o,l,f,d),v=null,N=null,R;for(let j=!0;;j=!1){if(o!=null&&(v=ae.getRowIndicatorColumn(r,E,o,!0,m,x)),f!=null&&(N=ae.getRowIndicatorColumn(r,E,f,!1,m,x)),R=ae.merge(v,N),R==null)throw H.getNotFoundInstance();let X=R.getBoundingBox();if(j&&X!=null&&(X.getMinY()<E.getMinY()||X.getMaxY()>E.getMaxY()))E=X;else break}R.setBoundingBox(E);let B=R.getBarcodeColumnCount()+1;R.setDetectionResultColumn(0,v),R.setDetectionResultColumn(B,N);let k=v!=null;for(let j=1;j<=B;j++){let X=k?j:B-j;if(R.getDetectionResultColumn(X)!==void 0)continue;let et;X===0||X===B?et=new pc(E,X===0):et=new $r(E),R.setDetectionResultColumn(X,et);let ct=-1,St=ct;for(let bt=E.getMinY();bt<=E.getMaxY();bt++){if(ct=ae.getStartColumn(R,X,bt,k),ct<0||ct>E.getMaxX()){if(St===-1)continue;ct=St}let At=ae.detectCodeword(r,E.getMinX(),E.getMaxX(),k,ct,bt,m,x);At!=null&&(et.setCodeword(bt,At),St=ct,m=Math.min(m,At.getWidth()),x=Math.max(x,At.getWidth()))}}return ae.createDecoderResult(R)}static merge(r,o){if(r==null&&o==null)return null;let l=ae.getBarcodeMetadata(r,o);if(l==null)return null;let f=Ur.merge(ae.adjustBoundingBox(r),ae.adjustBoundingBox(o));return new kn(l,f)}static adjustBoundingBox(r){if(r==null)return null;let o=r.getRowHeights();if(o==null)return null;let l=ae.getMax(o),f=0;for(let x of o)if(f+=l-x,x>0)break;let d=r.getCodewords();for(let x=0;f>0&&d[x]==null;x++)f--;let m=0;for(let x=o.length-1;x>=0&&(m+=l-o[x],!(o[x]>0));x--);for(let x=d.length-1;m>0&&d[x]==null;x--)m--;return r.getBoundingBox().addMissingRows(f,m,r.isLeft())}static getMax(r){let o=-1;for(let l of r)o=Math.max(o,l);return o}static getBarcodeMetadata(r,o){let l;if(r==null||(l=r.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let f;return o==null||(f=o.getBarcodeMetadata())==null?l:l.getColumnCount()!==f.getColumnCount()&&l.getErrorCorrectionLevel()!==f.getErrorCorrectionLevel()&&l.getRowCount()!==f.getRowCount()?null:l}static getRowIndicatorColumn(r,o,l,f,d,m){let x=new pc(o,f);for(let E=0;E<2;E++){let v=E===0?1:-1,N=Math.trunc(Math.trunc(l.getX()));for(let R=Math.trunc(Math.trunc(l.getY()));R<=o.getMaxY()&&R>=o.getMinY();R+=v){let B=ae.detectCodeword(r,0,r.getWidth(),f,N,R,d,m);B!=null&&(x.setCodeword(R,B),f?N=B.getStartX():N=B.getEndX())}}return x}static adjustCodewordCount(r,o){let l=o[0][1],f=l.getValue(),d=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-ae.getNumberOfECCodeWords(r.getBarcodeECLevel());if(f.length===0){if(d<1||d>Zt.MAX_CODEWORDS_IN_BARCODE)throw H.getNotFoundInstance();l.setValue(d)}else f[0]!==d&&l.setValue(d)}static createDecoderResult(r){let o=ae.createBarcodeMatrix(r);ae.adjustCodewordCount(r,o);let l=new Array,f=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),d=[],m=new Array;for(let E=0;E<r.getBarcodeRowCount();E++)for(let v=0;v<r.getBarcodeColumnCount();v++){let N=o[E][v+1].getValue(),R=E*r.getBarcodeColumnCount()+v;N.length===0?l.push(R):N.length===1?f[R]=N[0]:(m.push(R),d.push(N))}let x=new Array(d.length);for(let E=0;E<x.length;E++)x[E]=d[E];return ae.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),f,Zt.toIntArray(l),Zt.toIntArray(m),x)}static createDecoderResultFromAmbiguousValues(r,o,l,f,d){let m=new Int32Array(f.length),x=100;for(;x-- >0;){for(let E=0;E<m.length;E++)o[f[E]]=d[E][m[E]];try{return ae.decodeCodewords(o,r,l)}catch(E){if(!(E instanceof D))throw E}if(m.length===0)throw D.getChecksumInstance();for(let E=0;E<m.length;E++)if(m[E]<d[E].length-1){m[E]++;break}else if(m[E]=0,E===m.length-1)throw D.getChecksumInstance()}throw D.getChecksumInstance()}static createBarcodeMatrix(r){let o=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let f=0;f<o.length;f++)for(let d=0;d<o[f].length;d++)o[f][d]=new ts;let l=0;for(let f of r.getDetectionResultColumns()){if(f!=null){for(let d of f.getCodewords())if(d!=null){let m=d.getRowNumber();if(m>=0){if(m>=o.length)continue;o[m][l].setValue(d.getValue())}}}l++}return o}static isValidBarcodeColumn(r,o){return o>=0&&o<=r.getBarcodeColumnCount()+1}static getStartColumn(r,o,l,f){let d=f?1:-1,m=null;if(ae.isValidBarcodeColumn(r,o-d)&&(m=r.getDetectionResultColumn(o-d).getCodeword(l)),m!=null)return f?m.getEndX():m.getStartX();if(m=r.getDetectionResultColumn(o).getCodewordNearby(l),m!=null)return f?m.getStartX():m.getEndX();if(ae.isValidBarcodeColumn(r,o-d)&&(m=r.getDetectionResultColumn(o-d).getCodewordNearby(l)),m!=null)return f?m.getEndX():m.getStartX();let x=0;for(;ae.isValidBarcodeColumn(r,o-d);){o-=d;for(let E of r.getDetectionResultColumn(o).getCodewords())if(E!=null)return(f?E.getEndX():E.getStartX())+d*x*(E.getEndX()-E.getStartX());x++}return f?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,o,l,f,d,m,x,E){d=ae.adjustCodewordStartColumn(r,o,l,f,d,m);let v=ae.getModuleBitCount(r,o,l,f,d,m);if(v==null)return null;let N,R=ge.sum(v);if(f)N=d+R;else{for(let j=0;j<v.length/2;j++){let X=v[j];v[j]=v[v.length-1-j],v[v.length-1-j]=X}N=d,d=N-R}if(!ae.checkCodewordSkew(R,x,E))return null;let B=Wn.getDecodedValue(v),k=Zt.getCodeword(B);return k===-1?null:new qi(d,N,ae.getCodewordBucketNumber(B),k)}static getModuleBitCount(r,o,l,f,d,m){let x=d,E=new Int32Array(8),v=0,N=f?1:-1,R=f;for(;(f?x<l:x>=o)&&v<E.length;)r.get(x,m)===R?(E[v]++,x+=N):(v++,R=!R);return v===E.length||x===(f?l:o)&&v===E.length-1?E:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,o,l,f,d,m){let x=d,E=f?-1:1;for(let v=0;v<2;v++){for(;(f?x>=o:x<l)&&f===r.get(x,m);){if(Math.abs(d-x)>ae.CODEWORD_SKEW_SIZE)return d;x+=E}E=-E,f=!f}return x}static checkCodewordSkew(r,o,l){return o-ae.CODEWORD_SKEW_SIZE<=r&&r<=l+ae.CODEWORD_SKEW_SIZE}static decodeCodewords(r,o,l){if(r.length===0)throw K.getFormatInstance();let f=1<<o+1,d=ae.correctErrors(r,l,f);ae.verifyCodewordCount(r,f);let m=ut.decode(r,""+o);return m.setErrorsCorrected(d),m.setErasures(l.length),m}static correctErrors(r,o,l){if(o!=null&&o.length>l/2+ae.MAX_ERRORS||l<0||l>ae.MAX_EC_CODEWORDS)throw D.getChecksumInstance();return ae.errorCorrection.decode(r,l,o)}static verifyCodewordCount(r,o){if(r.length<4)throw K.getFormatInstance();let l=r[0];if(l>r.length)throw K.getFormatInstance();if(l===0)if(o<r.length)r[0]=r.length-o;else throw K.getFormatInstance()}static getBitCountForCodeword(r){let o=new Int32Array(8),l=0,f=o.length-1;for(;!((r&1)!==l&&(l=r&1,f--,f<0));)o[f]++,r>>=1;return o}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return ae.getCodewordBucketNumber(ae.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let o=new aa;for(let l=0;l<r.length;l++){o.format("Row %2d: ",l);for(let f=0;f<r[l].length;f++){let d=r[l][f];d.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}o.format("%n")}return o.toString()}}ae.CODEWORD_SKEW_SIZE=2,ae.MAX_ERRORS=3,ae.MAX_EC_CODEWORDS=512,ae.errorCorrection=new Pr;class qn{decode(r,o=null){let l=qn.decode(r,o,!1);if(l==null||l.length===0||l[0]==null)throw H.getNotFoundInstance();return l[0]}decodeMultiple(r,o=null){try{return qn.decode(r,o,!0)}catch(l){throw l instanceof K||l instanceof D?H.getNotFoundInstance():l}}static decode(r,o,l){const f=new Array,d=$t.detectMultiple(r,o,l);for(const m of d.getPoints()){const x=ae.decode(d.getBits(),m[4],m[5],m[6],m[7],qn.getMinCodewordWidth(m),qn.getMaxCodewordWidth(m)),E=new It(x.getText(),x.getRawBytes(),void 0,m,Ct.PDF_417);E.putMetadata(de.ERROR_CORRECTION_LEVEL,x.getECLevel());const v=x.getOther();v!=null&&E.putMetadata(de.PDF417_EXTRA_METADATA,v),f.push(E)}return f.map(m=>m)}static getMaxWidth(r,o){return r==null||o==null?0:Math.trunc(Math.abs(r.getX()-o.getX()))}static getMinWidth(r,o){return r==null||o==null?z.MAX_VALUE:Math.trunc(Math.abs(r.getX()-o.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(qn.getMaxWidth(r[0],r[4]),qn.getMaxWidth(r[6],r[2])*Zt.MODULES_IN_CODEWORD/Zt.MODULES_IN_STOP_PATTERN),Math.max(qn.getMaxWidth(r[1],r[5]),qn.getMaxWidth(r[7],r[3])*Zt.MODULES_IN_CODEWORD/Zt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(qn.getMinWidth(r[0],r[4]),qn.getMinWidth(r[6],r[2])*Zt.MODULES_IN_CODEWORD/Zt.MODULES_IN_STOP_PATTERN),Math.min(qn.getMinWidth(r[1],r[5]),qn.getMinWidth(r[7],r[3])*Zt.MODULES_IN_CODEWORD/Zt.MODULES_IN_STOP_PATTERN)))}reset(){}}class nl extends y{}nl.kind="ReaderException";class qu{constructor(r,o){this.verbose=r===!0,o&&this.setHints(o)}decode(r,o){return o&&this.setHints(o),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;const o=!a(r)&&r.get(dt.TRY_HARDER)===!0,l=a(r)?null:r.get(dt.POSSIBLE_FORMATS),f=new Array;if(!a(l)){const d=l.some(m=>m===Ct.UPC_A||m===Ct.UPC_E||m===Ct.EAN_13||m===Ct.EAN_8||m===Ct.CODABAR||m===Ct.CODE_39||m===Ct.CODE_93||m===Ct.CODE_128||m===Ct.ITF||m===Ct.RSS_14||m===Ct.RSS_EXPANDED);d&&!o&&f.push(new Ki(r,this.verbose)),l.includes(Ct.QR_CODE)&&f.push(new Lr),l.includes(Ct.DATA_MATRIX)&&f.push(new _r),l.includes(Ct.AZTEC)&&f.push(new Zo),l.includes(Ct.PDF_417)&&f.push(new qn),d&&o&&f.push(new Ki(r,this.verbose))}f.length===0&&(o||f.push(new Ki(r,this.verbose)),f.push(new Lr),f.push(new _r),f.push(new Zo),f.push(new qn),o&&f.push(new Ki(r,this.verbose))),this.readers=f}reset(){if(this.readers!==null)for(const r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new nl("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(r,this.hints)}catch(l){if(l instanceof nl)continue}throw new H("No MultiFormat Readers were able to detect the code.")}}class Ju extends vt{constructor(r=null,o=500){const l=new qu;l.setHints(r),super(l,o)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class x0 extends vt{constructor(r=500){super(new qn,r)}}class A0 extends vt{constructor(r=500){super(new Lr,r)}}var Ac;(function(O){O[O.ERROR_CORRECTION=0]="ERROR_CORRECTION",O[O.CHARACTER_SET=1]="CHARACTER_SET",O[O.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",O[O.MIN_SIZE=3]="MIN_SIZE",O[O.MAX_SIZE=4]="MAX_SIZE",O[O.MARGIN=5]="MARGIN",O[O.PDF417_COMPACT=6]="PDF417_COMPACT",O[O.PDF417_COMPACTION=7]="PDF417_COMPACTION",O[O.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",O[O.AZTEC_LAYERS=9]="AZTEC_LAYERS",O[O.QR_VERSION=10]="QR_VERSION"})(Ac||(Ac={}));var Dn=Ac;class ro{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new An(r,Int32Array.from([1])))}buildGenerator(r){const o=this.cachedGenerators;if(r>=o.length){let l=o[o.length-1];const f=this.field;for(let d=o.length;d<=r;d++){const m=l.multiply(new An(f,Int32Array.from([1,f.exp(d-1+f.getGeneratorBase())])));o.push(m),l=m}}return o[r]}encode(r,o){if(o===0)throw new T("No error correction bytes");const l=r.length-o;if(l<=0)throw new T("No data bytes provided");const f=this.buildGenerator(o),d=new Int32Array(l);L.arraycopy(r,0,d,0,l);let m=new An(this.field,d);m=m.multiplyByMonomial(o,1);const E=m.divide(f)[1].getCoefficients(),v=o-E.length;for(let N=0;N<v;N++)r[l+N]=0;L.arraycopy(E,0,r,l+v,E.length)}}class fn{constructor(){}static applyMaskPenaltyRule1(r){return fn.applyMaskPenaltyRule1Internal(r,!0)+fn.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let o=0;const l=r.getArray(),f=r.getWidth(),d=r.getHeight();for(let m=0;m<d-1;m++){const x=l[m];for(let E=0;E<f-1;E++){const v=x[E];v===x[E+1]&&v===l[m+1][E]&&v===l[m+1][E+1]&&o++}}return fn.N2*o}static applyMaskPenaltyRule3(r){let o=0;const l=r.getArray(),f=r.getWidth(),d=r.getHeight();for(let m=0;m<d;m++)for(let x=0;x<f;x++){const E=l[m];x+6<f&&E[x]===1&&E[x+1]===0&&E[x+2]===1&&E[x+3]===1&&E[x+4]===1&&E[x+5]===0&&E[x+6]===1&&(fn.isWhiteHorizontal(E,x-4,x)||fn.isWhiteHorizontal(E,x+7,x+11))&&o++,m+6<d&&l[m][x]===1&&l[m+1][x]===0&&l[m+2][x]===1&&l[m+3][x]===1&&l[m+4][x]===1&&l[m+5][x]===0&&l[m+6][x]===1&&(fn.isWhiteVertical(l,x,m-4,m)||fn.isWhiteVertical(l,x,m+7,m+11))&&o++}return o*fn.N3}static isWhiteHorizontal(r,o,l){o=Math.max(o,0),l=Math.min(l,r.length);for(let f=o;f<l;f++)if(r[f]===1)return!1;return!0}static isWhiteVertical(r,o,l,f){l=Math.max(l,0),f=Math.min(f,r.length);for(let d=l;d<f;d++)if(r[d][o]===1)return!1;return!0}static applyMaskPenaltyRule4(r){let o=0;const l=r.getArray(),f=r.getWidth(),d=r.getHeight();for(let E=0;E<d;E++){const v=l[E];for(let N=0;N<f;N++)v[N]===1&&o++}const m=r.getHeight()*r.getWidth();return Math.floor(Math.abs(o*2-m)*10/m)*fn.N4}static getDataMaskBit(r,o,l){let f,d;switch(r){case 0:f=l+o&1;break;case 1:f=l&1;break;case 2:f=o%3;break;case 3:f=(l+o)%3;break;case 4:f=Math.floor(l/2)+Math.floor(o/3)&1;break;case 5:d=l*o,f=(d&1)+d%3;break;case 6:d=l*o,f=(d&1)+d%3&1;break;case 7:d=l*o,f=d%3+(l+o&1)&1;break;default:throw new T("Invalid mask pattern: "+r)}return f===0}static applyMaskPenaltyRule1Internal(r,o){let l=0;const f=o?r.getHeight():r.getWidth(),d=o?r.getWidth():r.getHeight(),m=r.getArray();for(let x=0;x<f;x++){let E=0,v=-1;for(let N=0;N<d;N++){const R=o?m[x][N]:m[N][x];R===v?E++:(E>=5&&(l+=fn.N1+(E-5)),E=1,v=R)}E>=5&&(l+=fn.N1+(E-5))}return l}}fn.N1=3,fn.N2=3,fn.N3=40,fn.N4=10;class il{constructor(r,o){this.width=r,this.height=o;const l=new Array(o);for(let f=0;f!==o;f++)l[f]=new Uint8Array(r);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(r,o){return this.bytes[o][r]}getArray(){return this.bytes}setNumber(r,o,l){this.bytes[o][r]=l}setBoolean(r,o,l){this.bytes[o][r]=l?1:0}clear(r){for(const o of this.bytes)q.fill(o,r)}equals(r){if(!(r instanceof il))return!1;const o=r;if(this.width!==o.width||this.height!==o.height)return!1;for(let l=0,f=this.height;l<f;++l){const d=this.bytes[l],m=o.bytes[l];for(let x=0,E=this.width;x<E;++x)if(d[x]!==m[x])return!1}return!0}toString(){const r=new jt;for(let o=0,l=this.height;o<l;++o){const f=this.bytes[o];for(let d=0,m=this.width;d<m;++d)switch(f[d]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}class gs{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new jt;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<gs.NUM_MASK_PATTERNS}}gs.NUM_MASK_PATTERNS=8;class Ue extends y{}Ue.kind="WriterException";class Kt{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,o,l,f,d){Kt.clearMatrix(d),Kt.embedBasicPatterns(l,d),Kt.embedTypeInfo(o,f,d),Kt.maybeEmbedVersionInfo(l,d),Kt.embedDataBits(r,f,d)}static embedBasicPatterns(r,o){Kt.embedPositionDetectionPatternsAndSeparators(o),Kt.embedDarkDotAtLeftBottomCorner(o),Kt.maybeEmbedPositionAdjustmentPatterns(r,o),Kt.embedTimingPatterns(o)}static embedTypeInfo(r,o,l){const f=new lt;Kt.makeTypeInfoBits(r,o,f);for(let d=0,m=f.getSize();d<m;++d){const x=f.get(f.getSize()-1-d),E=Kt.TYPE_INFO_COORDINATES[d],v=E[0],N=E[1];if(l.setBoolean(v,N,x),d<8){const R=l.getWidth()-d-1;l.setBoolean(R,8,x)}else{const B=l.getHeight()-7+(d-8);l.setBoolean(8,B,x)}}}static maybeEmbedVersionInfo(r,o){if(r.getVersionNumber()<7)return;const l=new lt;Kt.makeVersionInfoBits(r,l);let f=17;for(let d=0;d<6;++d)for(let m=0;m<3;++m){const x=l.get(f);f--,o.setBoolean(d,o.getHeight()-11+m,x),o.setBoolean(o.getHeight()-11+m,d,x)}}static embedDataBits(r,o,l){let f=0,d=-1,m=l.getWidth()-1,x=l.getHeight()-1;for(;m>0;){for(m===6&&(m-=1);x>=0&&x<l.getHeight();){for(let E=0;E<2;++E){const v=m-E;if(!Kt.isEmpty(l.get(v,x)))continue;let N;f<r.getSize()?(N=r.get(f),++f):N=!1,o!==255&&fn.getDataMaskBit(o,v,x)&&(N=!N),l.setBoolean(v,x,N)}x+=d}d=-d,x+=d,m-=2}if(f!==r.getSize())throw new Ue("Not all bits consumed: "+f+"/"+r.getSize())}static findMSBSet(r){return 32-z.numberOfLeadingZeros(r)}static calculateBCHCode(r,o){if(o===0)throw new T("0 polynomial");const l=Kt.findMSBSet(o);for(r<<=l-1;Kt.findMSBSet(r)>=l;)r^=o<<Kt.findMSBSet(r)-l;return r}static makeTypeInfoBits(r,o,l){if(!gs.isValidMaskPattern(o))throw new Ue("Invalid mask pattern");const f=r.getBits()<<3|o;l.appendBits(f,5);const d=Kt.calculateBCHCode(f,Kt.TYPE_INFO_POLY);l.appendBits(d,10);const m=new lt;if(m.appendBits(Kt.TYPE_INFO_MASK_PATTERN,15),l.xor(m),l.getSize()!==15)throw new Ue("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(r,o){o.appendBits(r.getVersionNumber(),6);const l=Kt.calculateBCHCode(r.getVersionNumber(),Kt.VERSION_INFO_POLY);if(o.appendBits(l,12),o.getSize()!==18)throw new Ue("should not happen but we got: "+o.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let o=8;o<r.getWidth()-8;++o){const l=(o+1)%2;Kt.isEmpty(r.get(o,6))&&r.setNumber(o,6,l),Kt.isEmpty(r.get(6,o))&&r.setNumber(6,o,l)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new Ue;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,o,l){for(let f=0;f<8;++f){if(!Kt.isEmpty(l.get(r+f,o)))throw new Ue;l.setNumber(r+f,o,0)}}static embedVerticalSeparationPattern(r,o,l){for(let f=0;f<7;++f){if(!Kt.isEmpty(l.get(r,o+f)))throw new Ue;l.setNumber(r,o+f,0)}}static embedPositionAdjustmentPattern(r,o,l){for(let f=0;f<5;++f){const d=Kt.POSITION_ADJUSTMENT_PATTERN[f];for(let m=0;m<5;++m)l.setNumber(r+m,o+f,d[m])}}static embedPositionDetectionPattern(r,o,l){for(let f=0;f<7;++f){const d=Kt.POSITION_DETECTION_PATTERN[f];for(let m=0;m<7;++m)l.setNumber(r+m,o+f,d[m])}}static embedPositionDetectionPatternsAndSeparators(r){const o=Kt.POSITION_DETECTION_PATTERN[0].length;Kt.embedPositionDetectionPattern(0,0,r),Kt.embedPositionDetectionPattern(r.getWidth()-o,0,r),Kt.embedPositionDetectionPattern(0,r.getWidth()-o,r);const l=8;Kt.embedHorizontalSeparationPattern(0,l-1,r),Kt.embedHorizontalSeparationPattern(r.getWidth()-l,l-1,r),Kt.embedHorizontalSeparationPattern(0,r.getWidth()-l,r);const f=7;Kt.embedVerticalSeparationPattern(f,0,r),Kt.embedVerticalSeparationPattern(r.getHeight()-f-1,0,r),Kt.embedVerticalSeparationPattern(f,r.getHeight()-f,r)}static maybeEmbedPositionAdjustmentPatterns(r,o){if(r.getVersionNumber()<2)return;const l=r.getVersionNumber()-1,f=Kt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let d=0,m=f.length;d!==m;d++){const x=f[d];if(x>=0)for(let E=0;E!==m;E++){const v=f[E];v>=0&&Kt.isEmpty(o.get(v,x))&&Kt.embedPositionAdjustmentPattern(v-2,x-2,o)}}}}Kt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Kt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Kt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Kt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Kt.VERSION_INFO_POLY=7973,Kt.TYPE_INFO_POLY=1335,Kt.TYPE_INFO_MASK_PATTERN=21522;class w0{constructor(r,o){this.dataBytes=r,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Je{constructor(){}static calculateMaskPenalty(r){return fn.applyMaskPenaltyRule1(r)+fn.applyMaskPenaltyRule2(r)+fn.applyMaskPenaltyRule3(r)+fn.applyMaskPenaltyRule4(r)}static encode(r,o,l=null){let f=Je.DEFAULT_BYTE_MODE_ENCODING;const d=l!==null&&l.get(Dn.CHARACTER_SET)!==void 0;d&&(f=l.get(Dn.CHARACTER_SET).toString());const m=this.chooseMode(r,f),x=new lt;if(m===Yt.BYTE&&(d||Je.DEFAULT_BYTE_MODE_ENCODING!==f)){const bt=at.getCharacterSetECIByName(f);bt!==void 0&&this.appendECI(bt,x)}this.appendModeInfo(m,x);const E=new lt;this.appendBytes(r,m,E,f);let v;if(l!==null&&l.get(Dn.QR_VERSION)!==void 0){const bt=Number.parseInt(l.get(Dn.QR_VERSION).toString(),10);v=Ht.getVersionForNumber(bt);const At=this.calculateBitsNeeded(m,x,E,v);if(!this.willFit(At,v,o))throw new Ue("Data too big for requested version")}else v=this.recommendVersion(o,m,x,E);const N=new lt;N.appendBitArray(x);const R=m===Yt.BYTE?E.getSizeInBytes():r.length;this.appendLengthInfo(R,v,m,N),N.appendBitArray(E);const B=v.getECBlocksForLevel(o),k=v.getTotalCodewords()-B.getTotalECCodewords();this.terminateBits(k,N);const j=this.interleaveWithECBytes(N,v.getTotalCodewords(),k,B.getNumBlocks()),X=new gs;X.setECLevel(o),X.setMode(m),X.setVersion(v);const et=v.getDimensionForVersion(),ct=new il(et,et),St=this.chooseMaskPattern(j,o,v,ct);return X.setMaskPattern(St),Kt.buildMatrix(j,o,v,St,ct),X.setMatrix(ct),X}static recommendVersion(r,o,l,f){const d=this.calculateBitsNeeded(o,l,f,Ht.getVersionForNumber(1)),m=this.chooseVersion(d,r),x=this.calculateBitsNeeded(o,l,f,m);return this.chooseVersion(x,r)}static calculateBitsNeeded(r,o,l,f){return o.getSize()+r.getCharacterCountBits(f)+l.getSize()}static getAlphanumericCode(r){return r<Je.ALPHANUMERIC_TABLE.length?Je.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,o=null){if(at.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(r))return Yt.KANJI;let l=!1,f=!1;for(let d=0,m=r.length;d<m;++d){const x=r.charAt(d);if(Je.isDigit(x))l=!0;else if(this.getAlphanumericCode(x.charCodeAt(0))!==-1)f=!0;else return Yt.BYTE}return f?Yt.ALPHANUMERIC:l?Yt.NUMERIC:Yt.BYTE}static isOnlyDoubleByteKanji(r){let o;try{o=Ot.encode(r,at.SJIS)}catch{return!1}const l=o.length;if(l%2!==0)return!1;for(let f=0;f<l;f+=2){const d=o[f]&255;if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(r,o,l,f){let d=Number.MAX_SAFE_INTEGER,m=-1;for(let x=0;x<gs.NUM_MASK_PATTERNS;x++){Kt.buildMatrix(r,o,l,x,f);let E=this.calculateMaskPenalty(f);E<d&&(d=E,m=x)}return m}static chooseVersion(r,o){for(let l=1;l<=40;l++){const f=Ht.getVersionForNumber(l);if(Je.willFit(r,f,o))return f}throw new Ue("Data too big")}static willFit(r,o,l){const f=o.getTotalCodewords(),m=o.getECBlocksForLevel(l).getTotalECCodewords(),x=f-m,E=(r+7)/8;return x>=E}static terminateBits(r,o){const l=r*8;if(o.getSize()>l)throw new Ue("data bits cannot fit in the QR Code"+o.getSize()+" > "+l);for(let m=0;m<4&&o.getSize()<l;++m)o.appendBit(!1);const f=o.getSize()&7;if(f>0)for(let m=f;m<8;m++)o.appendBit(!1);const d=r-o.getSizeInBytes();for(let m=0;m<d;++m)o.appendBits((m&1)===0?236:17,8);if(o.getSize()!==l)throw new Ue("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,o,l,f,d,m){if(f>=l)throw new Ue("Block ID too large");const x=r%l,E=l-x,v=Math.floor(r/l),N=v+1,R=Math.floor(o/l),B=R+1,k=v-R,j=N-B;if(k!==j)throw new Ue("EC bytes mismatch");if(l!==E+x)throw new Ue("RS blocks mismatch");if(r!==(R+k)*E+(B+j)*x)throw new Ue("Total bytes mismatch");f<E?(d[0]=R,m[0]=k):(d[0]=B,m[0]=j)}static interleaveWithECBytes(r,o,l,f){if(r.getSizeInBytes()!==l)throw new Ue("Number of bits and data bytes does not match");let d=0,m=0,x=0;const E=new Array;for(let N=0;N<f;++N){const R=new Int32Array(1),B=new Int32Array(1);Je.getNumDataBytesAndNumECBytesForBlockID(o,l,f,N,R,B);const k=R[0],j=new Uint8Array(k);r.toBytes(8*d,j,0,k);const X=Je.generateECBytes(j,B[0]);E.push(new w0(j,X)),m=Math.max(m,k),x=Math.max(x,X.length),d+=R[0]}if(l!==d)throw new Ue("Data bytes does not match offset");const v=new lt;for(let N=0;N<m;++N)for(const R of E){const B=R.getDataBytes();N<B.length&&v.appendBits(B[N],8)}for(let N=0;N<x;++N)for(const R of E){const B=R.getErrorCorrectionBytes();N<B.length&&v.appendBits(B[N],8)}if(o!==v.getSizeInBytes())throw new Ue("Interleaving error: "+o+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(r,o){const l=r.length,f=new Int32Array(l+o);for(let m=0;m<l;m++)f[m]=r[m]&255;new ro(re.QR_CODE_FIELD_256).encode(f,o);const d=new Uint8Array(o);for(let m=0;m<o;m++)d[m]=f[l+m];return d}static appendModeInfo(r,o){o.appendBits(r.getBits(),4)}static appendLengthInfo(r,o,l,f){const d=l.getCharacterCountBits(o);if(r>=1<<d)throw new Ue(r+" is bigger than "+((1<<d)-1));f.appendBits(r,d)}static appendBytes(r,o,l,f){switch(o){case Yt.NUMERIC:Je.appendNumericBytes(r,l);break;case Yt.ALPHANUMERIC:Je.appendAlphanumericBytes(r,l);break;case Yt.BYTE:Je.append8BitBytes(r,l,f);break;case Yt.KANJI:Je.appendKanjiBytes(r,l);break;default:throw new Ue("Invalid mode: "+o)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){const o=Je.getDigit(r);return o>=0&&o<=9}static appendNumericBytes(r,o){const l=r.length;let f=0;for(;f<l;){const d=Je.getDigit(r.charAt(f));if(f+2<l){const m=Je.getDigit(r.charAt(f+1)),x=Je.getDigit(r.charAt(f+2));o.appendBits(d*100+m*10+x,10),f+=3}else if(f+1<l){const m=Je.getDigit(r.charAt(f+1));o.appendBits(d*10+m,7),f+=2}else o.appendBits(d,4),f++}}static appendAlphanumericBytes(r,o){const l=r.length;let f=0;for(;f<l;){const d=Je.getAlphanumericCode(r.charCodeAt(f));if(d===-1)throw new Ue;if(f+1<l){const m=Je.getAlphanumericCode(r.charCodeAt(f+1));if(m===-1)throw new Ue;o.appendBits(d*45+m,11),f+=2}else o.appendBits(d,6),f++}}static append8BitBytes(r,o,l){let f;try{f=Ot.encode(r,l)}catch(d){throw new Ue(d)}for(let d=0,m=f.length;d!==m;d++){const x=f[d];o.appendBits(x,8)}}static appendKanjiBytes(r,o){let l;try{l=Ot.encode(r,at.SJIS)}catch(d){throw new Ue(d)}const f=l.length;for(let d=0;d<f;d+=2){const m=l[d]&255,x=l[d+1]&255,E=m<<8&4294967295|x;let v=-1;if(E>=33088&&E<=40956?v=E-33088:E>=57408&&E<=60351&&(v=E-49472),v===-1)throw new Ue("Invalid byte sequence");const N=(v>>8)*192+(v&255);o.appendBits(N,13)}}static appendECI(r,o){o.appendBits(Yt.ECI.getBits(),4),o.appendBits(r.getValue(),8)}}Je.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Je.DEFAULT_BYTE_MODE_ENCODING=at.UTF8.getName();class ms{write(r,o,l,f=null){if(r.length===0)throw new T("Found empty contents");if(o<0||l<0)throw new T("Requested dimensions are too small: "+o+"x"+l);let d=ue.L,m=ms.QUIET_ZONE_SIZE;f!==null&&(f.get(Dn.ERROR_CORRECTION)!==void 0&&(d=ue.fromString(f.get(Dn.ERROR_CORRECTION).toString())),f.get(Dn.MARGIN)!==void 0&&(m=Number.parseInt(f.get(Dn.MARGIN).toString(),10)));const x=Je.encode(r,d,f);return this.renderResult(x,o,l,m)}writeToDom(r,o,l,f,d=null){typeof r=="string"&&(r=document.querySelector(r));const m=this.write(o,l,f,d);r&&r.appendChild(m)}renderResult(r,o,l,f){const d=r.getMatrix();if(d===null)throw new oi;const m=d.getWidth(),x=d.getHeight(),E=m+f*2,v=x+f*2,N=Math.max(o,E),R=Math.max(l,v),B=Math.min(Math.floor(N/E),Math.floor(R/v)),k=Math.floor((N-m*B)/2),j=Math.floor((R-x*B)/2),X=this.createSVGElement(N,R);for(let et=0,ct=j;et<x;et++,ct+=B)for(let St=0,bt=k;St<m;St++,bt+=B)if(d.get(St,et)===1){const At=this.createSvgRectElement(bt,ct,B,B);X.appendChild(At)}return X}createSVGElement(r,o){const l=document.createElementNS(ms.SVG_NS,"svg");return l.setAttributeNS(null,"height",r.toString()),l.setAttributeNS(null,"width",o.toString()),l}createSvgRectElement(r,o,l,f){const d=document.createElementNS(ms.SVG_NS,"rect");return d.setAttributeNS(null,"x",r.toString()),d.setAttributeNS(null,"y",o.toString()),d.setAttributeNS(null,"height",l.toString()),d.setAttributeNS(null,"width",f.toString()),d.setAttributeNS(null,"fill","#000000"),d}}ms.QUIET_ZONE_SIZE=4,ms.SVG_NS="http://www.w3.org/2000/svg";class la{encode(r,o,l,f,d){if(r.length===0)throw new T("Found empty contents");if(o!==Ct.QR_CODE)throw new T("Can only encode QR_CODE, but got "+o);if(l<0||f<0)throw new T(`Requested dimensions are too small: ${l}x${f}`);let m=ue.L,x=la.QUIET_ZONE_SIZE;d!==null&&(d.get(Dn.ERROR_CORRECTION)!==void 0&&(m=ue.fromString(d.get(Dn.ERROR_CORRECTION).toString())),d.get(Dn.MARGIN)!==void 0&&(x=Number.parseInt(d.get(Dn.MARGIN).toString(),10)));const E=Je.encode(r,m,d);return la.renderResult(E,l,f,x)}static renderResult(r,o,l,f){const d=r.getMatrix();if(d===null)throw new oi;const m=d.getWidth(),x=d.getHeight(),E=m+f*2,v=x+f*2,N=Math.max(o,E),R=Math.max(l,v),B=Math.min(Math.floor(N/E),Math.floor(R/v)),k=Math.floor((N-m*B)/2),j=Math.floor((R-x*B)/2),X=new qt(N,R);for(let et=0,ct=j;et<x;et++,ct+=B)for(let St=0,bt=k;St<m;St++,bt+=B)d.get(St,et)===1&&X.setRegion(bt,ct,B,B);return X}}la.QUIET_ZONE_SIZE=4;class b0{encode(r,o,l,f,d){let m;if(o===Ct.QR_CODE)m=new la;else throw new T("No encoder available for format "+o);return m.encode(r,o,l,f,d)}}class yr extends Et{constructor(r,o,l,f,d,m,x,E){if(super(m,x),this.yuvData=r,this.dataWidth=o,this.dataHeight=l,this.left=f,this.top=d,f+m>o||d+x>l)throw new T("Crop rectangle does not fit within image data.");E&&this.reverseHorizontal(m,x)}getRow(r,o){if(r<0||r>=this.getHeight())throw new T("Requested row is outside the image: "+r);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const f=(r+this.top)*this.dataWidth+this.left;return L.arraycopy(this.yuvData,f,o,0,l),o}getMatrix(){const r=this.getWidth(),o=this.getHeight();if(r===this.dataWidth&&o===this.dataHeight)return this.yuvData;const l=r*o,f=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return L.arraycopy(this.yuvData,d,f,0,l),f;for(let m=0;m<o;m++){const x=m*r;L.arraycopy(this.yuvData,d,f,x,r),d+=this.dataWidth}return f}isCropSupported(){return!0}crop(r,o,l,f){return new yr(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+o,l,f,!1)}renderThumbnail(){const r=this.getWidth()/yr.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/yr.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(r*o),f=this.yuvData;let d=this.top*this.dataWidth+this.left;for(let m=0;m<o;m++){const x=m*r;for(let E=0;E<r;E++){const v=f[d+E*yr.THUMBNAIL_SCALE_FACTOR]&255;l[x+E]=4278190080|v*65793}d+=this.dataWidth*yr.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/yr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/yr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,o){const l=this.yuvData;for(let f=0,d=this.top*this.dataWidth+this.left;f<o;f++,d+=this.dataWidth){const m=d+r/2;for(let x=d,E=d+r-1;x<m;x++,E--){const v=l[x];l[x]=l[E],l[E]=v}}}invert(){return new Rt(this)}}yr.THUMBNAIL_SCALE_FACTOR=2;class wc extends Et{constructor(r,o,l,f,d,m,x){if(super(o,l),this.dataWidth=f,this.dataHeight=d,this.left=m,this.top=x,r.BYTES_PER_ELEMENT===4){const E=o*l,v=new Uint8ClampedArray(E);for(let N=0;N<E;N++){const R=r[N],B=R>>16&255,k=R>>7&510,j=R&255;v[N]=(B+k+j)/4&255}this.luminances=v}else this.luminances=r;if(f===void 0&&(this.dataWidth=o),d===void 0&&(this.dataHeight=l),m===void 0&&(this.left=0),x===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+l>this.dataHeight)throw new T("Crop rectangle does not fit within image data.")}getRow(r,o){if(r<0||r>=this.getHeight())throw new T("Requested row is outside the image: "+r);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const f=(r+this.top)*this.dataWidth+this.left;return L.arraycopy(this.luminances,f,o,0,l),o}getMatrix(){const r=this.getWidth(),o=this.getHeight();if(r===this.dataWidth&&o===this.dataHeight)return this.luminances;const l=r*o,f=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return L.arraycopy(this.luminances,d,f,0,l),f;for(let m=0;m<o;m++){const x=m*r;L.arraycopy(this.luminances,d,f,x,r),d+=this.dataWidth}return f}isCropSupported(){return!0}crop(r,o,l,f){return new wc(this.luminances,l,f,this.dataWidth,this.dataHeight,this.left+r,this.top+o)}invert(){return new Rt(this)}}class $u extends at{static forName(r){return this.getCharacterSetECIByName(r)}}class so{}so.ISO_8859_1=at.ISO8859_1;class ca{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class tf{static singletonList(r){return[r]}static min(r,o){return r.sort(o)[0]}}class ef{constructor(r){this.previous=r}getPrevious(){return this.previous}}class ps extends ef{constructor(r,o,l){super(r),this.value=o,this.bitCount=l}appendTo(r,o){r.appendBits(this.value,this.bitCount)}add(r,o){return new ps(this,r,o)}addBinaryShift(r,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ps(this,r,o)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+z.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class rl extends ps{constructor(r,o,l){super(r,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=l}appendTo(r,o){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):l===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(o[this.binaryShiftStart+l],8)}addBinaryShift(r,o){return new rl(this,r,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function nf(O,r,o){return new rl(O,r,o)}function ua(O,r,o){return new ps(O,r,o)}const fa=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ns=0,sl=1,Ui=2,bc=3,Ji=4,ao=new ps(null,0,0),ys=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function E0(O){for(let r of O)q.fill(r,-1);return O[ns][Ji]=0,O[sl][Ji]=0,O[sl][ns]=28,O[bc][Ji]=0,O[Ui][Ji]=0,O[Ui][ns]=15,O}const oo=E0(q.createInt32Array(6,6));class $i{constructor(r,o,l,f){this.token=r,this.mode=o,this.binaryShiftByteCount=l,this.bitCount=f}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,o){let l=this.bitCount,f=this.token;if(r!==this.mode){let m=ys[this.mode][r];f=ua(f,m&65535,m>>16),l+=m>>16}let d=r===Ui?4:5;return f=ua(f,o,d),new $i(f,r,0,l+d)}shiftAndAppend(r,o){let l=this.token,f=this.mode===Ui?4:5;return l=ua(l,oo[this.mode][r],f),l=ua(l,o,5),new $i(l,this.mode,0,this.bitCount+f+5)}addBinaryShiftChar(r){let o=this.token,l=this.mode,f=this.bitCount;if(this.mode===Ji||this.mode===Ui){let x=ys[l][ns];o=ua(o,x&65535,x>>16),f+=x>>16,l=ns}let d=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,m=new $i(o,l,this.binaryShiftByteCount+1,f+d);return m.binaryShiftByteCount===2078&&(m=m.endBinaryShift(r+1)),m}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=nf(o,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new $i(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let o=this.bitCount+(ys[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?o+=$i.calculateBinaryShiftCost(r)-$i.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(o+=10),o<=r.bitCount}toBitArray(r){let o=[];for(let f=this.endBinaryShift(r.length).token;f!==null;f=f.getPrevious())o.unshift(f);let l=new lt;for(const f of o)f.appendTo(l,r);return l}toString(){return Mt.format("%s bits=%d bytes=%d",fa[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}$i.INITIAL_STATE=new $i(ao,ns,0,0);function rf(O){const r=Mt.getCharCode(" "),o=Mt.getCharCode("."),l=Mt.getCharCode(",");O[ns][r]=1;const f=Mt.getCharCode("Z"),d=Mt.getCharCode("A");for(let B=d;B<=f;B++)O[ns][B]=B-d+2;O[sl][r]=1;const m=Mt.getCharCode("z"),x=Mt.getCharCode("a");for(let B=x;B<=m;B++)O[sl][B]=B-x+2;O[Ui][r]=1;const E=Mt.getCharCode("9"),v=Mt.getCharCode("0");for(let B=v;B<=E;B++)O[Ui][B]=B-v+2;O[Ui][l]=12,O[Ui][o]=13;const N=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let B=0;B<N.length;B++)O[bc][Mt.getCharCode(N[B])]=B;const R=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let B=0;B<R.length;B++)Mt.getCharCode(R[B])>0&&(O[Ji][Mt.getCharCode(R[B])]=B);return O}const lo=rf(q.createInt32Array(5,256));class xs{constructor(r){this.text=r}encode(){const r=Mt.getCharCode(" "),o=Mt.getCharCode(`
`);let l=tf.singletonList($i.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let m,x=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case Mt.getCharCode("\r"):m=x===o?2:0;break;case Mt.getCharCode("."):m=x===r?3:0;break;case Mt.getCharCode(","):m=x===r?4:0;break;case Mt.getCharCode(":"):m=x===r?5:0;break;default:m=0}m>0?(l=xs.updateStateListForPair(l,d,m),d++):l=this.updateStateListForChar(l,d)}return tf.min(l,(d,m)=>d.getBitCount()-m.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,o){const l=[];for(let f of r)this.updateStateForChar(f,o,l);return xs.simplifyStates(l)}updateStateForChar(r,o,l){let f=this.text[o]&255,d=lo[r.getMode()][f]>0,m=null;for(let x=0;x<=Ji;x++){let E=lo[x][f];if(E>0){if(m==null&&(m=r.endBinaryShift(o)),!d||x===r.getMode()||x===Ui){const v=m.latchAndAppend(x,E);l.push(v)}if(!d&&oo[r.getMode()][x]>=0){const v=m.shiftAndAppend(x,E);l.push(v)}}}if(r.getBinaryShiftByteCount()>0||lo[r.getMode()][f]===0){let x=r.addBinaryShiftChar(o);l.push(x)}}static updateStateListForPair(r,o,l){const f=[];for(let d of r)this.updateStateForPair(d,o,l,f);return this.simplifyStates(f)}static updateStateForPair(r,o,l,f){let d=r.endBinaryShift(o);if(f.push(d.latchAndAppend(Ji,l)),r.getMode()!==Ji&&f.push(d.shiftAndAppend(Ji,l)),l===3||l===4){let m=d.latchAndAppend(Ui,16-l).latchAndAppend(Ui,1);f.push(m)}if(r.getBinaryShiftByteCount()>0){let m=r.addBinaryShiftChar(o).addBinaryShiftChar(o+1);f.push(m)}}static simplifyStates(r){let o=[];for(const l of r){let f=!0;for(const d of o){if(d.isBetterThanOrEqualTo(l)){f=!1;break}l.isBetterThanOrEqualTo(d)&&(o=o.filter(m=>m!==d))}f&&o.push(l)}return o}}class we{constructor(){}static encodeBytes(r){return we.encode(r,we.DEFAULT_EC_PERCENT,we.DEFAULT_AZTEC_LAYERS)}static encode(r,o,l){let f=new xs(r).encode(),d=z.truncDivision(f.getSize()*o,100)+11,m=f.getSize()+d,x,E,v,N,R;if(l!==we.DEFAULT_AZTEC_LAYERS){if(x=l<0,E=Math.abs(l),E>(x?we.MAX_NB_BITS_COMPACT:we.MAX_NB_BITS))throw new T(Mt.format("Illegal value %s for layers",l));v=we.totalBitsInLayer(E,x),N=we.WORD_SIZE[E];let At=v-v%N;if(R=we.stuffBits(f,N),R.getSize()+d>At)throw new T("Data to large for user specified layer");if(x&&R.getSize()>N*64)throw new T("Data to large for user specified layer")}else{N=0,R=null;for(let At=0;;At++){if(At>we.MAX_NB_BITS)throw new T("Data too large for an Aztec code");if(x=At<=3,E=x?At+1:At,v=we.totalBitsInLayer(E,x),m>v)continue;(R==null||N!==we.WORD_SIZE[E])&&(N=we.WORD_SIZE[E],R=we.stuffBits(f,N));let le=v-v%N;if(!(x&&R.getSize()>N*64)&&R.getSize()+d<=le)break}}let B=we.generateCheckWords(R,v,N),k=R.getSize()/N,j=we.generateModeMessage(x,E,k),X=(x?11:14)+E*4,et=new Int32Array(X),ct;if(x){ct=X;for(let At=0;At<et.length;At++)et[At]=At}else{ct=X+1+2*z.truncDivision(z.truncDivision(X,2)-1,15);let At=z.truncDivision(X,2),le=z.truncDivision(ct,2);for(let te=0;te<At;te++){let En=te+z.truncDivision(te,15);et[At-te-1]=le-En-1,et[At+te]=le+En+1}}let St=new qt(ct);for(let At=0,le=0;At<E;At++){let te=(E-At)*4+(x?9:12);for(let En=0;En<te;En++){let ki=En*2;for(let ui=0;ui<2;ui++)B.get(le+ki+ui)&&St.set(et[At*2+ui],et[At*2+En]),B.get(le+te*2+ki+ui)&&St.set(et[At*2+En],et[X-1-At*2-ui]),B.get(le+te*4+ki+ui)&&St.set(et[X-1-At*2-ui],et[X-1-At*2-En]),B.get(le+te*6+ki+ui)&&St.set(et[X-1-At*2-En],et[At*2+ui])}le+=te*8}if(we.drawModeMessage(St,x,ct,j),x)we.drawBullsEye(St,z.truncDivision(ct,2),5);else{we.drawBullsEye(St,z.truncDivision(ct,2),7);for(let At=0,le=0;At<z.truncDivision(X,2)-1;At+=15,le+=16)for(let te=z.truncDivision(ct,2)&1;te<ct;te+=2)St.set(z.truncDivision(ct,2)-le,te),St.set(z.truncDivision(ct,2)+le,te),St.set(te,z.truncDivision(ct,2)-le),St.set(te,z.truncDivision(ct,2)+le)}let bt=new ca;return bt.setCompact(x),bt.setSize(ct),bt.setLayers(E),bt.setCodeWords(k),bt.setMatrix(St),bt}static drawBullsEye(r,o,l){for(let f=0;f<l;f+=2)for(let d=o-f;d<=o+f;d++)r.set(d,o-f),r.set(d,o+f),r.set(o-f,d),r.set(o+f,d);r.set(o-l,o-l),r.set(o-l+1,o-l),r.set(o-l,o-l+1),r.set(o+l,o-l),r.set(o+l,o-l+1),r.set(o+l,o+l-1)}static generateModeMessage(r,o,l){let f=new lt;return r?(f.appendBits(o-1,2),f.appendBits(l-1,6),f=we.generateCheckWords(f,28,4)):(f.appendBits(o-1,5),f.appendBits(l-1,11),f=we.generateCheckWords(f,40,4)),f}static drawModeMessage(r,o,l,f){let d=z.truncDivision(l,2);if(o)for(let m=0;m<7;m++){let x=d-3+m;f.get(m)&&r.set(x,d-5),f.get(m+7)&&r.set(d+5,x),f.get(20-m)&&r.set(x,d+5),f.get(27-m)&&r.set(d-5,x)}else for(let m=0;m<10;m++){let x=d-5+m+z.truncDivision(m,5);f.get(m)&&r.set(x,d-7),f.get(m+10)&&r.set(d+7,x),f.get(29-m)&&r.set(x,d+7),f.get(39-m)&&r.set(d-7,x)}}static generateCheckWords(r,o,l){let f=r.getSize()/l,d=new ro(we.getGF(l)),m=z.truncDivision(o,l),x=we.bitsToWords(r,l,m);d.encode(x,m-f);let E=o%l,v=new lt;v.appendBits(0,E);for(const N of Array.from(x))v.appendBits(N,l);return v}static bitsToWords(r,o,l){let f=new Int32Array(l),d,m;for(d=0,m=r.getSize()/o;d<m;d++){let x=0;for(let E=0;E<o;E++)x|=r.get(d*o+E)?1<<o-E-1:0;f[d]=x}return f}static getGF(r){switch(r){case 4:return re.AZTEC_PARAM;case 6:return re.AZTEC_DATA_6;case 8:return re.AZTEC_DATA_8;case 10:return re.AZTEC_DATA_10;case 12:return re.AZTEC_DATA_12;default:throw new T("Unsupported word size "+r)}}static stuffBits(r,o){let l=new lt,f=r.getSize(),d=(1<<o)-2;for(let m=0;m<f;m+=o){let x=0;for(let E=0;E<o;E++)(m+E>=f||r.get(m+E))&&(x|=1<<o-1-E);(x&d)===d?(l.appendBits(x&d,o),m--):(x&d)===0?(l.appendBits(x|1,o),m--):l.appendBits(x,o)}return l}static totalBitsInLayer(r,o){return((o?88:112)+16*r)*r}}we.DEFAULT_EC_PERCENT=33,we.DEFAULT_AZTEC_LAYERS=0,we.MAX_NB_BITS=32,we.MAX_NB_BITS_COMPACT=4,we.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class co{encode(r,o,l,f){return this.encodeWithHints(r,o,l,f,null)}encodeWithHints(r,o,l,f,d){let m=so.ISO_8859_1,x=we.DEFAULT_EC_PERCENT,E=we.DEFAULT_AZTEC_LAYERS;return d!=null&&(d.has(Dn.CHARACTER_SET)&&(m=$u.forName(d.get(Dn.CHARACTER_SET).toString())),d.has(Dn.ERROR_CORRECTION)&&(x=z.parseInt(d.get(Dn.ERROR_CORRECTION).toString())),d.has(Dn.AZTEC_LAYERS)&&(E=z.parseInt(d.get(Dn.AZTEC_LAYERS).toString()))),co.encodeLayers(r,o,l,f,m,x,E)}static encodeLayers(r,o,l,f,d,m,x){if(o!==Ct.AZTEC)throw new T("Can only encode AZTEC, but got "+o);let E=we.encode(Mt.getBytes(r,d),m,x);return co.renderResult(E,l,f)}static renderResult(r,o,l){let f=r.getMatrix();if(f==null)throw new oi;let d=f.getWidth(),m=f.getHeight(),x=Math.max(o,d),E=Math.max(l,m),v=Math.min(x/d,E/m),N=(x-d*v)/2,R=(E-m*v)/2,B=new qt(x,E);for(let k=0,j=R;k<m;k++,j+=v)for(let X=0,et=N;X<d;X++,et+=v)f.get(X,k)&&B.setRegion(et,j,v,v);return B}}e.AbstractExpandedDecoder=On,e.ArgumentException=C,e.ArithmeticException=Xn,e.AztecCode=ca,e.AztecCodeReader=Zo,e.AztecCodeWriter=co,e.AztecDecoder=ze,e.AztecDetector=uc,e.AztecDetectorResult=Gu,e.AztecEncoder=we,e.AztecHighLevelEncoder=xs,e.AztecPoint=li,e.BarcodeFormat=Ct,e.Binarizer=P,e.BinaryBitmap=I,e.BitArray=lt,e.BitMatrix=qt,e.BitSource=Wi,e.BrowserAztecCodeReader=g0,e.BrowserBarcodeReader=m0,e.BrowserCodeReader=vt,e.BrowserDatamatrixCodeReader=qo,e.BrowserMultiFormatReader=Ju,e.BrowserPDF417Reader=x0,e.BrowserQRCodeReader=A0,e.BrowserQRCodeSvgWriter=ms,e.CharacterSetECI=at,e.ChecksumException=D,e.Code128Reader=Tt,e.Code39Reader=Ye,e.DataMatrixDecodedBitStreamParser=Br,e.DataMatrixReader=_r,e.DecodeHintType=dt,e.DecoderResult=Ce,e.DefaultGridSampler=cc,e.DetectorResult=Qo,e.EAN13Reader=dr,e.EncodeHintType=Dn,e.Exception=y,e.FormatException=K,e.GenericGF=re,e.GenericGFPoly=An,e.GlobalHistogramBinarizer=Q,e.GridSampler=lc,e.GridSamplerInstance=Qi,e.HTMLCanvasElementLuminanceSource=kt,e.HybridBinarizer=tt,e.ITFReader=se,e.IllegalArgumentException=T,e.IllegalStateException=oi,e.InvertedLuminanceSource=Rt,e.LuminanceSource=Et,e.MathUtils=ge,e.MultiFormatOneDReader=Ki,e.MultiFormatReader=qu,e.MultiFormatWriter=b0,e.NotFoundException=H,e.OneDReader=tn,e.PDF417DecodedBitStreamParser=ut,e.PDF417DecoderErrorCorrection=Pr,e.PDF417Reader=qn,e.PDF417ResultMetadata=oa,e.PerspectiveTransform=_i,e.PlanarYUVLuminanceSource=yr,e.QRCodeByteMatrix=il,e.QRCodeDataMask=Ci,e.QRCodeDecodedBitStreamParser=We,e.QRCodeDecoderErrorCorrectionLevel=ue,e.QRCodeDecoderFormatInformation=Un,e.QRCodeEncoder=Je,e.QRCodeEncoderQRCode=gs,e.QRCodeMaskUtil=fn,e.QRCodeMatrixUtil=Kt,e.QRCodeMode=Yt,e.QRCodeReader=Lr,e.QRCodeVersion=Ht,e.QRCodeWriter=la,e.RGBLuminanceSource=wc,e.RSS14Reader=Pe,e.RSSExpandedReader=xt,e.ReaderException=nl,e.ReedSolomonDecoder=hr,e.ReedSolomonEncoder=ro,e.ReedSolomonException=Qn,e.Result=It,e.ResultMetadataType=de,e.ResultPoint=Ft,e.StringUtils=Mt,e.UnsupportedOperationException=_t,e.VideoInputDevice=Y,e.WhiteRectangleDetector=mn,e.WriterException=Ue,e.ZXingArrays=q,e.ZXingCharset=$u,e.ZXingInteger=z,e.ZXingStandardCharsets=so,e.ZXingStringBuilder=jt,e.ZXingStringEncoding=Ot,e.ZXingSystem=L,e.createAbstractExpandedDecoder=ta,Object.defineProperty(e,"__esModule",{value:!0})}))})(cu,cu.exports)),cu.exports}var ln=O6();const R6=Ww(ln),D6=o4({__proto__:null,default:R6},[ln]);var CA=(function(){function n(t,e,a){if(this.formatMap=new Map([[Pt.QR_CODE,ln.BarcodeFormat.QR_CODE],[Pt.AZTEC,ln.BarcodeFormat.AZTEC],[Pt.CODABAR,ln.BarcodeFormat.CODABAR],[Pt.CODE_39,ln.BarcodeFormat.CODE_39],[Pt.CODE_93,ln.BarcodeFormat.CODE_93],[Pt.CODE_128,ln.BarcodeFormat.CODE_128],[Pt.DATA_MATRIX,ln.BarcodeFormat.DATA_MATRIX],[Pt.MAXICODE,ln.BarcodeFormat.MAXICODE],[Pt.ITF,ln.BarcodeFormat.ITF],[Pt.EAN_13,ln.BarcodeFormat.EAN_13],[Pt.EAN_8,ln.BarcodeFormat.EAN_8],[Pt.PDF_417,ln.BarcodeFormat.PDF_417],[Pt.RSS_14,ln.BarcodeFormat.RSS_14],[Pt.RSS_EXPANDED,ln.BarcodeFormat.RSS_EXPANDED],[Pt.UPC_A,ln.BarcodeFormat.UPC_A],[Pt.UPC_E,ln.BarcodeFormat.UPC_E],[Pt.UPC_EAN_EXTENSION,ln.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!D6)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=e,this.logger=a;var u=this.createZXingFormats(t),h=new Map;h.set(ln.DecodeHintType.POSSIBLE_FORMATS,u),h.set(ln.DecodeHintType.TRY_HARDER,!1),this.hints=h}return n.prototype.decodeAsync=function(t){var e=this;return new Promise(function(a,u){try{a(e.decode(t))}catch(h){u(h)}})},n.prototype.decode=function(t){var e=new ln.MultiFormatReader(this.verbose,this.hints),a=new ln.HTMLCanvasElementLuminanceSource(t),u=new ln.BinaryBitmap(new ln.HybridBinarizer(a)),h=e.decode(u);return{text:h.text,format:n3.create(this.toHtml5QrcodeSupportedFormats(h.format)),debugData:this.createDebugData()}},n.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(e,a,u){t.set(e,a)}),t},n.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},n.prototype.createZXingFormats=function(t){for(var e=[],a=0,u=t;a<u.length;a++){var h=u[a];this.formatMap.has(h)?e.push(this.formatMap.get(h)):this.logger.logError("".concat(h," is not supported by")+"ZXingHtml5QrcodeShim")}return e},n.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},n})(),B6=function(n,t,e,a){function u(h){return h instanceof e?h:new e(function(p){p(h)})}return new(e||(e=Promise))(function(h,p){function w(C){try{y(a.next(C))}catch(T){p(T)}}function A(C){try{y(a.throw(C))}catch(T){p(T)}}function y(C){C.done?h(C.value):u(C.value).then(w,A)}y((a=a.apply(n,t||[])).next())})},_6=function(n,t){var e={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},a,u,h,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(y){return function(C){return A([y,C])}}function A(y){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(e=0)),e;)try{if(a=1,u&&(h=y[0]&2?u.return:y[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,y[1])).done)return h;switch(u=0,h&&(y=[y[0]&2,h.value]),y[0]){case 0:case 1:h=y;break;case 4:return e.label++,{value:y[1],done:!1};case 5:e.label++,u=y[1],y=[0];continue;case 7:y=e.ops.pop(),e.trys.pop();continue;default:if(h=e.trys,!(h=h.length>0&&h[h.length-1])&&(y[0]===6||y[0]===2)){e=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){e.label=y[1];break}if(y[0]===6&&e.label<h[1]){e.label=h[1],h=y;break}if(h&&e.label<h[2]){e.label=h[2],e.ops.push(y);break}h[2]&&e.ops.pop(),e.trys.pop();continue}y=t.call(n,e)}catch(C){y=[6,C],u=0}finally{a=h=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},SA=(function(){function n(t,e,a){if(this.formatMap=new Map([[Pt.QR_CODE,"qr_code"],[Pt.AZTEC,"aztec"],[Pt.CODABAR,"codabar"],[Pt.CODE_39,"code_39"],[Pt.CODE_93,"code_93"],[Pt.CODE_128,"code_128"],[Pt.DATA_MATRIX,"data_matrix"],[Pt.ITF,"itf"],[Pt.EAN_13,"ean_13"],[Pt.EAN_8,"ean_8"],[Pt.PDF_417,"pdf417"],[Pt.UPC_A,"upc_a"],[Pt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!n.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=e,this.logger=a;var u=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(u),!this.detector)throw"BarcodeDetector detector not supported"}return n.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},n.prototype.decodeAsync=function(t){return B6(this,void 0,void 0,function(){var e,a;return _6(this,function(u){switch(u.label){case 0:return[4,this.detector.detect(t)];case 1:if(e=u.sent(),!e||e.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(e),[2,{text:a.rawValue,format:n3.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},n.prototype.selectLargestBarcode=function(t){for(var e=null,a=0,u=0,h=t;u<h.length;u++){var p=h[u],w=p.boundingBox.width*p.boundingBox.height;w>a&&(a=w,e=p)}if(!e)throw"No largest barcode found";return e},n.prototype.createBarcodeDetectorFormats=function(t){for(var e=[],a=0,u=t;a<u.length;a++){var h=u[a];this.formatMap.has(h)?e.push(this.formatMap.get(h)):this.logger.warn("".concat(h," is not supported by")+"BarcodeDetectorDelegate")}return{formats:e}},n.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},n.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(e,a,u){t.set(e,a)}),t},n.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},n})(),TA=function(n,t,e,a){function u(h){return h instanceof e?h:new e(function(p){p(h)})}return new(e||(e=Promise))(function(h,p){function w(C){try{y(a.next(C))}catch(T){p(T)}}function A(C){try{y(a.throw(C))}catch(T){p(T)}}function y(C){C.done?h(C.value):u(C.value).then(w,A)}y((a=a.apply(n,t||[])).next())})},vA=function(n,t){var e={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},a,u,h,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(y){return function(C){return A([y,C])}}function A(y){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(e=0)),e;)try{if(a=1,u&&(h=y[0]&2?u.return:y[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,y[1])).done)return h;switch(u=0,h&&(y=[y[0]&2,h.value]),y[0]){case 0:case 1:h=y;break;case 4:return e.label++,{value:y[1],done:!1};case 5:e.label++,u=y[1],y=[0];continue;case 7:y=e.ops.pop(),e.trys.pop();continue;default:if(h=e.trys,!(h=h.length>0&&h[h.length-1])&&(y[0]===6||y[0]===2)){e=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){e.label=y[1];break}if(y[0]===6&&e.label<h[1]){e.label=h[1],h=y;break}if(h&&e.label<h[2]){e.label=h[2],e.ops.push(y);break}h[2]&&e.ops.pop(),e.trys.pop();continue}y=t.call(n,e)}catch(C){y=[6,C],u=0}finally{a=h=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},L6=(function(){function n(t,e,a,u){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,e&&SA.isSupported()?(this.primaryDecoder=new SA(t,a,u),this.secondaryDecoder=new CA(t,a,u)):this.primaryDecoder=new CA(t,a,u)}return n.prototype.decodeAsync=function(t){return TA(this,void 0,void 0,function(){var e;return vA(this,function(a){switch(a.label){case 0:e=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(e),[7];case 4:return[2]}})})},n.prototype.decodeRobustlyAsync=function(t){return TA(this,void 0,void 0,function(){var e,a;return vA(this,function(u){switch(u.label){case 0:e=performance.now(),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,u.sent()];case 3:if(a=u.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw a;case 4:return this.possiblyLogPerformance(e),[7];case 5:return[2]}})})},n.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},n.prototype.possiblyLogPerformance=function(t){if(this.verbose){var e=performance.now()-t;this.executionResults.push(e),this.executions++,this.possiblyFlushPerformanceReport()}},n.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,e=0,a=this.executionResults;e<a.length;e++){var u=a[e];t+=u}var h=t/this.executionResults.length;console.log("".concat(h," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},n})(),dm=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(a[h]=u[h])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function a(){this.constructor=t}t.prototype=e===null?Object.create(e):(a.prototype=e.prototype,new a)}})(),Vh=function(n,t,e,a){function u(h){return h instanceof e?h:new e(function(p){p(h)})}return new(e||(e=Promise))(function(h,p){function w(C){try{y(a.next(C))}catch(T){p(T)}}function A(C){try{y(a.throw(C))}catch(T){p(T)}}function y(C){C.done?h(C.value):u(C.value).then(w,A)}y((a=a.apply(n,t||[])).next())})},Hh=function(n,t){var e={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},a,u,h,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(y){return function(C){return A([y,C])}}function A(y){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(e=0)),e;)try{if(a=1,u&&(h=y[0]&2?u.return:y[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,y[1])).done)return h;switch(u=0,h&&(y=[y[0]&2,h.value]),y[0]){case 0:case 1:h=y;break;case 4:return e.label++,{value:y[1],done:!1};case 5:e.label++,u=y[1],y=[0];continue;case 7:y=e.ops.pop(),e.trys.pop();continue;default:if(h=e.trys,!(h=h.length>0&&h[h.length-1])&&(y[0]===6||y[0]===2)){e=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){e.label=y[1];break}if(y[0]===6&&e.label<h[1]){e.label=h[1],h=y;break}if(h&&e.label<h[2]){e.label=h[2],e.ops.push(y);break}h[2]&&e.ops.pop(),e.trys.pop();continue}y=t.call(n,e)}catch(C){y=[6,C],u=0}finally{a=h=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},a3=(function(){function n(t,e){this.name=t,this.track=e}return n.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},n.prototype.apply=function(t){var e={};e[this.name]=t;var a={advanced:[e]};return this.track.applyConstraints(a)},n.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var e=t[this.name];return e}return null},n})(),P6=(function(n){dm(t,n);function t(e,a){return n.call(this,e,a)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(e){var a={};a[this.name]=e;var u={advanced:[a]};return this.track.applyConstraints(u)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var e=this.track.getCapabilities(),a=e[this.name];return{min:a.min,max:a.max,step:a.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(a3),U6=(function(n){dm(t,n);function t(e){return n.call(this,"zoom",e)||this}return t})(P6),k6=(function(n){dm(t,n);function t(e){return n.call(this,"torch",e)||this}return t})(a3),F6=(function(){function n(t){this.track=t}return n.prototype.zoomFeature=function(){return new U6(this.track)},n.prototype.torchFeature=function(){return new k6(this.track)},n})(),z6=(function(){function n(t,e,a){this.isClosed=!1,this.parentElement=t,this.mediaStream=e,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return n.prototype.createVideoElement=function(t){var e=document.createElement("video");return e.style.width="".concat(t,"px"),e.style.display="block",e.muted=!0,e.setAttribute("muted","true"),e.playsInline=!0,e},n.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var e=function(){var a=t.surface.clientWidth,u=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(a,u),t.surface.removeEventListener("playing",e)};this.surface.addEventListener("playing",e),this.surface.srcObject=this.mediaStream,this.surface.play()},n.create=function(t,e,a,u){return Vh(this,void 0,void 0,function(){var h,p;return Hh(this,function(w){switch(w.label){case 0:return h=new n(t,e,u),a.aspectRatio?(p={aspectRatio:a.aspectRatio},[4,h.getFirstTrackOrFail().applyConstraints(p)]):[3,2];case 1:w.sent(),w.label=2;case 2:return h.setupSurface(),[2,h]}})})},n.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},n.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},n.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},n.prototype.resume=function(t){this.failIfClosed();var e=this,a=function(){setTimeout(t,200),e.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},n.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},n.prototype.getSurface=function(){return this.failIfClosed(),this.surface},n.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},n.prototype.applyVideoConstraints=function(t){return Vh(this,void 0,void 0,function(){return Hh(this,function(e){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},n.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(e,a){var u=t.mediaStream.getVideoTracks(),h=u.length,p=0;t.mediaStream.getVideoTracks().forEach(function(w){t.mediaStream.removeTrack(w),w.stop(),++p,p>=h&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),e())})})},n.prototype.getCapabilities=function(){return new F6(this.getFirstTrackOrFail())},n})(),V6=(function(){function n(t){this.mediaStream=t}return n.prototype.render=function(t,e,a){return Vh(this,void 0,void 0,function(){return Hh(this,function(u){return[2,z6.create(t,this.mediaStream,e,a)]})})},n.create=function(t){return Vh(this,void 0,void 0,function(){var e,a;return Hh(this,function(u){switch(u.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return e={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(e)];case 1:return a=u.sent(),[2,new n(a)]}})})},n})(),NA=function(n,t,e,a){function u(h){return h instanceof e?h:new e(function(p){p(h)})}return new(e||(e=Promise))(function(h,p){function w(C){try{y(a.next(C))}catch(T){p(T)}}function A(C){try{y(a.throw(C))}catch(T){p(T)}}function y(C){C.done?h(C.value):u(C.value).then(w,A)}y((a=a.apply(n,t||[])).next())})},IA=function(n,t){var e={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},a,u,h,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(y){return function(C){return A([y,C])}}function A(y){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(e=0)),e;)try{if(a=1,u&&(h=y[0]&2?u.return:y[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,y[1])).done)return h;switch(u=0,h&&(y=[y[0]&2,h.value]),y[0]){case 0:case 1:h=y;break;case 4:return e.label++,{value:y[1],done:!1};case 5:e.label++,u=y[1],y=[0];continue;case 7:y=e.ops.pop(),e.trys.pop();continue;default:if(h=e.trys,!(h=h.length>0&&h[h.length-1])&&(y[0]===6||y[0]===2)){e=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){e.label=y[1];break}if(y[0]===6&&e.label<h[1]){e.label=h[1],h=y;break}if(h&&e.label<h[2]){e.label=h[2],e.ops.push(y);break}h[2]&&e.ops.pop(),e.trys.pop();continue}y=t.call(n,e)}catch(C){y=[6,C],u=0}finally{a=h=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},H6=(function(){function n(){}return n.failIfNotSupported=function(){return NA(this,void 0,void 0,function(){return IA(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new n]})})},n.prototype.create=function(t){return NA(this,void 0,void 0,function(){return IA(this,function(e){return[2,V6.create(t)]})})},n})(),G6=function(n,t,e,a){function u(h){return h instanceof e?h:new e(function(p){p(h)})}return new(e||(e=Promise))(function(h,p){function w(C){try{y(a.next(C))}catch(T){p(T)}}function A(C){try{y(a.throw(C))}catch(T){p(T)}}function y(C){C.done?h(C.value):u(C.value).then(w,A)}y((a=a.apply(n,t||[])).next())})},j6=function(n,t){var e={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},a,u,h,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(y){return function(C){return A([y,C])}}function A(y){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(e=0)),e;)try{if(a=1,u&&(h=y[0]&2?u.return:y[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,y[1])).done)return h;switch(u=0,h&&(y=[y[0]&2,h.value]),y[0]){case 0:case 1:h=y;break;case 4:return e.label++,{value:y[1],done:!1};case 5:e.label++,u=y[1],y=[0];continue;case 7:y=e.ops.pop(),e.trys.pop();continue;default:if(h=e.trys,!(h=h.length>0&&h[h.length-1])&&(y[0]===6||y[0]===2)){e=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){e.label=y[1];break}if(y[0]===6&&e.label<h[1]){e.label=h[1],h=y;break}if(h&&e.label<h[2]){e.label=h[2],e.ops.push(y);break}h[2]&&e.ops.pop(),e.trys.pop();continue}y=t.call(n,e)}catch(C){y=[6,C],u=0}finally{a=h=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Y6=(function(){function n(){}return n.retrieve=function(){if(navigator.mediaDevices)return n.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?n.getCamerasFromMediaStreamTrack():n.rejectWithError()},n.rejectWithError=function(){var t=Ul.unableToQuerySupportedDevices();return n.isHttpsOrLocalhost()||(t=Ul.insecureContextCameraQueryError()),Promise.reject(t)},n.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},n.getCamerasFromMediaDevices=function(){return G6(this,void 0,void 0,function(){var t,e,a,u,h,p,w;return j6(this,function(A){switch(A.label){case 0:return t=function(y){for(var C=y.getVideoTracks(),T=0,I=C;T<I.length;T++){var D=I[T];D.enabled=!1,D.stop(),y.removeTrack(D)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return e=A.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=A.sent(),u=[],h=0,p=a;h<p.length;h++)w=p[h],w.kind==="videoinput"&&u.push({id:w.deviceId,label:w.label});return t(e),[2,u]}})})},n.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,e){var a=function(h){for(var p=[],w=0,A=h;w<A.length;w++){var y=A[w];y.kind==="video"&&p.push({id:y.id,label:y.label})}t(p)},u=MediaStreamTrack;u.getSources(a)})},n})(),vn;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.NOT_STARTED=1]="NOT_STARTED",n[n.SCANNING=2]="SCANNING",n[n.PAUSED=3]="PAUSED"})(vn||(vn={}));var X6=(function(){function n(){this.state=vn.NOT_STARTED,this.onGoingTransactionNewState=vn.UNKNOWN}return n.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},n.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},n.prototype.execute=function(){if(this.onGoingTransactionNewState===vn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=vn.UNKNOWN,this.directTransition(t)},n.prototype.cancel=function(){if(this.onGoingTransactionNewState===vn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=vn.UNKNOWN},n.prototype.getState=function(){return this.state},n.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==vn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},n.prototype.validateTransition=function(t){switch(this.state){case vn.UNKNOWN:throw"Transition from unknown is not allowed";case vn.NOT_STARTED:this.failIfNewStateIs(t,[vn.PAUSED]);break;case vn.SCANNING:break;case vn.PAUSED:break}},n.prototype.failIfNewStateIs=function(t,e){for(var a=0,u=e;a<u.length;a++){var h=u[a];if(t===h)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},n})(),Q6=(function(){function n(t){this.stateManager=t}return n.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},n.prototype.directTransition=function(t){this.stateManager.directTransition(t)},n.prototype.getState=function(){return this.stateManager.getState()},n.prototype.canScanFile=function(){return this.stateManager.getState()===vn.NOT_STARTED},n.prototype.isScanning=function(){return this.stateManager.getState()!==vn.NOT_STARTED},n.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===vn.SCANNING},n.prototype.isPaused=function(){return this.stateManager.getState()===vn.PAUSED},n})(),Z6=(function(){function n(){}return n.create=function(){return new Q6(new X6)},n})(),K6=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(a[h]=u[h])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function a(){this.constructor=t}t.prototype=e===null?Object.create(e):(a.prototype=e.prototype,new a)}})(),ar=(function(n){K6(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(Yr),W6=(function(){function n(t,e){this.logger=e,this.fps=ar.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=ar.DEFAULT_DISABLE_FLIP}return n.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?s3.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},n.prototype.isShadedBoxEnabled=function(){return!ls(this.qrbox)},n.create=function(t,e){return new n(t,e)},n})(),MA=(function(){function n(t,e){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var a;typeof e=="boolean"?this.verbose=e===!0:e&&(a=e,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new r3(this.verbose),this.qrcode=new L6(this.getSupportedFormats(e),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Z6.create()}return n.prototype.start=function(t,e,a,u){var h=this;if(!t)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var p;u?p=u:p=this.verbose?this.logger.log:function(){};var w=W6.create(e,this.logger);this.clearElement();var A=!1;w.videoConstraints&&(w.isMediaStreamConstraintsValid()?A=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=A,C=document.getElementById(this.elementId);C.clientWidth?C.clientWidth:ar.DEFAULT_WIDTH,C.style.position="relative",this.shouldScan=!0,this.element=C;var T=this,I=this.stateManagerProxy.startTransition(vn.SCANNING);return new Promise(function(D,P){var L=y?w.videoConstraints:T.createVideoConstraints(t);if(!L){I.cancel(),P("videoConstraints should be defined");return}var F={};(!y||w.aspectRatio)&&(F.aspectRatio=w.aspectRatio);var G={onRenderSurfaceReady:function(q,z){T.setupUi(q,z,w),T.isScanning=!0,T.foreverScan(w,a,p)}};H6.failIfNotSupported().then(function(q){q.create(L).then(function(z){return z.render(h.element,F,G).then(function(lt){T.renderedCamera=lt,I.execute(),D(null)}).catch(function(lt){I.cancel(),P(lt)})}).catch(function(z){I.cancel(),P(Ul.errorGettingUserMedia(z))})}).catch(function(q){I.cancel(),P(Ul.cameraStreamingNotSupported())})})},n.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(vn.PAUSED),this.showPausedState(),(ls(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},n.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,e=function(){t.stateManagerProxy.directTransition(vn.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){e();return}this.renderedCamera.resume(function(){e()})},n.prototype.getState=function(){return this.stateManagerProxy.getState()},n.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var e=this.stateManagerProxy.startTransition(vn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(t.element){var h=document.getElementById(ar.SHADED_REGION_ELEMENT_ID);h&&t.element.removeChild(h)}},u=this;return this.renderedCamera.close().then(function(){return u.renderedCamera=null,u.element&&(u.element.removeChild(u.canvasElement),u.canvasElement=null),a(),u.qrRegion&&(u.qrRegion=null),u.context&&(u.context=null),e.execute(),u.hidePausedState(),u.isScanning=!1,Promise.resolve()})},n.prototype.scanFile=function(t,e){return this.scanFileV2(t,e).then(function(a){return a.decodedText})},n.prototype.scanFileV2=function(t,e){var a=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ls(e)&&(e=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(u,h){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(t);var p=new Image;p.onload=function(){var w=p.width,A=p.height,y=document.getElementById(a.elementId),C=y.clientWidth?y.clientWidth:ar.DEFAULT_WIDTH,T=Math.max(y.clientHeight?y.clientHeight:A,ar.FILE_SCAN_MIN_HEIGHT),I=a.computeCanvasDrawConfig(w,A,C,T);if(e){var D=a.createCanvasElement(C,T,"qr-canvas-visible");D.style.display="inline-block",y.appendChild(D);var P=D.getContext("2d");if(!P)throw"Unable to get 2d context from canvas";P.canvas.width=C,P.canvas.height=T,P.drawImage(p,0,0,w,A,I.x,I.y,I.width,I.height)}var L=ar.FILE_SCAN_HIDDEN_CANVAS_PADDING,F=Math.max(p.width,I.width),G=Math.max(p.height,I.height),q=F+2*L,z=G+2*L,lt=a.createCanvasElement(q,z);y.appendChild(lt);var gt=lt.getContext("2d");if(!gt)throw"Unable to get 2d context from canvas";gt.canvas.width=q,gt.canvas.height=z,gt.drawImage(p,0,0,w,A,L,L,F,G);try{a.qrcode.decodeRobustlyAsync(lt).then(function(dt){u(wA.createFromQrcodeResult(dt))}).catch(h)}catch(dt){h("QR code parse error, error = ".concat(dt))}},p.onerror=h,p.onabort=h,p.onstalled=h,p.onsuspend=h,p.src=URL.createObjectURL(t)})},n.prototype.clear=function(){this.clearElement()},n.getCameras=function(){return Y6.retrieve()},n.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},n.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},n.prototype.applyVideoConstraints=function(t){if(t){if(!s3.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},n.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},n.prototype.getSupportedFormats=function(t){var e=[Pt.QR_CODE,Pt.AZTEC,Pt.CODABAR,Pt.CODE_39,Pt.CODE_93,Pt.CODE_128,Pt.DATA_MATRIX,Pt.MAXICODE,Pt.ITF,Pt.EAN_13,Pt.EAN_8,Pt.PDF_417,Pt.RSS_14,Pt.RSS_EXPANDED,Pt.UPC_A,Pt.UPC_E,Pt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return e;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],u=0,h=t.formatsToSupport;u<h.length;u++){var p=h[u];N6(p)?a.push(p):this.logger.warn("Invalid format: ".concat(p," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},n.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ls(t))return!0;if(!ls(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ls(t.experimentalFeatures))return!0;var e=t.experimentalFeatures;return ls(e.useBarCodeDetectorIfSupported)?!0:e.useBarCodeDetectorIfSupported!==!1},n.prototype.validateQrboxSize=function(t,e,a){var u=this,h=a.qrbox;this.validateQrboxConfig(h);var p=this.toQrdimensions(t,e,h),w=function(y){if(y<ar.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ar.MIN_QR_BOX_SIZE,"px.")},A=function(y){return y>t&&(u.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=t),y};w(p.width),w(p.height),p.width=A(p.width)},n.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},n.prototype.toQrdimensions=function(t,e,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(t,e)}catch(u){throw new Error("qrbox config was passed as a function but it failed with unknown error"+u)}return a},n.prototype.setupUi=function(t,e,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(t,e,a);var u=ls(a.qrbox)?{width:t,height:e}:a.qrbox;this.validateQrboxConfig(u);var h=this.toQrdimensions(t,e,u);h.height>e&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var p=a.isShadedBoxEnabled()&&h.height<=e,w={x:0,y:0,width:t,height:e},A=p?this.getShadedRegionBounds(t,e,h):w,y=this.createCanvasElement(A.width,A.height),C={willReadFrequently:!0},T=y.getContext("2d",C);T.canvas.width=A.width,T.canvas.height=A.height,this.element.append(y),p&&this.possiblyInsertShadingElement(this.element,t,e,h),this.createScannerPausedUiElement(this.element),this.qrRegion=A,this.context=T,this.canvasElement=y},n.prototype.createScannerPausedUiElement=function(t){var e=document.createElement("div");e.innerText=Ul.scannerPaused(),e.style.display="none",e.style.position="absolute",e.style.top="0px",e.style.zIndex="1",e.style.background="rgba(9, 9, 9, 0.46)",e.style.color="#FFECEC",e.style.textAlign="center",e.style.width="100%",t.appendChild(e),this.scannerPausedUiElement=e},n.prototype.scanContext=function(t,e){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(u){return t(u.text,wA.createFromQrcodeResult(u)),a.possiblyUpdateShaders(!0),!0}).catch(function(u){a.possiblyUpdateShaders(!1);var h=Ul.codeParseError(u);return e(h,i3.createFrom(h)),!1})},n.prototype.foreverScan=function(t,e,a){var u=this;if(this.shouldScan&&this.renderedCamera){var h=this.renderedCamera.getSurface(),p=h.videoWidth/h.clientWidth,w=h.videoHeight/h.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var A=this.qrRegion.width*p,y=this.qrRegion.height*w,C=this.qrRegion.x*p,T=this.qrRegion.y*w;this.context.drawImage(h,C,T,A,y,0,0,this.qrRegion.width,this.qrRegion.height);var I=function(){u.foreverScanTimeout=setTimeout(function(){u.foreverScan(t,e,a)},u.getTimeoutFps(t.fps))};this.scanContext(e,a).then(function(D){!D&&t.disableFlip!==!0?(u.context.translate(u.context.canvas.width,0),u.context.scale(-1,1),u.scanContext(e,a).finally(function(){I()})):I()}).catch(function(D){u.logger.logError("Error happend while scanning context",D),I()})}},n.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var e="facingMode",a="deviceId",u={user:!0,environment:!0},h="exact",p=function(P){if(P in u)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(P,"'")},w=Object.keys(t);if(w.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(w.length," keys");var A=Object.keys(t)[0];if(A!==e&&A!==a)throw"Only '".concat(e,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(A===e){var y=t.facingMode;if(typeof y=="string"){if(p(y))return{facingMode:y}}else if(typeof y=="object")if(h in y){if(p(y["".concat(h)]))return{facingMode:{exact:y["".concat(h)]}}}else throw"'facingMode' should be string or object with"+" ".concat(h," as key.");else{var C=typeof y;throw"Invalid type of 'facingMode' = ".concat(C)}}else{var T=t.deviceId;if(typeof T=="string")return{deviceId:T};if(typeof T=="object"){if(h in T)return{deviceId:{exact:T["".concat(h)]}};throw"'deviceId' should be string or object with"+" ".concat(h," as key.")}else{var I=typeof T;throw"Invalid type of 'deviceId' = ".concat(I)}}}var D=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(D)},n.prototype.computeCanvasDrawConfig=function(t,e,a,u){if(t<=a&&e<=u){var h=(a-t)/2,p=(u-e)/2;return{x:h,y:p,width:t,height:e}}else{var w=t,A=e;return t>a&&(e=a/t*e,t=a),e>u&&(t=u/e*t,e=u),this.logger.log("Image downsampled from "+"".concat(w,"X").concat(A)+" to ".concat(t,"X").concat(e,".")),this.computeCanvasDrawConfig(t,e,a,u)}},n.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},n.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(e){e.style.backgroundColor=t?ar.BORDER_SHADER_MATCH_COLOR:ar.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},n.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},n.prototype.createCanvasElement=function(t,e,a){var u=t,h=e,p=document.createElement("canvas");return p.style.width="".concat(u,"px"),p.style.height="".concat(h,"px"),p.style.display="none",p.id=ls(a)?"qr-canvas":a,p},n.prototype.getShadedRegionBounds=function(t,e,a){if(a.width>t||a.height>e)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-a.width)/2,y:(e-a.height)/2,width:a.width,height:a.height}},n.prototype.possiblyInsertShadingElement=function(t,e,a,u){if(!(e-u.width<1||a-u.height<1)){var h=document.createElement("div");h.style.position="absolute";var p=(e-u.width)/2,w=(a-u.height)/2;if(h.style.borderLeft="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderRight="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderTop="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderBottom="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),h.style.boxSizing="border-box",h.style.top="0px",h.style.bottom="0px",h.style.left="0px",h.style.right="0px",h.id="".concat(ar.SHADED_REGION_ELEMENT_ID),e-u.width<11||a-u.height<11)this.hasBorderShaders=!1;else{var A=5,y=40;this.insertShaderBorders(h,y,A,-A,null,0,!0),this.insertShaderBorders(h,y,A,-A,null,0,!1),this.insertShaderBorders(h,y,A,null,-A,0,!0),this.insertShaderBorders(h,y,A,null,-A,0,!1),this.insertShaderBorders(h,A,y+A,-A,null,-A,!0),this.insertShaderBorders(h,A,y+A,null,-A,-A,!0),this.insertShaderBorders(h,A,y+A,-A,null,-A,!1),this.insertShaderBorders(h,A,y+A,null,-A,-A,!1),this.hasBorderShaders=!0}t.append(h)}},n.prototype.insertShaderBorders=function(t,e,a,u,h,p,w){var A=document.createElement("div");A.style.position="absolute",A.style.backgroundColor=ar.BORDER_SHADER_DEFAULT_COLOR,A.style.width="".concat(e,"px"),A.style.height="".concat(a,"px"),u!==null&&(A.style.top="".concat(u,"px")),h!==null&&(A.style.bottom="".concat(h,"px")),w?A.style.left="".concat(p,"px"):A.style.right="".concat(p,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(A),t.appendChild(A)},n.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},n.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},n.prototype.getTimeoutFps=function(t){return 1e3/t},n})(),gm="data:image/svg+xml;base64,",q6=gm+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",J6=gm+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",OA=gm+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",$6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",RA=(function(){function n(){}return n.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},n})(),tI=(function(){function n(){this.data=RA.createDefault();var t=localStorage.getItem(n.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return n.prototype.hasCameraPermissions=function(){return this.data.hasPermission},n.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},n.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},n.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},n.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},n.prototype.reset=function(){this.data=RA.createDefault(),this.flush()},n.prototype.flush=function(){localStorage.setItem(n.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},n.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",n})(),eI=(function(){function n(){this.infoDiv=document.createElement("div")}return n.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=bA.poweredBy();var e=document.createElement("a");e.innerText="ScanApp",e.href="https://scanapp.org",e.target="new",e.style.color="white",this.infoDiv.appendChild(e);var a=document.createElement("br"),u=document.createElement("br");this.infoDiv.appendChild(a),this.infoDiv.appendChild(u);var h=document.createElement("a");h.innerText=bA.reportIssues(),h.href="https://github.com/mebjas/html5-qrcode/issues",h.target="new",h.style.color="white",this.infoDiv.appendChild(h),t.appendChild(this.infoDiv)},n.prototype.show=function(){this.infoDiv.style.display="block"},n.prototype.hide=function(){this.infoDiv.style.display="none"},n})(),nI=(function(){function n(t,e){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=e,this.infoIcon=document.createElement("img")}return n.prototype.renderInto=function(t){var e=this;this.infoIcon.alt="Info icon",this.infoIcon.src=OA,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(a){return e.onHoverIn()},this.infoIcon.onmouseout=function(a){return e.onHoverOut()},this.infoIcon.onclick=function(a){return e.onClick()},t.appendChild(this.infoIcon)},n.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},n.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},n.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=$6,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=OA,this.infoIcon.style.opacity="0.6")},n})(),iI=(function(){function n(){var t=this;this.infoDiv=new eI,this.infoIcon=new nI(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return n.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},n})(),rI=function(n,t,e,a){function u(h){return h instanceof e?h:new e(function(p){p(h)})}return new(e||(e=Promise))(function(h,p){function w(C){try{y(a.next(C))}catch(T){p(T)}}function A(C){try{y(a.throw(C))}catch(T){p(T)}}function y(C){C.done?h(C.value):u(C.value).then(w,A)}y((a=a.apply(n,t||[])).next())})},sI=function(n,t){var e={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},a,u,h,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(y){return function(C){return A([y,C])}}function A(y){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(e=0)),e;)try{if(a=1,u&&(h=y[0]&2?u.return:y[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,y[1])).done)return h;switch(u=0,h&&(y=[y[0]&2,h.value]),y[0]){case 0:case 1:h=y;break;case 4:return e.label++,{value:y[1],done:!1};case 5:e.label++,u=y[1],y=[0];continue;case 7:y=e.ops.pop(),e.trys.pop();continue;default:if(h=e.trys,!(h=h.length>0&&h[h.length-1])&&(y[0]===6||y[0]===2)){e=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){e.label=y[1];break}if(y[0]===6&&e.label<h[1]){e.label=h[1],h=y;break}if(h&&e.label<h[2]){e.label=h[2],e.ops.push(y);break}h[2]&&e.ops.pop(),e.trys.pop();continue}y=t.call(n,e)}catch(C){y=[6,C],u=0}finally{a=h=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},DA=(function(){function n(){}return n.hasPermissions=function(){return rI(this,void 0,void 0,function(){var t,e,a,u;return sI(this,function(h){switch(h.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=h.sent(),e=0,a=t;e<a.length;e++)if(u=a[e],u.kind==="videoinput"&&u.label)return[2,!0];return[2,!1]}})})},n})(),Fa=(function(){function n(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return n.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},n.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},n.prototype.isCameraScanRequired=function(){for(var t=0,e=this.supportedScanTypes;t<e.length;t++){var a=e[t];if(n.isCameraScanType(a))return!0}return!1},n.isCameraScanType=function(t){return t===Xa.SCAN_TYPE_CAMERA},n.isFileScanType=function(t){return t===Xa.SCAN_TYPE_FILE},n.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Yr.DEFAULT_SUPPORTED_SCAN_TYPE;var e=Yr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>e)throw"Max ".concat(e," values expected for ")+"supportedScanTypes";for(var a=0,u=t;a<u.length;a++){var h=u[a];if(!Yr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(h))throw"Unsupported scan type ".concat(h)}return t},n})(),ur=(function(){function n(){}return n.ALL_ELEMENT_CLASS="html5-qrcode-element",n.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",n.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",n.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",n.TORCH_BUTTON_ID="html5-qrcode-button-torch",n.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",n.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",n.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",n.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",n.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",n.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",n})(),Vs=(function(){function n(){}return n.createElement=function(t,e){var a=document.createElement(t);return a.id=e,a.classList.add(ur.ALL_ELEMENT_CLASS),t==="button"&&a.setAttribute("type","button"),a},n})(),o3=function(n,t,e,a){function u(h){return h instanceof e?h:new e(function(p){p(h)})}return new(e||(e=Promise))(function(h,p){function w(C){try{y(a.next(C))}catch(T){p(T)}}function A(C){try{y(a.throw(C))}catch(T){p(T)}}function y(C){C.done?h(C.value):u(C.value).then(w,A)}y((a=a.apply(n,t||[])).next())})},l3=function(n,t){var e={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},a,u,h,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(y){return function(C){return A([y,C])}}function A(y){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(e=0)),e;)try{if(a=1,u&&(h=y[0]&2?u.return:y[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,y[1])).done)return h;switch(u=0,h&&(y=[y[0]&2,h.value]),y[0]){case 0:case 1:h=y;break;case 4:return e.label++,{value:y[1],done:!1};case 5:e.label++,u=y[1],y=[0];continue;case 7:y=e.ops.pop(),e.trys.pop();continue;default:if(h=e.trys,!(h=h.length>0&&h[h.length-1])&&(y[0]===6||y[0]===2)){e=0;continue}if(y[0]===3&&(!h||y[1]>h[0]&&y[1]<h[3])){e.label=y[1];break}if(y[0]===6&&e.label<h[1]){e.label=h[1],h=y;break}if(h&&e.label<h[2]){e.label=h[2],e.ops.push(y);break}h[2]&&e.ops.pop(),e.trys.pop();continue}y=t.call(n,e)}catch(C){y=[6,C],u=0}finally{a=h=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},BA=(function(){function n(t,e,a){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=e,this.onTorchActionFailureCallback=a}return n.prototype.isTorchEnabled=function(){return this.isTorchOn},n.prototype.flipState=function(){return o3(this,void 0,void 0,function(){var t,e;return l3(this,function(a){switch(a.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return a.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return e=a.sent(),this.propagateFailure(t,e),this.buttonController.enable(),[3,4];case 4:return[2]}})})},n.prototype.updateUiBasedOnLatestSettings=function(t,e){t===e?(this.buttonController.setText(e?je.torchOffButton():je.torchOnButton()),this.isTorchOn=e):this.propagateFailure(e),this.buttonController.enable()},n.prototype.propagateFailure=function(t,e){var a=t?je.torchOnFailedMessage():je.torchOffFailedMessage();e&&(a+="; Error = "+e),this.onTorchActionFailureCallback(a)},n.prototype.reset=function(){this.isTorchOn=!1},n})(),aI=(function(){function n(t,e){this.onTorchActionFailureCallback=e,this.torchButton=Vs.createElement("button",ur.TORCH_BUTTON_ID),this.torchController=new BA(t,this,e)}return n.prototype.render=function(t,e){var a=this;this.torchButton.innerText=je.torchOnButton(),this.torchButton.style.display=e.display,this.torchButton.style.marginLeft=e.marginLeft;var u=this;this.torchButton.addEventListener("click",function(h){return o3(a,void 0,void 0,function(){return l3(this,function(p){switch(p.label){case 0:return[4,u.torchController.flipState()];case 1:return p.sent(),u.torchController.isTorchEnabled()?(u.torchButton.classList.remove(ur.TORCH_BUTTON_CLASS_TORCH_OFF),u.torchButton.classList.add(ur.TORCH_BUTTON_CLASS_TORCH_ON)):(u.torchButton.classList.remove(ur.TORCH_BUTTON_CLASS_TORCH_ON),u.torchButton.classList.add(ur.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},n.prototype.updateTorchCapability=function(t){this.torchController=new BA(t,this,this.onTorchActionFailureCallback)},n.prototype.getTorchButton=function(){return this.torchButton},n.prototype.hide=function(){this.torchButton.style.display="none"},n.prototype.show=function(){this.torchButton.style.display="inline-block"},n.prototype.disable=function(){this.torchButton.disabled=!0},n.prototype.enable=function(){this.torchButton.disabled=!1},n.prototype.setText=function(t){this.torchButton.innerText=t},n.prototype.reset=function(){this.torchButton.innerText=je.torchOnButton(),this.torchController.reset()},n.create=function(t,e,a,u){var h=new n(e,u);return h.render(t,a),h},n})(),oI=(function(){function n(t,e,a){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=e?"block":"none",t.appendChild(this.fileBasedScanRegion);var u=document.createElement("label");u.setAttribute("for",this.getFileScanInputId()),u.style.display="inline-block",this.fileBasedScanRegion.appendChild(u),this.fileSelectionButton=Vs.createElement("button",ur.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(w){u.click()}),u.append(this.fileSelectionButton),this.fileScanInput=Vs.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",u.appendChild(this.fileScanInput);var h=this;this.fileScanInput.addEventListener("change",function(w){if(!(w==null||w.target==null)){var A=w.target;if(!(A.files&&A.files.length===0)){var y=A.files,C=y[0],T=C.name;h.setImageNameToButton(T),a(C)}}});var p=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(p),this.fileBasedScanRegion.addEventListener("dragenter",function(w){h.fileBasedScanRegion.style.border=h.fileBasedScanRegionActiveBorder(),w.stopPropagation(),w.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(w){h.fileBasedScanRegion.style.border=h.fileBasedScanRegionDefaultBorder(),w.stopPropagation(),w.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(w){h.fileBasedScanRegion.style.border=h.fileBasedScanRegionActiveBorder(),w.stopPropagation(),w.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(w){w.stopPropagation(),w.preventDefault(),h.fileBasedScanRegion.style.border=h.fileBasedScanRegionDefaultBorder();var A=w.dataTransfer;if(A){var y=A.files;if(!y||y.length===0)return;for(var C=!1,T=0;T<y.length;++T){var I=y.item(T);if(I){var D=/image.*/;if(I.type.match(D)){C=!0;var P=I.name;h.setImageNameToButton(P),a(I),p.innerText=je.dragAndDropMessage();break}}}C||(p.innerText=je.dragAndDropMessageOnlyImages())}})}return n.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},n.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},n.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},n.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},n.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},n.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},n.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},n.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=je.dragAndDropMessage(),t.style.fontWeight="400",t},n.prototype.setImageNameToButton=function(t){var e=20;if(t.length>e){var a=t.substring(0,8),u=t.length,h=t.substring(u-8,u);t="".concat(a,"....").concat(h)}var p=je.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=p},n.prototype.setInitialValueToButton=function(){var t=je.fileSelectionChooseImage()+" - "+je.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},n.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},n.create=function(t,e,a){var u=new n(t,e,a);return u},n})(),lI=(function(){function n(t){this.selectElement=Vs.createElement("select",ur.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return n.prototype.render=function(t){var e=document.createElement("span");e.style.marginRight="10px";var a=this.cameras.length;if(a===0)throw new Error("No cameras found");if(a===1)e.style.display="none";else{var u=je.selectCamera();e.innerText="".concat(u," (").concat(this.cameras.length,")  ")}for(var h=1,p=0,w=this.cameras;p<w.length;p++){var A=w[p],y=A.id,C=A.label==null?y:A.label;(!C||C==="")&&(C=[je.anonymousCameraPrefix(),h++].join(" "));var T=document.createElement("option");T.value=y,T.innerText=C,this.options.push(T),this.selectElement.appendChild(T)}e.appendChild(this.selectElement),t.appendChild(e)},n.prototype.disable=function(){this.selectElement.disabled=!0},n.prototype.isDisabled=function(){return this.selectElement.disabled===!0},n.prototype.enable=function(){this.selectElement.disabled=!1},n.prototype.getValue=function(){return this.selectElement.value},n.prototype.hasValue=function(t){for(var e=0,a=this.options;e<a.length;e++){var u=a[e];if(u.value===t)return!0}return!1},n.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},n.prototype.hasSingleItem=function(){return this.cameras.length===1},n.prototype.numCameras=function(){return this.cameras.length},n.create=function(t,e){var a=new n(e);return a.render(t),a},n})(),cI=(function(){function n(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Vs.createElement("input",ur.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return n.prototype.render=function(t,e){this.zoomElementContainer.style.display=e?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var a=je.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(a),this.rangeText.style.marginRight="10px";var u=this;this.rangeInput.addEventListener("input",function(){return u.onValueChange()}),this.rangeInput.addEventListener("change",function(){return u.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},n.prototype.onValueChange=function(){var t=je.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},n.prototype.setValues=function(t,e,a,u){this.rangeInput.min=t.toString(),this.rangeInput.max=e.toString(),this.rangeInput.step=u.toString(),this.rangeInput.value=a.toString(),this.onValueChange()},n.prototype.show=function(){this.zoomElementContainer.style.display="block"},n.prototype.hide=function(){this.zoomElementContainer.style.display="none"},n.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},n.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},n.create=function(t,e){var a=new n;return a.render(t,e),a},n})(),or;(function(n){n[n.STATUS_DEFAULT=0]="STATUS_DEFAULT",n[n.STATUS_SUCCESS=1]="STATUS_SUCCESS",n[n.STATUS_WARNING=2]="STATUS_WARNING",n[n.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(or||(or={}));function uI(n){return{fps:n.fps,qrbox:n.qrbox,aspectRatio:n.aspectRatio,disableFlip:n.disableFlip,videoConstraints:n.videoConstraints}}function fI(n,t){return{formatsToSupport:n.formatsToSupport,useBarCodeDetectorIfSupported:n.useBarCodeDetectorIfSupported,experimentalFeatures:n.experimentalFeatures,verbose:t}}var hI=(function(){function n(t,e,a){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(e),this.verbose=a===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Fa(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new r3(this.verbose),this.persistedDataManager=new tI,e.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return n.prototype.render=function(t,e){var a=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(h,p){if(t)t(h,p);else{if(a.lastMatchFound===h)return;a.lastMatchFound=h,a.setHeaderMessage(je.lastMatch(h),or.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(h,p){e&&e(h,p)};var u=document.getElementById(this.elementId);if(!u)throw"HTML Element with id=".concat(this.elementId," not found");u.innerHTML="",this.createBasicLayout(u),this.html5Qrcode=new MA(this.getScanRegionId(),fI(this.config,this.verbose))},n.prototype.pause=function(t){(ls(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},n.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},n.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},n.prototype.clear=function(){var t=this,e=function(){var a=document.getElementById(t.elementId);a&&(a.innerHTML="",t.resetBasicLayout(a))};return this.html5Qrcode?new Promise(function(a,u){if(!t.html5Qrcode){a();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(h){if(!t.html5Qrcode){a();return}t.html5Qrcode.clear(),e(),a()}).catch(function(h){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",h),u(h)}):(t.html5Qrcode.clear(),e(),a())}):Promise.resolve()},n.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},n.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},n.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},n.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Yr.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Yr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Yr.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Yr.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Yr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Yr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Yr.DEFAULT_SUPPORTED_SCAN_TYPE}},n.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var e=document.createElement("div"),a=this.getScanRegionId();e.id=a,e.style.width="100%",e.style.minHeight="100px",e.style.textAlign="center",t.appendChild(e),Fa.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var u=document.createElement("div"),h=this.getDashboardId();u.id=h,u.style.width="100%",t.appendChild(u),this.setupInitialDashboard(u)},n.prototype.resetBasicLayout=function(t){t.style.border="none"},n.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},n.prototype.createHeader=function(t){var e=document.createElement("div");e.style.textAlign="left",e.style.margin="0px",t.appendChild(e);var a=new iI;a.renderInto(e);var u=document.createElement("div");u.id=this.getHeaderMessageContainerId(),u.style.display="none",u.style.textAlign="center",u.style.fontSize="14px",u.style.padding="2px 10px",u.style.margin="4px",u.style.borderTop="1px solid #f6f6f6",e.appendChild(u)},n.prototype.createSection=function(t){var e=document.createElement("div");e.id=this.getDashboardSectionId(),e.style.width="100%",e.style.padding="10px 0px 10px 0px",e.style.textAlign="left",t.appendChild(e)},n.prototype.createCameraListUi=function(t,e,a){var u=this;u.showHideScanTypeSwapLink(!1),u.setHeaderMessage(je.cameraPermissionRequesting());var h=function(){a||u.createPermissionButton(t,e)};MA.getCameras().then(function(p){u.persistedDataManager.setHasPermission(!0),u.showHideScanTypeSwapLink(!0),u.resetHeaderMessage(),p&&p.length>0?(t.removeChild(e),u.renderCameraSelection(p)):(u.setHeaderMessage(je.noCameraFound(),or.STATUS_WARNING),h())}).catch(function(p){u.persistedDataManager.setHasPermission(!1),a?a.disabled=!1:h(),u.setHeaderMessage(p,or.STATUS_WARNING),u.showHideScanTypeSwapLink(!0)})},n.prototype.createPermissionButton=function(t,e){var a=this,u=Vs.createElement("button",this.getCameraPermissionButtonId());u.innerText=je.cameraPermissionTitle(),u.addEventListener("click",function(){u.disabled=!0,a.createCameraListUi(t,e,u)}),e.appendChild(u)},n.prototype.createPermissionsUi=function(t,e){var a=this;if(Fa.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){DA.hasPermissions().then(function(u){u?a.createCameraListUi(t,e):(a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(t,e))}).catch(function(u){a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(t,e)});return}this.createPermissionButton(t,e)},n.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),e=document.createElement("div");t.appendChild(e);var a=document.createElement("div");a.id=this.getDashboardSectionCameraScanRegionId(),a.style.display=Fa.isCameraScanType(this.currentScanType)?"block":"none",e.appendChild(a);var u=document.createElement("div");u.style.textAlign="center",a.appendChild(u),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(a,u),this.renderFileScanUi(e)},n.prototype.renderFileScanUi=function(t){var e=Fa.isFileScanType(this.currentScanType),a=this,u=function(h){if(!a.html5Qrcode)throw"html5Qrcode not defined";Fa.isFileScanType(a.currentScanType)&&(a.setHeaderMessage(je.loadingImage()),a.html5Qrcode.scanFileV2(h,!0).then(function(p){a.resetHeaderMessage(),a.qrCodeSuccessCallback(p.decodedText,p)}).catch(function(p){a.setHeaderMessage(p,or.STATUS_WARNING),a.qrCodeErrorCallback(p,i3.createFrom(p))}))};this.fileSelectionUi=oI.create(t,e,u)},n.prototype.renderCameraSelection=function(t){var e=this,a=this,u=document.getElementById(this.getDashboardSectionCameraScanRegionId());u.style.textAlign="center";var h=cI.create(u,!1),p=function(L){var F=L.zoomFeature();if(F.isSupported()){h.setOnCameraZoomValueChangeCallback(function(q){F.apply(q)});var G=1;e.config.defaultZoomValueIfSupported&&(G=e.config.defaultZoomValueIfSupported),G=I6(G,F.min(),F.max()),h.setValues(F.min(),F.max(),G,F.step()),h.show()}},w=lI.create(u,t),A=document.createElement("span"),y=Vs.createElement("button",ur.CAMERA_START_BUTTON_ID);y.innerText=je.scanButtonStartScanningText(),A.appendChild(y);var C=Vs.createElement("button",ur.CAMERA_STOP_BUTTON_ID);C.innerText=je.scanButtonStopScanningText(),C.style.display="none",C.disabled=!0,A.appendChild(C);var T,I=function(L){if(!L.torchFeature().isSupported()){T&&T.hide();return}T?T.updateTorchCapability(L.torchFeature()):T=aI.create(A,L.torchFeature(),{display:"none",marginLeft:"5px"},function(F){a.setHeaderMessage(F,or.STATUS_WARNING)}),T.show()};u.appendChild(A);var D=function(L){L||(y.style.display="none"),y.innerText=je.scanButtonStartScanningText(),y.style.opacity="1",y.disabled=!1,L&&(y.style.display="inline-block")};if(y.addEventListener("click",function(L){y.innerText=je.scanButtonScanningStarting(),w.disable(),y.disabled=!0,y.style.opacity="0.5",e.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!1),a.resetHeaderMessage();var F=w.getValue();a.persistedDataManager.setLastUsedCameraId(F),a.html5Qrcode.start(F,uI(a.config),a.qrCodeSuccessCallback,a.qrCodeErrorCallback).then(function(G){C.disabled=!1,C.style.display="inline-block",D(!1);var q=a.html5Qrcode.getRunningTrackCameraCapabilities();e.config.showTorchButtonIfSupported===!0&&I(q),e.config.showZoomSliderIfSupported===!0&&p(q)}).catch(function(G){a.showHideScanTypeSwapLink(!0),w.enable(),D(!0),a.setHeaderMessage(G,or.STATUS_WARNING)})}),w.hasSingleItem()&&y.click(),C.addEventListener("click",function(L){if(!a.html5Qrcode)throw"html5Qrcode not defined";C.disabled=!0,a.html5Qrcode.stop().then(function(F){e.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!0),w.enable(),y.disabled=!1,C.style.display="none",y.style.display="inline-block",T&&(T.reset(),T.hide()),h.removeOnCameraZoomValueChangeCallback(),h.hide(),a.insertCameraScanImageToScanRegion()}).catch(function(F){C.disabled=!1,a.setHeaderMessage(F,or.STATUS_WARNING)})}),a.persistedDataManager.getLastUsedCameraId()){var P=a.persistedDataManager.getLastUsedCameraId();w.hasValue(P)?(w.setValue(P),y.click()):a.persistedDataManager.resetLastUsedCameraId()}},n.prototype.createSectionSwap=function(){var t=this,e=je.textIfCameraScanSelected(),a=je.textIfFileScanSelected(),u=document.getElementById(this.getDashboardSectionId()),h=document.createElement("div");h.style.textAlign="center";var p=Vs.createElement("span",this.getDashboardSectionSwapLinkId());p.style.textDecoration="underline",p.style.cursor="pointer",p.innerText=Fa.isCameraScanType(this.currentScanType)?e:a,p.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Fa.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),p.innerText=a,t.currentScanType=Xa.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),p.innerText=e,t.currentScanType=Xa.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),h.appendChild(p),u.appendChild(h)},n.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,e=this;if(this.persistedDataManager.hasCameraPermissions()){DA.hasPermissions().then(function(a){if(a){var u=document.getElementById(e.getCameraPermissionButtonId());if(!u)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";u.click()}else e.persistedDataManager.setHasPermission(!1)}).catch(function(a){e.persistedDataManager.setHasPermission(!1)});return}},n.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},n.prototype.setHeaderMessage=function(t,e){e||(e=or.STATUS_DEFAULT);var a=this.getHeaderMessageDiv();switch(a.innerText=t,a.style.display="block",e){case or.STATUS_SUCCESS:a.style.background="rgba(106, 175, 80, 0.26)",a.style.color="#477735";break;case or.STATUS_WARNING:a.style.background="rgba(203, 36, 49, 0.14)",a.style.color="#cb2431";break;case or.STATUS_DEFAULT:default:a.style.background="rgba(0, 0, 0, 0)",a.style.color="rgb(17, 17, 17)";break}},n.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},n.prototype.insertCameraScanImageToScanRegion=function(){var t=this,e=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){e.innerHTML="<br>",e.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(a){e.innerHTML="<br>",e.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=q6,this.cameraScanImage.alt=je.cameraScanAltText()},n.prototype.insertFileScanImageToScanRegion=function(){var t=this,e=document.getElementById(this.getScanRegionId());if(this.fileScanImage){e.innerHTML="<br>",e.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(a){e.innerHTML="<br>",e.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=J6,this.fileScanImage.alt=je.fileScanAltText()},n.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},n.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},n.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},n.prototype.getDashboardSectionSwapLinkId=function(){return ur.SCAN_TYPE_CHANGE_ANCHOR_ID},n.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},n.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},n.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},n.prototype.getCameraPermissionButtonId=function(){return ur.CAMERA_PERMISSION_BUTTON_ID},n.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},n.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},n.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},n})();const mm=Nt.createContext({});function pm(n){const t=Nt.useRef(null);return t.current===null&&(t.current=n()),t.current}const ym=typeof window<"u",c3=ym?Nt.useLayoutEffect:Nt.useEffect,c0=Nt.createContext(null);function xm(n,t){n.indexOf(t)===-1&&n.push(t)}function Am(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const hs=(n,t,e)=>e>t?t:e<n?n:e;let wm=()=>{};const Ks={},u3=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function f3(n){return typeof n=="object"&&n!==null}const h3=n=>/^0[^.\s]+$/u.test(n);function bm(n){let t;return()=>(t===void 0&&(t=n()),t)}const Or=n=>n,dI=(n,t)=>e=>t(n(e)),Fu=(...n)=>n.reduce(dI),Nu=(n,t,e)=>{const a=t-n;return a===0?1:(e-n)/a};class Em{constructor(){this.subscriptions=[]}add(t){return xm(this.subscriptions,t),()=>Am(this.subscriptions,t)}notify(t,e,a){const u=this.subscriptions.length;if(u)if(u===1)this.subscriptions[0](t,e,a);else for(let h=0;h<u;h++){const p=this.subscriptions[h];p&&p(t,e,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ys=n=>n*1e3,Mr=n=>n/1e3;function d3(n,t){return t?n*(1e3/t):0}const g3=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,gI=1e-7,mI=12;function pI(n,t,e,a,u){let h,p,w=0;do p=t+(e-t)/2,h=g3(p,a,u)-n,h>0?e=p:t=p;while(Math.abs(h)>gI&&++w<mI);return p}function zu(n,t,e,a){if(n===t&&e===a)return Or;const u=h=>pI(h,0,1,n,e);return h=>h===0||h===1?h:g3(u(h),t,a)}const m3=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,p3=n=>t=>1-n(1-t),y3=zu(.33,1.53,.69,.99),Cm=p3(y3),x3=m3(Cm),A3=n=>(n*=2)<1?.5*Cm(n):.5*(2-Math.pow(2,-10*(n-1))),Sm=n=>1-Math.sin(Math.acos(n)),w3=p3(Sm),b3=m3(Sm),yI=zu(.42,0,1,1),xI=zu(0,0,.58,1),E3=zu(.42,0,.58,1),AI=n=>Array.isArray(n)&&typeof n[0]!="number",C3=n=>Array.isArray(n)&&typeof n[0]=="number",wI={linear:Or,easeIn:yI,easeInOut:E3,easeOut:xI,circIn:Sm,circInOut:b3,circOut:w3,backIn:Cm,backInOut:x3,backOut:y3,anticipate:A3},bI=n=>typeof n=="string",_A=n=>{if(C3(n)){wm(n.length===4);const[t,e,a,u]=n;return zu(t,e,a,u)}else if(bI(n))return wI[n];return n},xh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function EI(n,t){let e=new Set,a=new Set,u=!1,h=!1;const p=new WeakSet;let w={delta:0,timestamp:0,isProcessing:!1};function A(C){p.has(C)&&(y.schedule(C),n()),C(w)}const y={schedule:(C,T=!1,I=!1)=>{const P=I&&u?e:a;return T&&p.add(C),P.has(C)||P.add(C),C},cancel:C=>{a.delete(C),p.delete(C)},process:C=>{if(w=C,u){h=!0;return}u=!0,[e,a]=[a,e],e.forEach(A),e.clear(),u=!1,h&&(h=!1,y.process(C))}};return y}const CI=40;function S3(n,t){let e=!1,a=!0;const u={delta:0,timestamp:0,isProcessing:!1},h=()=>e=!0,p=xh.reduce((z,lt)=>(z[lt]=EI(h),z),{}),{setup:w,read:A,resolveKeyframes:y,preUpdate:C,update:T,preRender:I,render:D,postRender:P}=p,L=()=>{const z=Ks.useManualTiming?u.timestamp:performance.now();e=!1,Ks.useManualTiming||(u.delta=a?1e3/60:Math.max(Math.min(z-u.timestamp,CI),1)),u.timestamp=z,u.isProcessing=!0,w.process(u),A.process(u),y.process(u),C.process(u),T.process(u),I.process(u),D.process(u),P.process(u),u.isProcessing=!1,e&&t&&(a=!1,n(L))},F=()=>{e=!0,a=!0,u.isProcessing||n(L)};return{schedule:xh.reduce((z,lt)=>{const gt=p[lt];return z[lt]=(dt,K=!1,it=!1)=>(e||F(),gt.schedule(dt,K,it)),z},{}),cancel:z=>{for(let lt=0;lt<xh.length;lt++)p[xh[lt]].cancel(z)},state:u,steps:p}}const{schedule:cn,cancel:Qa,state:mi,steps:B1}=S3(typeof requestAnimationFrame<"u"?requestAnimationFrame:Or,!0);let Nh;function SI(){Nh=void 0}const Di={now:()=>(Nh===void 0&&Di.set(mi.isProcessing||Ks.useManualTiming?mi.timestamp:performance.now()),Nh),set:n=>{Nh=n,queueMicrotask(SI)}},T3=n=>t=>typeof t=="string"&&t.startsWith(n),v3=T3("--"),TI=T3("var(--"),Tm=n=>TI(n)?vI.test(n.split("/*")[0].trim()):!1,vI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function LA(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const sc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Iu={...sc,transform:n=>hs(0,1,n)},Ah={...sc,default:1},mu=n=>Math.round(n*1e5)/1e5,vm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function NI(n){return n==null}const II=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Nm=(n,t)=>e=>!!(typeof e=="string"&&II.test(e)&&e.startsWith(n)||t&&!NI(e)&&Object.prototype.hasOwnProperty.call(e,t)),N3=(n,t,e)=>a=>{if(typeof a!="string")return a;const[u,h,p,w]=a.match(vm);return{[n]:parseFloat(u),[t]:parseFloat(h),[e]:parseFloat(p),alpha:w!==void 0?parseFloat(w):1}},MI=n=>hs(0,255,n),_1={...sc,transform:n=>Math.round(MI(n))},Lo={test:Nm("rgb","red"),parse:N3("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:a=1})=>"rgba("+_1.transform(n)+", "+_1.transform(t)+", "+_1.transform(e)+", "+mu(Iu.transform(a))+")"};function OI(n){let t="",e="",a="",u="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),a=n.substring(5,7),u=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),a=n.substring(3,4),u=n.substring(4,5),t+=t,e+=e,a+=a,u+=u),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(a,16),alpha:u?parseInt(u,16)/255:1}}const Eg={test:Nm("#"),parse:OI,transform:Lo.transform},Vu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Va=Vu("deg"),fs=Vu("%"),Lt=Vu("px"),RI=Vu("vh"),DI=Vu("vw"),PA={...fs,parse:n=>fs.parse(n)/100,transform:n=>fs.transform(n*100)},kl={test:Nm("hsl","hue"),parse:N3("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:a=1})=>"hsla("+Math.round(n)+", "+fs.transform(mu(t))+", "+fs.transform(mu(e))+", "+mu(Iu.transform(a))+")"},Gn={test:n=>Lo.test(n)||Eg.test(n)||kl.test(n),parse:n=>Lo.test(n)?Lo.parse(n):kl.test(n)?kl.parse(n):Eg.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Lo.transform(n):kl.transform(n),getAnimatableNone:n=>{const t=Gn.parse(n);return t.alpha=0,Gn.transform(t)}},BI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _I(n){return isNaN(n)&&typeof n=="string"&&(n.match(vm)?.length||0)+(n.match(BI)?.length||0)>0}const I3="number",M3="color",LI="var",PI="var(",UA="${}",UI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mu(n){const t=n.toString(),e=[],a={color:[],number:[],var:[]},u=[];let h=0;const w=t.replace(UI,A=>(Gn.test(A)?(a.color.push(h),u.push(M3),e.push(Gn.parse(A))):A.startsWith(PI)?(a.var.push(h),u.push(LI),e.push(A)):(a.number.push(h),u.push(I3),e.push(parseFloat(A))),++h,UA)).split(UA);return{values:e,split:w,indexes:a,types:u}}function O3(n){return Mu(n).values}function R3(n){const{split:t,types:e}=Mu(n),a=t.length;return u=>{let h="";for(let p=0;p<a;p++)if(h+=t[p],u[p]!==void 0){const w=e[p];w===I3?h+=mu(u[p]):w===M3?h+=Gn.transform(u[p]):h+=u[p]}return h}}const kI=n=>typeof n=="number"?0:Gn.test(n)?Gn.getAnimatableNone(n):n;function FI(n){const t=O3(n);return R3(n)(t.map(kI))}const Za={test:_I,parse:O3,createTransformer:R3,getAnimatableNone:FI};function L1(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function zI({hue:n,saturation:t,lightness:e,alpha:a}){n/=360,t/=100,e/=100;let u=0,h=0,p=0;if(!t)u=h=p=e;else{const w=e<.5?e*(1+t):e+t-e*t,A=2*e-w;u=L1(A,w,n+1/3),h=L1(A,w,n),p=L1(A,w,n-1/3)}return{red:Math.round(u*255),green:Math.round(h*255),blue:Math.round(p*255),alpha:a}}function Gh(n,t){return e=>e>0?t:n}const xn=(n,t,e)=>n+(t-n)*e,P1=(n,t,e)=>{const a=n*n,u=e*(t*t-a)+a;return u<0?0:Math.sqrt(u)},VI=[Eg,Lo,kl],HI=n=>VI.find(t=>t.test(n));function kA(n){const t=HI(n);if(!t)return!1;let e=t.parse(n);return t===kl&&(e=zI(e)),e}const FA=(n,t)=>{const e=kA(n),a=kA(t);if(!e||!a)return Gh(n,t);const u={...e};return h=>(u.red=P1(e.red,a.red,h),u.green=P1(e.green,a.green,h),u.blue=P1(e.blue,a.blue,h),u.alpha=xn(e.alpha,a.alpha,h),Lo.transform(u))},Cg=new Set(["none","hidden"]);function GI(n,t){return Cg.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function jI(n,t){return e=>xn(n,t,e)}function Im(n){return typeof n=="number"?jI:typeof n=="string"?Tm(n)?Gh:Gn.test(n)?FA:QI:Array.isArray(n)?D3:typeof n=="object"?Gn.test(n)?FA:YI:Gh}function D3(n,t){const e=[...n],a=e.length,u=n.map((h,p)=>Im(h)(h,t[p]));return h=>{for(let p=0;p<a;p++)e[p]=u[p](h);return e}}function YI(n,t){const e={...n,...t},a={};for(const u in e)n[u]!==void 0&&t[u]!==void 0&&(a[u]=Im(n[u])(n[u],t[u]));return u=>{for(const h in a)e[h]=a[h](u);return e}}function XI(n,t){const e=[],a={color:0,var:0,number:0};for(let u=0;u<t.values.length;u++){const h=t.types[u],p=n.indexes[h][a[h]],w=n.values[p]??0;e[u]=w,a[h]++}return e}const QI=(n,t)=>{const e=Za.createTransformer(t),a=Mu(n),u=Mu(t);return a.indexes.var.length===u.indexes.var.length&&a.indexes.color.length===u.indexes.color.length&&a.indexes.number.length>=u.indexes.number.length?Cg.has(n)&&!u.values.length||Cg.has(t)&&!a.values.length?GI(n,t):Fu(D3(XI(a,u),u.values),e):Gh(n,t)};function B3(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?xn(n,t,e):Im(n)(n,t)}const ZI=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>cn.update(t,e),stop:()=>Qa(t),now:()=>mi.isProcessing?mi.timestamp:Di.now()}},_3=(n,t,e=10)=>{let a="";const u=Math.max(Math.round(t/e),2);for(let h=0;h<u;h++)a+=Math.round(n(h/(u-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},jh=2e4;function Mm(n){let t=0;const e=50;let a=n.next(t);for(;!a.done&&t<jh;)t+=e,a=n.next(t);return t>=jh?1/0:t}function KI(n,t=100,e){const a=e({...n,keyframes:[0,t]}),u=Math.min(Mm(a),jh);return{type:"keyframes",ease:h=>a.next(u*h).value/t,duration:Mr(u)}}const WI=5;function L3(n,t,e){const a=Math.max(t-WI,0);return d3(e-n(a),t-a)}const In={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},U1=.001;function qI({duration:n=In.duration,bounce:t=In.bounce,velocity:e=In.velocity,mass:a=In.mass}){let u,h,p=1-t;p=hs(In.minDamping,In.maxDamping,p),n=hs(In.minDuration,In.maxDuration,Mr(n)),p<1?(u=y=>{const C=y*p,T=C*n,I=C-e,D=Sg(y,p),P=Math.exp(-T);return U1-I/D*P},h=y=>{const T=y*p*n,I=T*e+e,D=Math.pow(p,2)*Math.pow(y,2)*n,P=Math.exp(-T),L=Sg(Math.pow(y,2),p);return(-u(y)+U1>0?-1:1)*((I-D)*P)/L}):(u=y=>{const C=Math.exp(-y*n),T=(y-e)*n+1;return-U1+C*T},h=y=>{const C=Math.exp(-y*n),T=(e-y)*(n*n);return C*T});const w=5/n,A=$I(u,h,w);if(n=Ys(n),isNaN(A))return{stiffness:In.stiffness,damping:In.damping,duration:n};{const y=Math.pow(A,2)*a;return{stiffness:y,damping:p*2*Math.sqrt(a*y),duration:n}}}const JI=12;function $I(n,t,e){let a=e;for(let u=1;u<JI;u++)a=a-n(a)/t(a);return a}function Sg(n,t){return n*Math.sqrt(1-t*t)}const tM=["duration","bounce"],eM=["stiffness","damping","mass"];function zA(n,t){return t.some(e=>n[e]!==void 0)}function nM(n){let t={velocity:In.velocity,stiffness:In.stiffness,damping:In.damping,mass:In.mass,isResolvedFromDuration:!1,...n};if(!zA(n,eM)&&zA(n,tM))if(n.visualDuration){const e=n.visualDuration,a=2*Math.PI/(e*1.2),u=a*a,h=2*hs(.05,1,1-(n.bounce||0))*Math.sqrt(u);t={...t,mass:In.mass,stiffness:u,damping:h}}else{const e=qI(n);t={...t,...e,mass:In.mass},t.isResolvedFromDuration=!0}return t}function Yh(n=In.visualDuration,t=In.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:a,restDelta:u}=e;const h=e.keyframes[0],p=e.keyframes[e.keyframes.length-1],w={done:!1,value:h},{stiffness:A,damping:y,mass:C,duration:T,velocity:I,isResolvedFromDuration:D}=nM({...e,velocity:-Mr(e.velocity||0)}),P=I||0,L=y/(2*Math.sqrt(A*C)),F=p-h,G=Mr(Math.sqrt(A/C)),q=Math.abs(F)<5;a||(a=q?In.restSpeed.granular:In.restSpeed.default),u||(u=q?In.restDelta.granular:In.restDelta.default);let z;if(L<1){const gt=Sg(G,L);z=dt=>{const K=Math.exp(-L*G*dt);return p-K*((P+L*G*F)/gt*Math.sin(gt*dt)+F*Math.cos(gt*dt))}}else if(L===1)z=gt=>p-Math.exp(-G*gt)*(F+(P+G*F)*gt);else{const gt=G*Math.sqrt(L*L-1);z=dt=>{const K=Math.exp(-L*G*dt),it=Math.min(gt*dt,300);return p-K*((P+L*G*F)*Math.sinh(it)+gt*F*Math.cosh(it))/gt}}const lt={calculatedDuration:D&&T||null,next:gt=>{const dt=z(gt);if(D)w.done=gt>=T;else{let K=gt===0?P:0;L<1&&(K=gt===0?Ys(P):L3(z,gt,dt));const it=Math.abs(K)<=a,at=Math.abs(p-dt)<=u;w.done=it&&at}return w.value=w.done?p:dt,w},toString:()=>{const gt=Math.min(Mm(lt),jh),dt=_3(K=>lt.next(gt*K).value,gt,30);return gt+"ms "+dt},toTransition:()=>{}};return lt}Yh.applyToOptions=n=>{const t=KI(n,100,Yh);return n.ease=t.ease,n.duration=Ys(t.duration),n.type="keyframes",n};function Tg({keyframes:n,velocity:t=0,power:e=.8,timeConstant:a=325,bounceDamping:u=10,bounceStiffness:h=500,modifyTarget:p,min:w,max:A,restDelta:y=.5,restSpeed:C}){const T=n[0],I={done:!1,value:T},D=it=>w!==void 0&&it<w||A!==void 0&&it>A,P=it=>w===void 0?A:A===void 0||Math.abs(w-it)<Math.abs(A-it)?w:A;let L=e*t;const F=T+L,G=p===void 0?F:p(F);G!==F&&(L=G-T);const q=it=>-L*Math.exp(-it/a),z=it=>G+q(it),lt=it=>{const at=q(it),_t=z(it);I.done=Math.abs(at)<=y,I.value=I.done?G:_t};let gt,dt;const K=it=>{D(I.value)&&(gt=it,dt=Yh({keyframes:[I.value,P(I.value)],velocity:L3(z,it,I.value),damping:u,stiffness:h,restDelta:y,restSpeed:C}))};return K(0),{calculatedDuration:null,next:it=>{let at=!1;return!dt&&gt===void 0&&(at=!0,lt(it),K(it)),gt!==void 0&&it>=gt?dt.next(it-gt):(!at&&lt(it),I)}}}function iM(n,t,e){const a=[],u=e||Ks.mix||B3,h=n.length-1;for(let p=0;p<h;p++){let w=u(n[p],n[p+1]);if(t){const A=Array.isArray(t)?t[p]||Or:t;w=Fu(A,w)}a.push(w)}return a}function rM(n,t,{clamp:e=!0,ease:a,mixer:u}={}){const h=n.length;if(wm(h===t.length),h===1)return()=>t[0];if(h===2&&t[0]===t[1])return()=>t[1];const p=n[0]===n[1];n[0]>n[h-1]&&(n=[...n].reverse(),t=[...t].reverse());const w=iM(t,a,u),A=w.length,y=C=>{if(p&&C<n[0])return t[0];let T=0;if(A>1)for(;T<n.length-2&&!(C<n[T+1]);T++);const I=Nu(n[T],n[T+1],C);return w[T](I)};return e?C=>y(hs(n[0],n[h-1],C)):y}function sM(n,t){const e=n[n.length-1];for(let a=1;a<=t;a++){const u=Nu(0,t,a);n.push(xn(e,1,u))}}function aM(n){const t=[0];return sM(t,n.length-1),t}function oM(n,t){return n.map(e=>e*t)}function lM(n,t){return n.map(()=>t||E3).splice(0,n.length-1)}function pu({duration:n=300,keyframes:t,times:e,ease:a="easeInOut"}){const u=AI(a)?a.map(_A):_A(a),h={done:!1,value:t[0]},p=oM(e&&e.length===t.length?e:aM(t),n),w=rM(p,t,{ease:Array.isArray(u)?u:lM(t,u)});return{calculatedDuration:n,next:A=>(h.value=w(A),h.done=A>=n,h)}}const cM=n=>n!==null;function Om(n,{repeat:t,repeatType:e="loop"},a,u=1){const h=n.filter(cM),w=u<0||t&&e!=="loop"&&t%2===1?0:h.length-1;return!w||a===void 0?h[w]:a}const uM={decay:Tg,inertia:Tg,tween:pu,keyframes:pu,spring:Yh};function P3(n){typeof n.type=="string"&&(n.type=uM[n.type])}class Rm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const fM=n=>n/100;class Dm extends Rm{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Di.now()&&this.tick(Di.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;P3(t);const{type:e=pu,repeat:a=0,repeatDelay:u=0,repeatType:h,velocity:p=0}=t;let{keyframes:w}=t;const A=e||pu;A!==pu&&typeof w[0]!="number"&&(this.mixKeyframes=Fu(fM,B3(w[0],w[1])),w=[0,100]);const y=A({...t,keyframes:w});h==="mirror"&&(this.mirroredGenerator=A({...t,keyframes:[...w].reverse(),velocity:-p})),y.calculatedDuration===null&&(y.calculatedDuration=Mm(y));const{calculatedDuration:C}=y;this.calculatedDuration=C,this.resolvedDuration=C+u,this.totalDuration=this.resolvedDuration*(a+1)-u,this.generator=y}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:a,totalDuration:u,mixKeyframes:h,mirroredGenerator:p,resolvedDuration:w,calculatedDuration:A}=this;if(this.startTime===null)return a.next(0);const{delay:y=0,keyframes:C,repeat:T,repeatType:I,repeatDelay:D,type:P,onUpdate:L,finalKeyframe:F}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const G=this.currentTime-y*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?G<0:G>u;this.currentTime=Math.max(G,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let z=this.currentTime,lt=a;if(T){const it=Math.min(this.currentTime,u)/w;let at=Math.floor(it),_t=it%1;!_t&&it>=1&&(_t=1),_t===1&&at--,at=Math.min(at,T+1),at%2&&(I==="reverse"?(_t=1-_t,D&&(_t-=D/w)):I==="mirror"&&(lt=p)),z=hs(0,1,_t)*w}const gt=q?{done:!1,value:C[0]}:lt.next(z);h&&(gt.value=h(gt.value));let{done:dt}=gt;!q&&A!==null&&(dt=this.playbackSpeed>=0?this.currentTime>=u:this.currentTime<=0);const K=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&dt);return K&&P!==Tg&&(gt.value=Om(C,this.options,F,this.speed)),L&&L(gt.value),K&&this.finish(),gt}then(t,e){return this.finished.then(t,e)}get duration(){return Mr(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Mr(t)}get time(){return Mr(this.currentTime)}set time(t){t=Ys(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Di.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Mr(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=ZI,startTime:e}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),this.options.onPlay?.();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=e??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Di.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function hM(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Po=n=>n*180/Math.PI,vg=n=>{const t=Po(Math.atan2(n[1],n[0]));return Ng(t)},dM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:vg,rotateZ:vg,skewX:n=>Po(Math.atan(n[1])),skewY:n=>Po(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Ng=n=>(n=n%360,n<0&&(n+=360),n),VA=vg,HA=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),GA=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),gM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:HA,scaleY:GA,scale:n=>(HA(n)+GA(n))/2,rotateX:n=>Ng(Po(Math.atan2(n[6],n[5]))),rotateY:n=>Ng(Po(Math.atan2(-n[2],n[0]))),rotateZ:VA,rotate:VA,skewX:n=>Po(Math.atan(n[4])),skewY:n=>Po(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Ig(n){return n.includes("scale")?1:0}function Mg(n,t){if(!n||n==="none")return Ig(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,u;if(e)a=gM,u=e;else{const w=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=dM,u=w}if(!u)return Ig(t);const h=a[t],p=u[1].split(",").map(pM);return typeof h=="function"?h(p):p[h]}const mM=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return Mg(e,t)};function pM(n){return parseFloat(n.trim())}const ac=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],oc=new Set(ac),jA=n=>n===sc||n===Lt,yM=new Set(["x","y","z"]),xM=ac.filter(n=>!yM.has(n));function AM(n){const t=[];return xM.forEach(e=>{const a=n.getValue(e);a!==void 0&&(t.push([e,a.get()]),a.set(e.startsWith("scale")?1:0))}),t}const Ga={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Mg(t,"x"),y:(n,{transform:t})=>Mg(t,"y")};Ga.translateX=Ga.x;Ga.translateY=Ga.y;const Fo=new Set;let Og=!1,Rg=!1,Dg=!1;function U3(){if(Rg){const n=Array.from(Fo).filter(a=>a.needsMeasurement),t=new Set(n.map(a=>a.element)),e=new Map;t.forEach(a=>{const u=AM(a);u.length&&(e.set(a,u),a.render())}),n.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const u=e.get(a);u&&u.forEach(([h,p])=>{a.getValue(h)?.set(p)})}),n.forEach(a=>a.measureEndState()),n.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}Rg=!1,Og=!1,Fo.forEach(n=>n.complete(Dg)),Fo.clear()}function k3(){Fo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Rg=!0)})}function wM(){Dg=!0,k3(),U3(),Dg=!1}class Bm{constructor(t,e,a,u,h,p=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=a,this.motionValue=u,this.element=h,this.isAsync=p}scheduleResolve(){this.state="scheduled",this.isAsync?(Fo.add(this),Og||(Og=!0,cn.read(k3),cn.resolveKeyframes(U3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:a,motionValue:u}=this;if(t[0]===null){const h=u?.get(),p=t[t.length-1];if(h!==void 0)t[0]=h;else if(a&&e){const w=a.readValue(e,p);w!=null&&(t[0]=w)}t[0]===void 0&&(t[0]=p),u&&h===void 0&&u.set(t[0])}hM(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Fo.delete(this)}cancel(){this.state==="scheduled"&&(Fo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const bM=n=>n.startsWith("--");function EM(n,t,e){bM(t)?n.style.setProperty(t,e):n.style[t]=e}const CM=bm(()=>window.ScrollTimeline!==void 0),SM={};function TM(n,t){const e=bm(n);return()=>SM[t]??e()}const F3=TM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),uu=([n,t,e,a])=>`cubic-bezier(${n}, ${t}, ${e}, ${a})`,YA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uu([0,.65,.55,1]),circOut:uu([.55,0,1,.45]),backIn:uu([.31,.01,.66,-.59]),backOut:uu([.33,1.53,.69,.99])};function z3(n,t){if(n)return typeof n=="function"?F3()?_3(n,t):"ease-out":C3(n)?uu(n):Array.isArray(n)?n.map(e=>z3(e,t)||YA.easeOut):YA[n]}function vM(n,t,e,{delay:a=0,duration:u=300,repeat:h=0,repeatType:p="loop",ease:w="easeOut",times:A}={},y=void 0){const C={[t]:e};A&&(C.offset=A);const T=z3(w,u);Array.isArray(T)&&(C.easing=T);const I={delay:a,duration:u,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:h+1,direction:p==="reverse"?"alternate":"normal"};return y&&(I.pseudoElement=y),n.animate(C,I)}function V3(n){return typeof n=="function"&&"applyToOptions"in n}function NM({type:n,...t}){return V3(n)&&F3()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class IM extends Rm{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:a,keyframes:u,pseudoElement:h,allowFlatten:p=!1,finalKeyframe:w,onComplete:A}=t;this.isPseudoElement=!!h,this.allowFlatten=p,this.options=t,wm(typeof t.type!="string");const y=NM(t);this.animation=vM(e,a,u,y,h),y.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!h){const C=Om(u,this.options,w,this.speed);this.updateMotionValue?this.updateMotionValue(C):EM(e,a,C),this.animation.cancel()}A?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Mr(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Mr(t)}get time(){return Mr(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ys(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&CM()?(this.animation.timeline=t,Or):e(this)}}const H3={anticipate:A3,backInOut:x3,circInOut:b3};function MM(n){return n in H3}function OM(n){typeof n.ease=="string"&&MM(n.ease)&&(n.ease=H3[n.ease])}const k1=10;class RM extends IM{constructor(t){OM(t),P3(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:a,onComplete:u,element:h,...p}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const w=new Dm({...p,autoplay:!1}),A=Math.max(k1,Di.now()-this.startTime),y=hs(0,k1,A-k1);e.setWithVelocity(w.sample(Math.max(0,A-y)).value,w.sample(A).value,y),w.stop()}}const XA=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Za.test(n)||n==="0")&&!n.startsWith("url("));function DM(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function BM(n,t,e,a){const u=n[0];if(u===null)return!1;if(t==="display"||t==="visibility")return!0;const h=n[n.length-1],p=XA(u,t),w=XA(h,t);return!p||!w?!1:DM(n)||(e==="spring"||V3(e))&&a}function Bg(n){n.duration=0,n.type="keyframes"}const _M=new Set(["opacity","clipPath","filter","transform"]),LM=bm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function PM(n){const{motionValue:t,name:e,repeatDelay:a,repeatType:u,damping:h,type:p}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:A,transformTemplate:y}=t.owner.getProps();return LM()&&e&&_M.has(e)&&(e!=="transform"||!y)&&!A&&!a&&u!=="mirror"&&h!==0&&p!=="inertia"}const UM=40;class kM extends Rm{constructor({autoplay:t=!0,delay:e=0,type:a="keyframes",repeat:u=0,repeatDelay:h=0,repeatType:p="loop",keyframes:w,name:A,motionValue:y,element:C,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Di.now();const I={autoplay:t,delay:e,type:a,repeat:u,repeatDelay:h,repeatType:p,name:A,motionValue:y,element:C,...T},D=C?.KeyframeResolver||Bm;this.keyframeResolver=new D(w,(P,L,F)=>this.onKeyframesResolved(P,L,I,!F),A,y,C),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,a,u){this.keyframeResolver=void 0;const{name:h,type:p,velocity:w,delay:A,isHandoff:y,onUpdate:C}=a;this.resolvedAt=Di.now(),BM(t,h,p,w)||((Ks.instantAnimations||!A)&&C?.(Om(t,a,e)),t[0]=t[t.length-1],Bg(a),a.repeat=0);const I={startTime:u?this.resolvedAt?this.resolvedAt-this.createdAt>UM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...a,keyframes:t},D=!y&&PM(I)?new RM({...I,element:I.motionValue.owner.current}):new Dm(I);D.finished.then(()=>this.notifyFinished()).catch(Or),this.pendingTimeline&&(this.stopTimeline=D.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=D}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),wM()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const FM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function zM(n){const t=FM.exec(n);if(!t)return[,];const[,e,a,u]=t;return[`--${e??a}`,u]}function G3(n,t,e=1){const[a,u]=zM(n);if(!a)return;const h=window.getComputedStyle(t).getPropertyValue(a);if(h){const p=h.trim();return u3(p)?parseFloat(p):p}return Tm(u)?G3(u,t,e+1):u}function _m(n,t){return n?.[t]??n?.default??n}const j3=new Set(["width","height","top","left","right","bottom",...ac]),VM={test:n=>n==="auto",parse:n=>n},Y3=n=>t=>t.test(n),X3=[sc,Lt,fs,Va,DI,RI,VM],QA=n=>X3.find(Y3(n));function HM(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||h3(n):!0}const GM=new Set(["brightness","contrast","saturate","opacity"]);function jM(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[a]=e.match(vm)||[];if(!a)return n;const u=e.replace(a,"");let h=GM.has(t)?1:0;return a!==e&&(h*=100),t+"("+h+u+")"}const YM=/\b([a-z-]*)\(.*?\)/gu,_g={...Za,getAnimatableNone:n=>{const t=n.match(YM);return t?t.map(jM).join(" "):n}},ZA={...sc,transform:Math.round},XM={rotate:Va,rotateX:Va,rotateY:Va,rotateZ:Va,scale:Ah,scaleX:Ah,scaleY:Ah,scaleZ:Ah,skew:Va,skewX:Va,skewY:Va,distance:Lt,translateX:Lt,translateY:Lt,translateZ:Lt,x:Lt,y:Lt,z:Lt,perspective:Lt,transformPerspective:Lt,opacity:Iu,originX:PA,originY:PA,originZ:Lt},Lm={borderWidth:Lt,borderTopWidth:Lt,borderRightWidth:Lt,borderBottomWidth:Lt,borderLeftWidth:Lt,borderRadius:Lt,radius:Lt,borderTopLeftRadius:Lt,borderTopRightRadius:Lt,borderBottomRightRadius:Lt,borderBottomLeftRadius:Lt,width:Lt,maxWidth:Lt,height:Lt,maxHeight:Lt,top:Lt,right:Lt,bottom:Lt,left:Lt,inset:Lt,insetBlock:Lt,insetBlockStart:Lt,insetBlockEnd:Lt,insetInline:Lt,insetInlineStart:Lt,insetInlineEnd:Lt,padding:Lt,paddingTop:Lt,paddingRight:Lt,paddingBottom:Lt,paddingLeft:Lt,paddingBlock:Lt,paddingBlockStart:Lt,paddingBlockEnd:Lt,paddingInline:Lt,paddingInlineStart:Lt,paddingInlineEnd:Lt,margin:Lt,marginTop:Lt,marginRight:Lt,marginBottom:Lt,marginLeft:Lt,marginBlock:Lt,marginBlockStart:Lt,marginBlockEnd:Lt,marginInline:Lt,marginInlineStart:Lt,marginInlineEnd:Lt,backgroundPositionX:Lt,backgroundPositionY:Lt,...XM,zIndex:ZA,fillOpacity:Iu,strokeOpacity:Iu,numOctaves:ZA},QM={...Lm,color:Gn,backgroundColor:Gn,outlineColor:Gn,fill:Gn,stroke:Gn,borderColor:Gn,borderTopColor:Gn,borderRightColor:Gn,borderBottomColor:Gn,borderLeftColor:Gn,filter:_g,WebkitFilter:_g},Q3=n=>QM[n];function Z3(n,t){let e=Q3(n);return e!==_g&&(e=Za),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const ZM=new Set(["auto","none","0"]);function KM(n,t,e){let a=0,u;for(;a<n.length&&!u;){const h=n[a];typeof h=="string"&&!ZM.has(h)&&Mu(h).values.length&&(u=n[a]),a++}if(u&&e)for(const h of t)n[h]=Z3(e,u)}class WM extends Bm{constructor(t,e,a,u,h){super(t,e,a,u,h,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:a}=this;if(!e||!e.current)return;super.readKeyframes();for(let C=0;C<t.length;C++){let T=t[C];if(typeof T=="string"&&(T=T.trim(),Tm(T))){const I=G3(T,e.current);I!==void 0&&(t[C]=I),C===t.length-1&&(this.finalKeyframe=T)}}if(this.resolveNoneKeyframes(),!j3.has(a)||t.length!==2)return;const[u,h]=t,p=QA(u),w=QA(h),A=LA(u),y=LA(h);if(A!==y&&Ga[a]){this.needsMeasurement=!0;return}if(p!==w)if(jA(p)&&jA(w))for(let C=0;C<t.length;C++){const T=t[C];typeof T=="string"&&(t[C]=parseFloat(T))}else Ga[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,a=[];for(let u=0;u<t.length;u++)(t[u]===null||HM(t[u]))&&a.push(u);a.length&&KM(t,a,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ga[a](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const u=e[e.length-1];u!==void 0&&t.getValue(a,u).jump(u,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const u=t.getValue(e);u&&u.jump(this.measuredOrigin,!1);const h=a.length-1,p=a[h];a[h]=Ga[e](t.measureViewportBox(),window.getComputedStyle(t.current)),p!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=p),this.removedTransforms?.length&&this.removedTransforms.forEach(([w,A])=>{t.getValue(w).set(A)}),this.resolveNoneKeyframes()}}function qM(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let a=document;const u=e?.[n]??a.querySelectorAll(n);return u?Array.from(u):[]}return Array.from(n)}const K3=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function W3(n){return f3(n)&&"offsetHeight"in n}const KA=30,JM=n=>!isNaN(parseFloat(n));class $M{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{const u=Di.now();if(this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Di.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=JM(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Em);const a=this.events[t].add(e);return t==="change"?()=>{a(),cn.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,a){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Di.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>KA)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,KA);return d3(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ec(n,t){return new $M(n,t)}const{schedule:Pm}=S3(queueMicrotask,!1),Hr={x:!1,y:!1};function q3(){return Hr.x||Hr.y}function tO(n){return n==="x"||n==="y"?Hr[n]?null:(Hr[n]=!0,()=>{Hr[n]=!1}):Hr.x||Hr.y?null:(Hr.x=Hr.y=!0,()=>{Hr.x=Hr.y=!1})}function J3(n,t){const e=qM(n),a=new AbortController,u={passive:!0,...t,signal:a.signal};return[e,u,()=>a.abort()]}function WA(n){return!(n.pointerType==="touch"||q3())}function eO(n,t,e={}){const[a,u,h]=J3(n,e),p=w=>{if(!WA(w))return;const{target:A}=w,y=t(A,w);if(typeof y!="function"||!A)return;const C=T=>{WA(T)&&(y(T),A.removeEventListener("pointerleave",C))};A.addEventListener("pointerleave",C,u)};return a.forEach(w=>{w.addEventListener("pointerenter",p,u)}),h}const $3=(n,t)=>t?n===t?!0:$3(n,t.parentElement):!1,Um=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,nO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tC(n){return nO.has(n.tagName)||n.isContentEditable===!0}const Ih=new WeakSet;function qA(n){return t=>{t.key==="Enter"&&n(t)}}function F1(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const iO=(n,t)=>{const e=n.currentTarget;if(!e)return;const a=qA(()=>{if(Ih.has(e))return;F1(e,"down");const u=qA(()=>{F1(e,"up")}),h=()=>F1(e,"cancel");e.addEventListener("keyup",u,t),e.addEventListener("blur",h,t)});e.addEventListener("keydown",a,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",a),t)};function JA(n){return Um(n)&&!q3()}function rO(n,t,e={}){const[a,u,h]=J3(n,e),p=w=>{const A=w.currentTarget;if(!JA(w))return;Ih.add(A);const y=t(A,w),C=(D,P)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",I),Ih.has(A)&&Ih.delete(A),JA(D)&&typeof y=="function"&&y(D,{success:P})},T=D=>{C(D,A===window||A===document||e.useGlobalTarget||$3(A,D.target))},I=D=>{C(D,!1)};window.addEventListener("pointerup",T,u),window.addEventListener("pointercancel",I,u)};return a.forEach(w=>{(e.useGlobalTarget?window:w).addEventListener("pointerdown",p,u),W3(w)&&(w.addEventListener("focus",y=>iO(y,u)),!tC(w)&&!w.hasAttribute("tabindex")&&(w.tabIndex=0))}),h}function eC(n){return f3(n)&&"ownerSVGElement"in n}function sO(n){return eC(n)&&n.tagName==="svg"}const Ai=n=>!!(n&&n.getVelocity),aO=[...X3,Gn,Za],oO=n=>aO.find(Y3(n)),km=Nt.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function $A(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function lO(...n){return t=>{let e=!1;const a=n.map(u=>{const h=$A(u,t);return!e&&typeof h=="function"&&(e=!0),h});if(e)return()=>{for(let u=0;u<a.length;u++){const h=a[u];typeof h=="function"?h():$A(n[u],null)}}}}function cO(...n){return Nt.useCallback(lO(...n),n)}class uO extends Nt.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const a=e.offsetParent,u=W3(a)&&a.offsetWidth||0,h=this.props.sizeRef.current;h.height=e.offsetHeight||0,h.width=e.offsetWidth||0,h.top=e.offsetTop,h.left=e.offsetLeft,h.right=u-h.width-h.left}return null}componentDidUpdate(){}render(){return this.props.children}}function fO({children:n,isPresent:t,anchorX:e,root:a}){const u=Nt.useId(),h=Nt.useRef(null),p=Nt.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:w}=Nt.useContext(km),A=n.props?.ref??n?.ref,y=cO(h,A);return Nt.useInsertionEffect(()=>{const{width:C,height:T,top:I,left:D,right:P}=p.current;if(t||!h.current||!C||!T)return;const L=e==="left"?`left: ${D}`:`right: ${P}`;h.current.dataset.motionPopId=u;const F=document.createElement("style");w&&(F.nonce=w);const G=a??document.head;return G.appendChild(F),F.sheet&&F.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${C}px !important;
            height: ${T}px !important;
            ${L}px !important;
            top: ${I}px !important;
          }
        `),()=>{G.contains(F)&&G.removeChild(F)}},[t]),J.jsx(uO,{isPresent:t,childRef:h,sizeRef:p,children:Nt.cloneElement(n,{ref:y})})}const hO=({children:n,initial:t,isPresent:e,onExitComplete:a,custom:u,presenceAffectsLayout:h,mode:p,anchorX:w,root:A})=>{const y=pm(dO),C=Nt.useId();let T=!0,I=Nt.useMemo(()=>(T=!1,{id:C,initial:t,isPresent:e,custom:u,onExitComplete:D=>{y.set(D,!0);for(const P of y.values())if(!P)return;a&&a()},register:D=>(y.set(D,!1),()=>y.delete(D))}),[e,y,a]);return h&&T&&(I={...I}),Nt.useMemo(()=>{y.forEach((D,P)=>y.set(P,!1))},[e]),Nt.useEffect(()=>{!e&&!y.size&&a&&a()},[e]),p==="popLayout"&&(n=J.jsx(fO,{isPresent:e,anchorX:w,root:A,children:n})),J.jsx(c0.Provider,{value:I,children:n})};function dO(){return new Map}function nC(n=!0){const t=Nt.useContext(c0);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:a,register:u}=t,h=Nt.useId();Nt.useEffect(()=>{if(n)return u(h)},[n]);const p=Nt.useCallback(()=>n&&a&&a(h),[h,a,n]);return!e&&a?[!1,p]:[!0]}const wh=n=>n.key||"";function tw(n){const t=[];return Nt.Children.forEach(n,e=>{Nt.isValidElement(e)&&t.push(e)}),t}const ew=({children:n,custom:t,initial:e=!0,onExitComplete:a,presenceAffectsLayout:u=!0,mode:h="sync",propagate:p=!1,anchorX:w="left",root:A})=>{const[y,C]=nC(p),T=Nt.useMemo(()=>tw(n),[n]),I=p&&!y?[]:T.map(wh),D=Nt.useRef(!0),P=Nt.useRef(T),L=pm(()=>new Map),F=Nt.useRef(new Set),[G,q]=Nt.useState(T),[z,lt]=Nt.useState(T);c3(()=>{D.current=!1,P.current=T;for(let K=0;K<z.length;K++){const it=wh(z[K]);I.includes(it)?(L.delete(it),F.current.delete(it)):L.get(it)!==!0&&L.set(it,!1)}},[z,I.length,I.join("-")]);const gt=[];if(T!==G){let K=[...T];for(let it=0;it<z.length;it++){const at=z[it],_t=wh(at);I.includes(_t)||(K.splice(it,0,at),gt.push(at))}return h==="wait"&&gt.length&&(K=gt),lt(tw(K)),q(T),null}const{forceRender:dt}=Nt.useContext(mm);return J.jsx(J.Fragment,{children:z.map(K=>{const it=wh(K),at=p&&!y?!1:T===z||I.includes(it),_t=()=>{if(F.current.has(it))return;if(F.current.add(it),L.has(it))L.set(it,!0);else return;let Ot=!0;L.forEach(Mt=>{Mt||(Ot=!1)}),Ot&&(dt?.(),lt(P.current),p&&C?.(),a&&a())};return J.jsx(hO,{isPresent:at,initial:!D.current||e?void 0:!1,custom:t,presenceAffectsLayout:u,mode:h,root:A,onExitComplete:at?void 0:_t,anchorX:w,children:K},it)})})},iC=Nt.createContext({strict:!1}),nw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nc={};for(const n in nw)nc[n]={isEnabled:t=>nw[n].some(e=>!!t[e])};function gO(n){for(const t in n)nc[t]={...nc[t],...n[t]}}const mO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||mO.has(n)}let rC=n=>!Xh(n);function pO(n){typeof n=="function"&&(rC=t=>t.startsWith("on")?!Xh(t):n(t))}try{pO(require("@emotion/is-prop-valid").default)}catch{}function yO(n,t,e){const a={};for(const u in n)u==="values"&&typeof n.values=="object"||(rC(u)||e===!0&&Xh(u)||!t&&!Xh(u)||n.draggable&&u.startsWith("onDrag"))&&(a[u]=n[u]);return a}const u0=Nt.createContext({});function f0(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Ou(n){return typeof n=="string"||Array.isArray(n)}const Fm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zm=["initial",...Fm];function h0(n){return f0(n.animate)||zm.some(t=>Ou(n[t]))}function sC(n){return!!(h0(n)||n.variants)}function xO(n,t){if(h0(n)){const{initial:e,animate:a}=n;return{initial:e===!1||Ou(e)?e:void 0,animate:Ou(a)?a:void 0}}return n.inherit!==!1?t:{}}function AO(n){const{initial:t,animate:e}=xO(n,Nt.useContext(u0));return Nt.useMemo(()=>({initial:t,animate:e}),[iw(t),iw(e)])}function iw(n){return Array.isArray(n)?n.join(" "):n}function rw(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const su={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Lt.test(n))n=parseFloat(n);else return n;const e=rw(n,t.target.x),a=rw(n,t.target.y);return`${e}% ${a}%`}},wO={correct:(n,{treeScale:t,projectionDelta:e})=>{const a=n,u=Za.parse(n);if(u.length>5)return a;const h=Za.createTransformer(n),p=typeof u[0]!="number"?1:0,w=e.x.scale*t.x,A=e.y.scale*t.y;u[0+p]/=w,u[1+p]/=A;const y=xn(w,A,.5);return typeof u[2+p]=="number"&&(u[2+p]/=y),typeof u[3+p]=="number"&&(u[3+p]/=y),h(u)}},Lg={borderRadius:{...su,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:su,borderTopRightRadius:su,borderBottomLeftRadius:su,borderBottomRightRadius:su,boxShadow:wO};function aC(n,{layout:t,layoutId:e}){return oc.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Lg[n]||n==="opacity")}const bO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},EO=ac.length;function CO(n,t,e){let a="",u=!0;for(let h=0;h<EO;h++){const p=ac[h],w=n[p];if(w===void 0)continue;let A=!0;if(typeof w=="number"?A=w===(p.startsWith("scale")?1:0):A=parseFloat(w)===0,!A||e){const y=K3(w,Lm[p]);if(!A){u=!1;const C=bO[p]||p;a+=`${C}(${y}) `}e&&(t[p]=y)}}return a=a.trim(),e?a=e(t,u?"":a):u&&(a="none"),a}function Vm(n,t,e){const{style:a,vars:u,transformOrigin:h}=n;let p=!1,w=!1;for(const A in t){const y=t[A];if(oc.has(A)){p=!0;continue}else if(v3(A)){u[A]=y;continue}else{const C=K3(y,Lm[A]);A.startsWith("origin")?(w=!0,h[A]=C):a[A]=C}}if(t.transform||(p||e?a.transform=CO(t,n.transform,e):a.transform&&(a.transform="none")),w){const{originX:A="50%",originY:y="50%",originZ:C=0}=h;a.transformOrigin=`${A} ${y} ${C}`}}const Hm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oC(n,t,e){for(const a in t)!Ai(t[a])&&!aC(a,e)&&(n[a]=t[a])}function SO({transformTemplate:n},t){return Nt.useMemo(()=>{const e=Hm();return Vm(e,t,n),Object.assign({},e.vars,e.style)},[t])}function TO(n,t){const e=n.style||{},a={};return oC(a,e,n),Object.assign(a,SO(n,t)),a}function vO(n,t){const e={},a=TO(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=a,e}const NO={offset:"stroke-dashoffset",array:"stroke-dasharray"},IO={offset:"strokeDashoffset",array:"strokeDasharray"};function MO(n,t,e=1,a=0,u=!0){n.pathLength=1;const h=u?NO:IO;n[h.offset]=Lt.transform(-a);const p=Lt.transform(t),w=Lt.transform(e);n[h.array]=`${p} ${w}`}const OO=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function lC(n,{attrX:t,attrY:e,attrScale:a,pathLength:u,pathSpacing:h=1,pathOffset:p=0,...w},A,y,C){if(Vm(n,w,y),A){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:I}=n;T.transform&&(I.transform=T.transform,delete T.transform),(I.transform||T.transformOrigin)&&(I.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),I.transform&&(I.transformBox=C?.transformBox??"fill-box",delete T.transformBox);for(const D of OO)T[D]!==void 0&&(I[D]=T[D],delete T[D]);t!==void 0&&(T.x=t),e!==void 0&&(T.y=e),a!==void 0&&(T.scale=a),u!==void 0&&MO(T,u,h,p,!1)}const cC=()=>({...Hm(),attrs:{}}),uC=n=>typeof n=="string"&&n.toLowerCase()==="svg";function RO(n,t,e,a){const u=Nt.useMemo(()=>{const h=cC();return lC(h,t,uC(a),n.transformTemplate,n.style),{...h.attrs,style:{...h.style}}},[t]);if(n.style){const h={};oC(h,n.style,n),u.style={...h,...u.style}}return u}const DO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gm(n){return typeof n!="string"||n.includes("-")?!1:!!(DO.indexOf(n)>-1||/[A-Z]/u.test(n))}function BO(n,t,e,{latestValues:a},u,h=!1,p){const A=(p??Gm(n)?RO:vO)(t,a,u,n),y=yO(t,typeof n=="string",h),C=n!==Nt.Fragment?{...y,...A,ref:e}:{},{children:T}=t,I=Nt.useMemo(()=>Ai(T)?T.get():T,[T]);return Nt.createElement(n,{...C,children:I})}function sw(n){const t=[{},{}];return n?.values.forEach((e,a)=>{t[0][a]=e.get(),t[1][a]=e.getVelocity()}),t}function jm(n,t,e,a){if(typeof t=="function"){const[u,h]=sw(a);t=t(e!==void 0?e:n.custom,u,h)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[u,h]=sw(a);t=t(e!==void 0?e:n.custom,u,h)}return t}function Mh(n){return Ai(n)?n.get():n}function _O({scrapeMotionValuesFromProps:n,createRenderState:t},e,a,u){return{latestValues:LO(e,a,u,n),renderState:t()}}function LO(n,t,e,a){const u={},h=a(n,{});for(const I in h)u[I]=Mh(h[I]);let{initial:p,animate:w}=n;const A=h0(n),y=sC(n);t&&y&&!A&&n.inherit!==!1&&(p===void 0&&(p=t.initial),w===void 0&&(w=t.animate));let C=e?e.initial===!1:!1;C=C||p===!1;const T=C?w:p;if(T&&typeof T!="boolean"&&!f0(T)){const I=Array.isArray(T)?T:[T];for(let D=0;D<I.length;D++){const P=jm(n,I[D]);if(P){const{transitionEnd:L,transition:F,...G}=P;for(const q in G){let z=G[q];if(Array.isArray(z)){const lt=C?z.length-1:0;z=z[lt]}z!==null&&(u[q]=z)}for(const q in L)u[q]=L[q]}}}return u}const fC=n=>(t,e)=>{const a=Nt.useContext(u0),u=Nt.useContext(c0),h=()=>_O(n,t,a,u);return e?h():pm(h)};function Ym(n,t,e){const{style:a}=n,u={};for(const h in a)(Ai(a[h])||t.style&&Ai(t.style[h])||aC(h,n)||e?.getValue(h)?.liveStyle!==void 0)&&(u[h]=a[h]);return u}const PO=fC({scrapeMotionValuesFromProps:Ym,createRenderState:Hm});function hC(n,t,e){const a=Ym(n,t,e);for(const u in n)if(Ai(n[u])||Ai(t[u])){const h=ac.indexOf(u)!==-1?"attr"+u.charAt(0).toUpperCase()+u.substring(1):u;a[h]=n[u]}return a}const UO=fC({scrapeMotionValuesFromProps:hC,createRenderState:cC}),kO=Symbol.for("motionComponentSymbol");function FO(n,t,e){const a=Nt.useRef(e);Nt.useInsertionEffect(()=>{a.current=e});const u=Nt.useRef(null);return Nt.useCallback(h=>{h&&n.onMount?.(h),t&&(h?t.mount(h):t.unmount());const p=a.current;if(typeof p=="function")if(h){const w=p(h);typeof w=="function"&&(u.current=w)}else u.current?(u.current(),u.current=null):p(h);else p&&(p.current=h)},[t])}const Xm=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zO="framerAppearId",dC="data-"+Xm(zO),gC=Nt.createContext({});function fu(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function VO(n,t,e,a,u,h){const{visualElement:p}=Nt.useContext(u0),w=Nt.useContext(iC),A=Nt.useContext(c0),y=Nt.useContext(km).reducedMotion,C=Nt.useRef(null);a=a||w.renderer,!C.current&&a&&(C.current=a(n,{visualState:t,parent:p,props:e,presenceContext:A,blockInitialAnimation:A?A.initial===!1:!1,reducedMotionConfig:y,isSVG:h}));const T=C.current,I=Nt.useContext(gC);T&&!T.projection&&u&&(T.type==="html"||T.type==="svg")&&HO(C.current,e,u,I);const D=Nt.useRef(!1);Nt.useInsertionEffect(()=>{T&&D.current&&T.update(e,A)});const P=e[dC],L=Nt.useRef(!!P&&!window.MotionHandoffIsComplete?.(P)&&window.MotionHasOptimisedAnimation?.(P));return c3(()=>{T&&(D.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),T.scheduleRenderMicrotask(),L.current&&T.animationState&&T.animationState.animateChanges())}),Nt.useEffect(()=>{T&&(!L.current&&T.animationState&&T.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(P)}),L.current=!1),T.enteringChildren=void 0)}),T}function HO(n,t,e,a){const{layoutId:u,layout:h,drag:p,dragConstraints:w,layoutScroll:A,layoutRoot:y,layoutCrossfade:C}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:mC(n.parent)),n.projection.setOptions({layoutId:u,layout:h,alwaysMeasureLayout:!!p||w&&fu(w),visualElement:n,animationType:typeof h=="string"?h:"both",initialPromotionConfig:a,crossfade:C,layoutScroll:A,layoutRoot:y})}function mC(n){if(n)return n.options.allowProjection!==!1?n.projection:mC(n.parent)}function z1(n,{forwardMotionProps:t=!1,type:e}={},a,u){a&&gO(a);const h=e?e==="svg":Gm(n),p=h?UO:PO;function w(y,C){let T;const I={...Nt.useContext(km),...y,layoutId:GO(y)},{isStatic:D}=I,P=AO(y),L=p(y,D);if(!D&&ym){jO();const F=YO(I);T=F.MeasureLayout,P.visualElement=VO(n,L,I,u,F.ProjectionNode,h)}return J.jsxs(u0.Provider,{value:P,children:[T&&P.visualElement?J.jsx(T,{visualElement:P.visualElement,...I}):null,BO(n,y,FO(L,P.visualElement,C),L,D,t,h)]})}w.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const A=Nt.forwardRef(w);return A[kO]=n,A}function GO({layoutId:n}){const t=Nt.useContext(mm).id;return t&&n!==void 0?t+"-"+n:n}function jO(n,t){Nt.useContext(iC).strict}function YO(n){const{drag:t,layout:e}=nc;if(!t&&!e)return{};const a={...t,...e};return{MeasureLayout:t?.isEnabled(n)||e?.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function XO(n,t){if(typeof Proxy>"u")return z1;const e=new Map,a=(h,p)=>z1(h,p,n,t),u=(h,p)=>a(h,p);return new Proxy(u,{get:(h,p)=>p==="create"?a:(e.has(p)||e.set(p,z1(p,void 0,n,t)),e.get(p))})}function pC({top:n,left:t,right:e,bottom:a}){return{x:{min:t,max:e},y:{min:n,max:a}}}function QO({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function ZO(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),a=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:a.y,right:a.x}}function V1(n){return n===void 0||n===1}function Pg({scale:n,scaleX:t,scaleY:e}){return!V1(n)||!V1(t)||!V1(e)}function Io(n){return Pg(n)||yC(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function yC(n){return aw(n.x)||aw(n.y)}function aw(n){return n&&n!=="0%"}function Qh(n,t,e){const a=n-e,u=t*a;return e+u}function ow(n,t,e,a,u){return u!==void 0&&(n=Qh(n,u,a)),Qh(n,e,a)+t}function Ug(n,t=0,e=1,a,u){n.min=ow(n.min,t,e,a,u),n.max=ow(n.max,t,e,a,u)}function xC(n,{x:t,y:e}){Ug(n.x,t.translate,t.scale,t.originPoint),Ug(n.y,e.translate,e.scale,e.originPoint)}const lw=.999999999999,cw=1.0000000000001;function KO(n,t,e,a=!1){const u=e.length;if(!u)return;t.x=t.y=1;let h,p;for(let w=0;w<u;w++){h=e[w],p=h.projectionDelta;const{visualElement:A}=h.options;A&&A.props.style&&A.props.style.display==="contents"||(a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&zl(n,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),p&&(t.x*=p.x.scale,t.y*=p.y.scale,xC(n,p)),a&&Io(h.latestValues)&&zl(n,h.latestValues))}t.x<cw&&t.x>lw&&(t.x=1),t.y<cw&&t.y>lw&&(t.y=1)}function Fl(n,t){n.min=n.min+t,n.max=n.max+t}function uw(n,t,e,a,u=.5){const h=xn(n.min,n.max,u);Ug(n,t,e,h,a)}function zl(n,t){uw(n.x,t.x,t.scaleX,t.scale,t.originX),uw(n.y,t.y,t.scaleY,t.scale,t.originY)}function AC(n,t){return pC(ZO(n.getBoundingClientRect(),t))}function WO(n,t,e){const a=AC(n,e),{scroll:u}=t;return u&&(Fl(a.x,u.offset.x),Fl(a.y,u.offset.y)),a}const fw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vl=()=>({x:fw(),y:fw()}),hw=()=>({min:0,max:0}),ti=()=>({x:hw(),y:hw()}),kg={current:null},wC={current:!1};function qO(){if(wC.current=!0,!!ym)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>kg.current=n.matches;n.addEventListener("change",t),t()}else kg.current=!1}const JO=new WeakMap;function $O(n,t,e){for(const a in t){const u=t[a],h=e[a];if(Ai(u))n.addValue(a,u);else if(Ai(h))n.addValue(a,ec(u,{owner:n}));else if(h!==u)if(n.hasValue(a)){const p=n.getValue(a);p.liveStyle===!0?p.jump(u):p.hasAnimated||p.set(u)}else{const p=n.getStaticValue(a);n.addValue(a,ec(p!==void 0?p:u,{owner:n}))}}for(const a in e)t[a]===void 0&&n.removeValue(a);return t}const dw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class tR{scrapeMotionValuesFromProps(t,e,a){return{}}constructor({parent:t,props:e,presenceContext:a,reducedMotionConfig:u,blockInitialAnimation:h,visualState:p},w={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Bm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const I=Di.now();this.renderScheduledAt<I&&(this.renderScheduledAt=I,cn.render(this.render,!1,!0))};const{latestValues:A,renderState:y}=p;this.latestValues=A,this.baseTarget={...A},this.initialValues=e.initial?{...A}:{},this.renderState=y,this.parent=t,this.props=e,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=u,this.options=w,this.blockInitialAnimation=!!h,this.isControllingVariants=h0(e),this.isVariantNode=sC(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:C,...T}=this.scrapeMotionValuesFromProps(e,{},this);for(const I in T){const D=T[I];A[I]!==void 0&&Ai(D)&&D.set(A[I])}}mount(t){this.current=t,JO.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,a)=>this.bindToMotionValue(a,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(wC.current||qO(),this.shouldReduceMotion=kg.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Qa(this.notifyUpdate),Qa(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=oc.has(t);a&&this.onBindTransform&&this.onBindTransform();const u=e.on("change",p=>{this.latestValues[t]=p,this.props.onUpdate&&cn.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let h;window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{u(),h&&h(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in nc){const e=nc[t];if(!e)continue;const{isEnabled:a,Feature:u}=e;if(!this.features[t]&&u&&a(this.props)&&(this.features[t]=new u(this)),this.features[t]){const h=this.features[t];h.isMounted?h.update():(h.mount(),h.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ti()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let a=0;a<dw.length;a++){const u=dw[a];this.propEventSubscriptions[u]&&(this.propEventSubscriptions[u](),delete this.propEventSubscriptions[u]);const h="on"+u,p=t[h];p&&(this.propEventSubscriptions[u]=this.on(u,p))}this.prevMotionValues=$O(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const a=this.values.get(t);e!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&e!==void 0&&(a=ec(e===null?void 0:e,{owner:this}),this.addValue(t,a)),a}readValue(t,e){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(u3(a)||h3(a))?a=parseFloat(a):!oO(a)&&Za.test(e)&&(a=Z3(t,e)),this.setBaseTarget(t,Ai(a)?a.get():a)),Ai(a)?a.get():a}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let a;if(typeof e=="string"||typeof e=="object"){const h=jm(this.props,e,this.presenceContext?.custom);h&&(a=h[t])}if(e&&a!==void 0)return a;const u=this.getBaseTargetFromProps(this.props,t);return u!==void 0&&!Ai(u)?u:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Em),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Pm.render(this.render)}}class bC extends tR{constructor(){super(...arguments),this.KeyframeResolver=WM}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:a}){delete e[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ai(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function EC(n,{style:t,vars:e},a,u){const h=n.style;let p;for(p in t)h[p]=t[p];u?.applyProjectionStyles(h,a);for(p in e)h.setProperty(p,e[p])}function eR(n){return window.getComputedStyle(n)}class nR extends bC{constructor(){super(...arguments),this.type="html",this.renderInstance=EC}readValueFromInstance(t,e){if(oc.has(e))return this.projection?.isProjecting?Ig(e):mM(t,e);{const a=eR(t),u=(v3(e)?a.getPropertyValue(e):a[e])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(t,{transformPagePoint:e}){return AC(t,e)}build(t,e,a){Vm(t,e,a.transformTemplate)}scrapeMotionValuesFromProps(t,e,a){return Ym(t,e,a)}}const CC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iR(n,t,e,a){EC(n,t,void 0,a);for(const u in t.attrs)n.setAttribute(CC.has(u)?u:Xm(u),t.attrs[u])}class rR extends bC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ti}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(oc.has(e)){const a=Q3(e);return a&&a.default||0}return e=CC.has(e)?e:Xm(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,a){return hC(t,e,a)}build(t,e,a){lC(t,e,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,e,a,u){iR(t,e,a,u)}mount(t){this.isSVGTag=uC(t.tagName),super.mount(t)}}const sR=(n,t)=>t.isSVG??Gm(n)?new rR(t):new nR(t,{allowProjection:n!==Nt.Fragment});function Xl(n,t,e){const a=n.getProps();return jm(a,t,e!==void 0?e:a.custom,n)}const Fg=n=>Array.isArray(n);function aR(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,ec(e))}function oR(n){return Fg(n)?n[n.length-1]||0:n}function lR(n,t){const e=Xl(n,t);let{transitionEnd:a={},transition:u={},...h}=e||{};h={...h,...a};for(const p in h){const w=oR(h[p]);aR(n,p,w)}}function cR(n){return!!(Ai(n)&&n.add)}function zg(n,t){const e=n.getValue("willChange");if(cR(e))return e.add(t);if(!e&&Ks.WillChange){const a=new Ks.WillChange("auto");n.addValue("willChange",a),a.add(t)}}function SC(n){return n.props[dC]}const uR=n=>n!==null;function fR(n,{repeat:t,repeatType:e="loop"},a){const u=n.filter(uR),h=t&&e!=="loop"&&t%2===1?0:u.length-1;return u[h]}const hR={type:"spring",stiffness:500,damping:25,restSpeed:10},dR=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),gR={type:"keyframes",duration:.8},mR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pR=(n,{keyframes:t})=>t.length>2?gR:oc.has(n)?n.startsWith("scale")?dR(t[1]):hR:mR;function yR({when:n,delay:t,delayChildren:e,staggerChildren:a,staggerDirection:u,repeat:h,repeatType:p,repeatDelay:w,from:A,elapsed:y,...C}){return!!Object.keys(C).length}const Qm=(n,t,e,a={},u,h)=>p=>{const w=_m(a,n)||{},A=w.delay||a.delay||0;let{elapsed:y=0}=a;y=y-Ys(A);const C={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...w,delay:-y,onUpdate:I=>{t.set(I),w.onUpdate&&w.onUpdate(I)},onComplete:()=>{p(),w.onComplete&&w.onComplete()},name:n,motionValue:t,element:h?void 0:u};yR(w)||Object.assign(C,pR(n,C)),C.duration&&(C.duration=Ys(C.duration)),C.repeatDelay&&(C.repeatDelay=Ys(C.repeatDelay)),C.from!==void 0&&(C.keyframes[0]=C.from);let T=!1;if((C.type===!1||C.duration===0&&!C.repeatDelay)&&(Bg(C),C.delay===0&&(T=!0)),(Ks.instantAnimations||Ks.skipAnimations)&&(T=!0,Bg(C),C.delay=0),C.allowFlatten=!w.type&&!w.ease,T&&!h&&t.get()!==void 0){const I=fR(C.keyframes,w);if(I!==void 0){cn.update(()=>{C.onUpdate(I),C.onComplete()});return}}return w.isSync?new Dm(C):new kM(C)};function xR({protectedKeys:n,needsAnimating:t},e){const a=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,a}function TC(n,t,{delay:e=0,transitionOverride:a,type:u}={}){let{transition:h=n.getDefaultTransition(),transitionEnd:p,...w}=t;a&&(h=a);const A=[],y=u&&n.animationState&&n.animationState.getState()[u];for(const C in w){const T=n.getValue(C,n.latestValues[C]??null),I=w[C];if(I===void 0||y&&xR(y,C))continue;const D={delay:e,..._m(h||{},C)},P=T.get();if(P!==void 0&&!T.isAnimating&&!Array.isArray(I)&&I===P&&!D.velocity)continue;let L=!1;if(window.MotionHandoffAnimation){const G=SC(n);if(G){const q=window.MotionHandoffAnimation(G,C,cn);q!==null&&(D.startTime=q,L=!0)}}zg(n,C),T.start(Qm(C,T,I,n.shouldReduceMotion&&j3.has(C)?{type:!1}:D,n,L));const F=T.animation;F&&A.push(F)}return p&&Promise.all(A).then(()=>{cn.update(()=>{p&&lR(n,p)})}),A}function vC(n,t,e,a=0,u=1){const h=Array.from(n).sort((y,C)=>y.sortNodePosition(C)).indexOf(t),p=n.size,w=(p-1)*a;return typeof e=="function"?e(h,p):u===1?h*a:w-h*a}function Vg(n,t,e={}){const a=Xl(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:u=n.getDefaultTransition()||{}}=a||{};e.transitionOverride&&(u=e.transitionOverride);const h=a?()=>Promise.all(TC(n,a,e)):()=>Promise.resolve(),p=n.variantChildren&&n.variantChildren.size?(A=0)=>{const{delayChildren:y=0,staggerChildren:C,staggerDirection:T}=u;return AR(n,t,A,y,C,T,e)}:()=>Promise.resolve(),{when:w}=u;if(w){const[A,y]=w==="beforeChildren"?[h,p]:[p,h];return A().then(()=>y())}else return Promise.all([h(),p(e.delay)])}function AR(n,t,e=0,a=0,u=0,h=1,p){const w=[];for(const A of n.variantChildren)A.notify("AnimationStart",t),w.push(Vg(A,t,{...p,delay:e+(typeof a=="function"?0:a)+vC(n.variantChildren,A,a,u,h)}).then(()=>A.notify("AnimationComplete",t)));return Promise.all(w)}function wR(n,t,e={}){n.notify("AnimationStart",t);let a;if(Array.isArray(t)){const u=t.map(h=>Vg(n,h,e));a=Promise.all(u)}else if(typeof t=="string")a=Vg(n,t,e);else{const u=typeof t=="function"?Xl(n,t,e.custom):t;a=Promise.all(TC(n,u,e))}return a.then(()=>{n.notify("AnimationComplete",t)})}function NC(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let a=0;a<e;a++)if(t[a]!==n[a])return!1;return!0}const bR=zm.length;function IC(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?IC(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<bR;e++){const a=zm[e],u=n.props[a];(Ou(u)||u===!1)&&(t[a]=u)}return t}const ER=[...Fm].reverse(),CR=Fm.length;function SR(n){return t=>Promise.all(t.map(({animation:e,options:a})=>wR(n,e,a)))}function TR(n){let t=SR(n),e=gw(),a=!0;const u=A=>(y,C)=>{const T=Xl(n,C,A==="exit"?n.presenceContext?.custom:void 0);if(T){const{transition:I,transitionEnd:D,...P}=T;y={...y,...P,...D}}return y};function h(A){t=A(n)}function p(A){const{props:y}=n,C=IC(n.parent)||{},T=[],I=new Set;let D={},P=1/0;for(let F=0;F<CR;F++){const G=ER[F],q=e[G],z=y[G]!==void 0?y[G]:C[G],lt=Ou(z),gt=G===A?q.isActive:null;gt===!1&&(P=F);let dt=z===C[G]&&z!==y[G]&&lt;if(dt&&a&&n.manuallyAnimateOnMount&&(dt=!1),q.protectedKeys={...D},!q.isActive&&gt===null||!z&&!q.prevProp||f0(z)||typeof z=="boolean")continue;const K=vR(q.prevProp,z);let it=K||G===A&&q.isActive&&!dt&&lt||F>P&&lt,at=!1;const _t=Array.isArray(z)?z:[z];let Ot=_t.reduce(u(G),{});gt===!1&&(Ot={});const{prevResolvedValues:Mt={}}=q,jt={...Mt,...Ot},qt=tt=>{it=!0,I.has(tt)&&(at=!0,I.delete(tt)),q.needsAnimating[tt]=!0;const Et=n.getValue(tt);Et&&(Et.liveStyle=!1)};for(const tt in jt){const Et=Ot[tt],Rt=Mt[tt];if(D.hasOwnProperty(tt))continue;let kt=!1;Fg(Et)&&Fg(Rt)?kt=!NC(Et,Rt):kt=Et!==Rt,kt?Et!=null?qt(tt):I.add(tt):Et!==void 0&&I.has(tt)?qt(tt):q.protectedKeys[tt]=!0}q.prevProp=z,q.prevResolvedValues=Ot,q.isActive&&(D={...D,...Ot}),a&&n.blockInitialAnimation&&(it=!1);const H=dt&&K;it&&(!H||at)&&T.push(..._t.map(tt=>{const Et={type:G};if(typeof tt=="string"&&a&&!H&&n.manuallyAnimateOnMount&&n.parent){const{parent:Rt}=n,kt=Xl(Rt,tt);if(Rt.enteringChildren&&kt){const{delayChildren:Y}=kt.transition||{};Et.delay=vC(Rt.enteringChildren,n,Y)}}return{animation:tt,options:Et}}))}if(I.size){const F={};if(typeof y.initial!="boolean"){const G=Xl(n,Array.isArray(y.initial)?y.initial[0]:y.initial);G&&G.transition&&(F.transition=G.transition)}I.forEach(G=>{const q=n.getBaseTarget(G),z=n.getValue(G);z&&(z.liveStyle=!0),F[G]=q??null}),T.push({animation:F})}let L=!!T.length;return a&&(y.initial===!1||y.initial===y.animate)&&!n.manuallyAnimateOnMount&&(L=!1),a=!1,L?t(T):Promise.resolve()}function w(A,y){if(e[A].isActive===y)return Promise.resolve();n.variantChildren?.forEach(T=>T.animationState?.setActive(A,y)),e[A].isActive=y;const C=p(A);for(const T in e)e[T].protectedKeys={};return C}return{animateChanges:p,setActive:w,setAnimateFunction:h,getState:()=>e,reset:()=>{e=gw()}}}function vR(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!NC(t,n):!1}function vo(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gw(){return{animate:vo(!0),whileInView:vo(),whileHover:vo(),whileTap:vo(),whileDrag:vo(),whileFocus:vo(),exit:vo()}}class qa{constructor(t){this.isMounted=!1,this.node=t}update(){}}class NR extends qa{constructor(t){super(t),t.animationState||(t.animationState=TR(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();f0(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let IR=0;class MR extends qa{constructor(){super(...arguments),this.id=IR++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const u=this.node.animationState.setActive("exit",!t);e&&!t&&u.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const OR={animation:{Feature:NR},exit:{Feature:MR}};function Ru(n,t,e,a={passive:!0}){return n.addEventListener(t,e,a),()=>n.removeEventListener(t,e)}function Hu(n){return{point:{x:n.pageX,y:n.pageY}}}const RR=n=>t=>Um(t)&&n(t,Hu(t));function yu(n,t,e,a){return Ru(n,t,RR(e),a)}const MC=1e-4,DR=1-MC,BR=1+MC,OC=.01,_R=0-OC,LR=0+OC;function Bi(n){return n.max-n.min}function PR(n,t,e){return Math.abs(n-t)<=e}function mw(n,t,e,a=.5){n.origin=a,n.originPoint=xn(t.min,t.max,n.origin),n.scale=Bi(e)/Bi(t),n.translate=xn(e.min,e.max,n.origin)-n.originPoint,(n.scale>=DR&&n.scale<=BR||isNaN(n.scale))&&(n.scale=1),(n.translate>=_R&&n.translate<=LR||isNaN(n.translate))&&(n.translate=0)}function xu(n,t,e,a){mw(n.x,t.x,e.x,a?a.originX:void 0),mw(n.y,t.y,e.y,a?a.originY:void 0)}function pw(n,t,e){n.min=e.min+t.min,n.max=n.min+Bi(t)}function UR(n,t,e){pw(n.x,t.x,e.x),pw(n.y,t.y,e.y)}function yw(n,t,e){n.min=t.min-e.min,n.max=n.min+Bi(t)}function Zh(n,t,e){yw(n.x,t.x,e.x),yw(n.y,t.y,e.y)}function Nr(n){return[n("x"),n("y")]}const RC=({current:n})=>n?n.ownerDocument.defaultView:null,xw=(n,t)=>Math.abs(n-t);function kR(n,t){const e=xw(n.x,t.x),a=xw(n.y,t.y);return Math.sqrt(e**2+a**2)}const Aw=new Set(["auto","scroll"]);class DC{constructor(t,e,{transformPagePoint:a,contextWindow:u=window,dragSnapToOrigin:h=!1,distanceThreshold:p=3,element:w}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=D=>{this.handleScroll(D.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=G1(this.lastMoveEventInfo,this.history),P=this.startEvent!==null,L=kR(D.offset,{x:0,y:0})>=this.distanceThreshold;if(!P&&!L)return;const{point:F}=D,{timestamp:G}=mi;this.history.push({...F,timestamp:G});const{onStart:q,onMove:z}=this.handlers;P||(q&&q(this.lastMoveEvent,D),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,D)},this.handlePointerMove=(D,P)=>{this.lastMoveEvent=D,this.lastMoveEventInfo=H1(P,this.transformPagePoint),cn.update(this.updatePoint,!0)},this.handlePointerUp=(D,P)=>{this.end();const{onEnd:L,onSessionEnd:F,resumeAnimation:G}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&G&&G(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const q=G1(D.type==="pointercancel"?this.lastMoveEventInfo:H1(P,this.transformPagePoint),this.history);this.startEvent&&L&&L(D,q),F&&F(D,q)},!Um(t))return;this.dragSnapToOrigin=h,this.handlers=e,this.transformPagePoint=a,this.distanceThreshold=p,this.contextWindow=u||window;const A=Hu(t),y=H1(A,this.transformPagePoint),{point:C}=y,{timestamp:T}=mi;this.history=[{...C,timestamp:T}];const{onSessionStart:I}=e;I&&I(t,G1(y,this.history)),this.removeListeners=Fu(yu(this.contextWindow,"pointermove",this.handlePointerMove),yu(this.contextWindow,"pointerup",this.handlePointerUp),yu(this.contextWindow,"pointercancel",this.handlePointerUp)),w&&this.startScrollTracking(w)}startScrollTracking(t){let e=t.parentElement;for(;e;){const a=getComputedStyle(e);(Aw.has(a.overflowX)||Aw.has(a.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const a=t===window,u=a?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},h={x:u.x-e.x,y:u.y-e.y};h.x===0&&h.y===0||(a?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=h.x,this.lastMoveEventInfo.point.y+=h.y):this.history.length>0&&(this.history[0].x-=h.x,this.history[0].y-=h.y),this.scrollPositions.set(t,u),cn.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Qa(this.updatePoint)}}function H1(n,t){return t?{point:t(n.point)}:n}function ww(n,t){return{x:n.x-t.x,y:n.y-t.y}}function G1({point:n},t){return{point:n,delta:ww(n,BC(t)),offset:ww(n,FR(t)),velocity:zR(t,.1)}}function FR(n){return n[0]}function BC(n){return n[n.length-1]}function zR(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,a=null;const u=BC(n);for(;e>=0&&(a=n[e],!(u.timestamp-a.timestamp>Ys(t)));)e--;if(!a)return{x:0,y:0};const h=Mr(u.timestamp-a.timestamp);if(h===0)return{x:0,y:0};const p={x:(u.x-a.x)/h,y:(u.y-a.y)/h};return p.x===1/0&&(p.x=0),p.y===1/0&&(p.y=0),p}function VR(n,{min:t,max:e},a){return t!==void 0&&n<t?n=a?xn(t,n,a.min):Math.max(n,t):e!==void 0&&n>e&&(n=a?xn(e,n,a.max):Math.min(n,e)),n}function bw(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function HR(n,{top:t,left:e,bottom:a,right:u}){return{x:bw(n.x,e,u),y:bw(n.y,t,a)}}function Ew(n,t){let e=t.min-n.min,a=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,a]=[a,e]),{min:e,max:a}}function GR(n,t){return{x:Ew(n.x,t.x),y:Ew(n.y,t.y)}}function jR(n,t){let e=.5;const a=Bi(n),u=Bi(t);return u>a?e=Nu(t.min,t.max-a,n.min):a>u&&(e=Nu(n.min,n.max-u,t.min)),hs(0,1,e)}function YR(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const Hg=.35;function XR(n=Hg){return n===!1?n=0:n===!0&&(n=Hg),{x:Cw(n,"left","right"),y:Cw(n,"top","bottom")}}function Cw(n,t,e){return{min:Sw(n,t),max:Sw(n,e)}}function Sw(n,t){return typeof n=="number"?n:n[t]||0}const QR=new WeakMap;class ZR{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ti(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:a}={}){const{presenceContext:u}=this.visualElement;if(u&&u.isPresent===!1)return;const h=T=>{e?(this.stopAnimation(),this.snapToCursor(Hu(T).point)):this.pauseAnimation()},p=(T,I)=>{this.stopAnimation();const{drag:D,dragPropagation:P,onDragStart:L}=this.getProps();if(D&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tO(D),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=I,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nr(G=>{let q=this.getAxisMotionValue(G).get()||0;if(fs.test(q)){const{projection:z}=this.visualElement;if(z&&z.layout){const lt=z.layout.layoutBox[G];lt&&(q=Bi(lt)*(parseFloat(q)/100))}}this.originPoint[G]=q}),L&&cn.postRender(()=>L(T,I)),zg(this.visualElement,"transform");const{animationState:F}=this.visualElement;F&&F.setActive("whileDrag",!0)},w=(T,I)=>{this.latestPointerEvent=T,this.latestPanInfo=I;const{dragPropagation:D,dragDirectionLock:P,onDirectionLock:L,onDrag:F}=this.getProps();if(!D&&!this.openDragLock)return;const{offset:G}=I;if(P&&this.currentDirection===null){this.currentDirection=KR(G),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",I.point,G),this.updateAxis("y",I.point,G),this.visualElement.render(),F&&F(T,I)},A=(T,I)=>{this.latestPointerEvent=T,this.latestPanInfo=I,this.stop(T,I),this.latestPointerEvent=null,this.latestPanInfo=null},y=()=>Nr(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:C}=this.getProps();this.panSession=new DC(t,{onSessionStart:h,onStart:p,onMove:w,onSessionEnd:A,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:C,distanceThreshold:a,contextWindow:RC(this.visualElement),element:this.visualElement.current})}stop(t,e){const a=t||this.latestPointerEvent,u=e||this.latestPanInfo,h=this.isDragging;if(this.cancel(),!h||!u||!a)return;const{velocity:p}=u;this.startAnimation(p);const{onDragEnd:w}=this.getProps();w&&cn.postRender(()=>w(a,u))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,a){const{drag:u}=this.getProps();if(!a||!bh(t,u,this.currentDirection))return;const h=this.getAxisMotionValue(t);let p=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(p=VR(p,this.constraints[t],this.elastic[t])),h.set(p)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,u=this.constraints;t&&fu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=HR(a.layoutBox,t):this.constraints=!1,this.elastic=XR(e),u!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Nr(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=YR(a.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!fu(t))return!1;const a=t.current,{projection:u}=this.visualElement;if(!u||!u.layout)return!1;const h=WO(a,u.root,this.visualElement.getTransformPagePoint());let p=GR(u.layout.layoutBox,h);if(e){const w=e(QO(p));this.hasMutatedConstraints=!!w,w&&(p=pC(w))}return p}startAnimation(t){const{drag:e,dragMomentum:a,dragElastic:u,dragTransition:h,dragSnapToOrigin:p,onDragTransitionEnd:w}=this.getProps(),A=this.constraints||{},y=Nr(C=>{if(!bh(C,e,this.currentDirection))return;let T=A&&A[C]||{};p&&(T={min:0,max:0});const I=u?200:1e6,D=u?40:1e7,P={type:"inertia",velocity:a?t[C]:0,bounceStiffness:I,bounceDamping:D,timeConstant:750,restDelta:1,restSpeed:10,...h,...T};return this.startAxisValueAnimation(C,P)});return Promise.all(y).then(w)}startAxisValueAnimation(t,e){const a=this.getAxisMotionValue(t);return zg(this.visualElement,t),a.start(Qm(t,a,0,e,this.visualElement,!1))}stopAnimation(){Nr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Nr(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),u=a[e];return u||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){Nr(e=>{const{drag:a}=this.getProps();if(!bh(e,a,this.currentDirection))return;const{projection:u}=this.visualElement,h=this.getAxisMotionValue(e);if(u&&u.layout){const{min:p,max:w}=u.layout.layoutBox[e],A=h.get()||0;h.set(t[e]-xn(p,w,.5)+A)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:a}=this.visualElement;if(!fu(e)||!a||!this.constraints)return;this.stopAnimation();const u={x:0,y:0};Nr(p=>{const w=this.getAxisMotionValue(p);if(w&&this.constraints!==!1){const A=w.get();u[p]=jR({min:A,max:A},this.constraints[p])}});const{transformTemplate:h}=this.visualElement.getProps();this.visualElement.current.style.transform=h?h({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Nr(p=>{if(!bh(p,t,null))return;const w=this.getAxisMotionValue(p),{min:A,max:y}=this.constraints[p];w.set(xn(A,y,u[p]))})}addListeners(){if(!this.visualElement.current)return;QR.set(this.visualElement,this);const t=this.visualElement.current,e=yu(t,"pointerdown",A=>{const{drag:y,dragListener:C=!0}=this.getProps();y&&C&&!tC(A.target)&&this.start(A)}),a=()=>{const{dragConstraints:A}=this.getProps();fu(A)&&A.current&&(this.constraints=this.resolveRefConstraints())},{projection:u}=this.visualElement,h=u.addEventListener("measure",a);u&&!u.layout&&(u.root&&u.root.updateScroll(),u.updateLayout()),cn.read(a);const p=Ru(window,"resize",()=>this.scalePositionWithinConstraints()),w=u.addEventListener("didUpdate",(({delta:A,hasLayoutChanged:y})=>{this.isDragging&&y&&(Nr(C=>{const T=this.getAxisMotionValue(C);T&&(this.originPoint[C]+=A[C].translate,T.set(T.get()+A[C].translate))}),this.visualElement.render())}));return()=>{p(),e(),h(),w&&w()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:a=!1,dragPropagation:u=!1,dragConstraints:h=!1,dragElastic:p=Hg,dragMomentum:w=!0}=t;return{...t,drag:e,dragDirectionLock:a,dragPropagation:u,dragConstraints:h,dragElastic:p,dragMomentum:w}}}function bh(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function KR(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class WR extends qa{constructor(t){super(t),this.removeGroupControls=Or,this.removeListeners=Or,this.controls=new ZR(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Or}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const Tw=n=>(t,e)=>{n&&cn.postRender(()=>n(t,e))};class qR extends qa{constructor(){super(...arguments),this.removePointerDownListener=Or}onPointerDown(t){this.session=new DC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:RC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:a,onPanEnd:u}=this.node.getProps();return{onSessionStart:Tw(t),onStart:Tw(e),onMove:a,onEnd:(h,p)=>{delete this.session,u&&cn.postRender(()=>u(h,p))}}}mount(){this.removePointerDownListener=yu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Oh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let j1=!1;class JR extends Nt.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:a,layoutId:u}=this.props,{projection:h}=t;h&&(e.group&&e.group.add(h),a&&a.register&&u&&a.register(h),j1&&h.root.didUpdate(),h.addEventListener("animationComplete",()=>{this.safeToRemove()}),h.setOptions({...h.options,onExitComplete:()=>this.safeToRemove()})),Oh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:a,drag:u,isPresent:h}=this.props,{projection:p}=a;return p&&(p.isPresent=h,j1=!0,u||t.layoutDependency!==e||e===void 0||t.isPresent!==h?p.willUpdate():this.safeToRemove(),t.isPresent!==h&&(h?p.promote():p.relegate()||cn.postRender(()=>{const w=p.getStack();(!w||!w.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Pm.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:a}=this.props,{projection:u}=t;j1=!0,u&&(u.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(u),a&&a.deregister&&a.deregister(u))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function _C(n){const[t,e]=nC(),a=Nt.useContext(mm);return J.jsx(JR,{...n,layoutGroup:a,switchLayoutGroup:Nt.useContext(gC),isPresent:t,safeToRemove:e})}function $R(n,t,e){const a=Ai(n)?n:ec(n);return a.start(Qm("",a,t,e)),a.animation}const t5=(n,t)=>n.depth-t.depth;class e5{constructor(){this.children=[],this.isDirty=!1}add(t){xm(this.children,t),this.isDirty=!0}remove(t){Am(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(t5),this.isDirty=!1,this.children.forEach(t)}}function n5(n,t){const e=Di.now(),a=({timestamp:u})=>{const h=u-e;h>=t&&(Qa(a),n(h-t))};return cn.setup(a,!0),()=>Qa(a)}const LC=["TopLeft","TopRight","BottomLeft","BottomRight"],i5=LC.length,vw=n=>typeof n=="string"?parseFloat(n):n,Nw=n=>typeof n=="number"||Lt.test(n);function r5(n,t,e,a,u,h){u?(n.opacity=xn(0,e.opacity??1,s5(a)),n.opacityExit=xn(t.opacity??1,0,a5(a))):h&&(n.opacity=xn(t.opacity??1,e.opacity??1,a));for(let p=0;p<i5;p++){const w=`border${LC[p]}Radius`;let A=Iw(t,w),y=Iw(e,w);if(A===void 0&&y===void 0)continue;A||(A=0),y||(y=0),A===0||y===0||Nw(A)===Nw(y)?(n[w]=Math.max(xn(vw(A),vw(y),a),0),(fs.test(y)||fs.test(A))&&(n[w]+="%")):n[w]=y}(t.rotate||e.rotate)&&(n.rotate=xn(t.rotate||0,e.rotate||0,a))}function Iw(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const s5=PC(0,.5,w3),a5=PC(.5,.95,Or);function PC(n,t,e){return a=>a<n?0:a>t?1:e(Nu(n,t,a))}function Mw(n,t){n.min=t.min,n.max=t.max}function Vr(n,t){Mw(n.x,t.x),Mw(n.y,t.y)}function Ow(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function Rw(n,t,e,a,u){return n-=t,n=Qh(n,1/e,a),u!==void 0&&(n=Qh(n,1/u,a)),n}function o5(n,t=0,e=1,a=.5,u,h=n,p=n){if(fs.test(t)&&(t=parseFloat(t),t=xn(p.min,p.max,t/100)-p.min),typeof t!="number")return;let w=xn(h.min,h.max,a);n===h&&(w-=t),n.min=Rw(n.min,t,e,w,u),n.max=Rw(n.max,t,e,w,u)}function Dw(n,t,[e,a,u],h,p){o5(n,t[e],t[a],t[u],t.scale,h,p)}const l5=["x","scaleX","originX"],c5=["y","scaleY","originY"];function Bw(n,t,e,a){Dw(n.x,t,l5,e?e.x:void 0,a?a.x:void 0),Dw(n.y,t,c5,e?e.y:void 0,a?a.y:void 0)}function _w(n){return n.translate===0&&n.scale===1}function UC(n){return _w(n.x)&&_w(n.y)}function Lw(n,t){return n.min===t.min&&n.max===t.max}function u5(n,t){return Lw(n.x,t.x)&&Lw(n.y,t.y)}function Pw(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function kC(n,t){return Pw(n.x,t.x)&&Pw(n.y,t.y)}function Uw(n){return Bi(n.x)/Bi(n.y)}function kw(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class f5{constructor(){this.members=[]}add(t){xm(this.members,t),t.scheduleRender()}remove(t){if(Am(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(u=>t===u);if(e===0)return!1;let a;for(let u=e;u>=0;u--){const h=this.members[u];if(h.isPresent!==!1){a=h;break}}return a?(this.promote(a),!0):!1}promote(t,e){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,e&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:u}=t.options;u===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:a}=t;e.onExitComplete&&e.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function h5(n,t,e){let a="";const u=n.x.translate/t.x,h=n.y.translate/t.y,p=e?.z||0;if((u||h||p)&&(a=`translate3d(${u}px, ${h}px, ${p}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:y,rotate:C,rotateX:T,rotateY:I,skewX:D,skewY:P}=e;y&&(a=`perspective(${y}px) ${a}`),C&&(a+=`rotate(${C}deg) `),T&&(a+=`rotateX(${T}deg) `),I&&(a+=`rotateY(${I}deg) `),D&&(a+=`skewX(${D}deg) `),P&&(a+=`skewY(${P}deg) `)}const w=n.x.scale*t.x,A=n.y.scale*t.y;return(w!==1||A!==1)&&(a+=`scale(${w}, ${A})`),a||"none"}const Y1=["","X","Y","Z"],d5=1e3;let g5=0;function X1(n,t,e,a){const{latestValues:u}=t;u[n]&&(e[n]=u[n],t.setStaticValue(n,0),a&&(a[n]=0))}function FC(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=SC(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:u,layoutId:h}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",cn,!(u||h))}const{parent:a}=n;a&&!a.hasCheckedOptimisedAppear&&FC(a)}function zC({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:a,resetTransform:u}){return class{constructor(p={},w=t?.()){this.id=g5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(y5),this.nodes.forEach(b5),this.nodes.forEach(E5),this.nodes.forEach(x5)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=p,this.root=w?w.root||w:this,this.path=w?[...w.path,w]:[],this.parent=w,this.depth=w?w.depth+1:0;for(let A=0;A<this.path.length;A++)this.path[A].shouldResetTransform=!0;this.root===this&&(this.nodes=new e5)}addEventListener(p,w){return this.eventHandlers.has(p)||this.eventHandlers.set(p,new Em),this.eventHandlers.get(p).add(w)}notifyListeners(p,...w){const A=this.eventHandlers.get(p);A&&A.notify(...w)}hasListeners(p){return this.eventHandlers.has(p)}mount(p){if(this.instance)return;this.isSVG=eC(p)&&!sO(p),this.instance=p;const{layoutId:w,layout:A,visualElement:y}=this.options;if(y&&!y.current&&y.mount(p),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(A||w)&&(this.isLayoutDirty=!0),n){let C,T=0;const I=()=>this.root.updateBlockedByResize=!1;cn.read(()=>{T=window.innerWidth}),n(p,()=>{const D=window.innerWidth;D!==T&&(T=D,this.root.updateBlockedByResize=!0,C&&C(),C=n5(I,250),Oh.hasAnimatedSinceResize&&(Oh.hasAnimatedSinceResize=!1,this.nodes.forEach(Vw)))})}w&&this.root.registerSharedNode(w,this),this.options.animate!==!1&&y&&(w||A)&&this.addEventListener("didUpdate",({delta:C,hasLayoutChanged:T,hasRelativeLayoutChanged:I,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||y.getDefaultTransition()||N5,{onLayoutAnimationStart:L,onLayoutAnimationComplete:F}=y.getProps(),G=!this.targetLayout||!kC(this.targetLayout,D),q=!T&&I;if(this.options.layoutRoot||this.resumeFrom||q||T&&(G||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const z={..._m(P,"layout"),onPlay:L,onComplete:F};(y.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z),this.setAnimationOrigin(C,q)}else T||Vw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const p=this.getStack();p&&p.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(C5),this.animationId++)}getTransformTemplate(){const{visualElement:p}=this.options;return p&&p.getProps().transformTemplate}willUpdate(p=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&FC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let C=0;C<this.path.length;C++){const T=this.path[C];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:w,layout:A}=this.options;if(w===void 0&&!A)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),p&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Fw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(zw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(w5),this.nodes.forEach(m5),this.nodes.forEach(p5)):this.nodes.forEach(zw),this.clearAllSnapshots();const w=Di.now();mi.delta=hs(0,1e3/60,w-mi.timestamp),mi.timestamp=w,mi.isProcessing=!0,B1.update.process(mi),B1.preRender.process(mi),B1.render.process(mi),mi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Pm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(A5),this.sharedNodes.forEach(S5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,cn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){cn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Bi(this.snapshot.measuredBox.x)&&!Bi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let A=0;A<this.path.length;A++)this.path[A].updateScroll();const p=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ti(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:w}=this.options;w&&w.notify("LayoutMeasure",this.layout.layoutBox,p?p.layoutBox:void 0)}updateScroll(p="measure"){let w=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===p&&(w=!1),w&&this.instance){const A=a(this.instance);this.scroll={animationId:this.root.animationId,phase:p,isRoot:A,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:A}}}resetTransform(){if(!u)return;const p=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,w=this.projectionDelta&&!UC(this.projectionDelta),A=this.getTransformTemplate(),y=A?A(this.latestValues,""):void 0,C=y!==this.prevTransformTemplateValue;p&&this.instance&&(w||Io(this.latestValues)||C)&&(u(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(p=!0){const w=this.measurePageBox();let A=this.removeElementScroll(w);return p&&(A=this.removeTransform(A)),I5(A),{animationId:this.root.animationId,measuredBox:w,layoutBox:A,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:p}=this.options;if(!p)return ti();const w=p.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(M5))){const{scroll:y}=this.root;y&&(Fl(w.x,y.offset.x),Fl(w.y,y.offset.y))}return w}removeElementScroll(p){const w=ti();if(Vr(w,p),this.scroll?.wasRoot)return w;for(let A=0;A<this.path.length;A++){const y=this.path[A],{scroll:C,options:T}=y;y!==this.root&&C&&T.layoutScroll&&(C.wasRoot&&Vr(w,p),Fl(w.x,C.offset.x),Fl(w.y,C.offset.y))}return w}applyTransform(p,w=!1){const A=ti();Vr(A,p);for(let y=0;y<this.path.length;y++){const C=this.path[y];!w&&C.options.layoutScroll&&C.scroll&&C!==C.root&&zl(A,{x:-C.scroll.offset.x,y:-C.scroll.offset.y}),Io(C.latestValues)&&zl(A,C.latestValues)}return Io(this.latestValues)&&zl(A,this.latestValues),A}removeTransform(p){const w=ti();Vr(w,p);for(let A=0;A<this.path.length;A++){const y=this.path[A];if(!y.instance||!Io(y.latestValues))continue;Pg(y.latestValues)&&y.updateSnapshot();const C=ti(),T=y.measurePageBox();Vr(C,T),Bw(w,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,C)}return Io(this.latestValues)&&Bw(w,this.latestValues),w}setTargetDelta(p){this.targetDelta=p,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(p){this.options={...this.options,...p,crossfade:p.crossfade!==void 0?p.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(p=!1){const w=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=w.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=w.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=w.isSharedProjectionDirty);const A=!!this.resumingFrom||this!==w;if(!(p||A&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:C,layoutId:T}=this.options;if(!this.layout||!(C||T))return;this.resolvedRelativeTargetAt=mi.timestamp;const I=this.getClosestProjectingParent();I&&this.linkedParentVersion!==I.layoutVersion&&!I.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(I&&I.layout?this.createRelativeTarget(I,this.layout.layoutBox,I.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ti(),this.targetWithTransforms=ti()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vr(this.target,this.layout.layoutBox),xC(this.target,this.targetDelta)):Vr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,I&&!!I.resumingFrom==!!this.resumingFrom&&!I.options.layoutScroll&&I.target&&this.animationProgress!==1?this.createRelativeTarget(I,this.target,I.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Pg(this.parent.latestValues)||yC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(p,w,A){this.relativeParent=p,this.linkedParentVersion=p.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ti(),this.relativeTargetOrigin=ti(),Zh(this.relativeTargetOrigin,w,A),Vr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const p=this.getLead(),w=!!this.resumingFrom||this!==p;let A=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(A=!1),w&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(A=!1),this.resolvedRelativeTargetAt===mi.timestamp&&(A=!1),A)return;const{layout:y,layoutId:C}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||C))return;Vr(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,I=this.treeScale.y;KO(this.layoutCorrected,this.treeScale,this.path,w),p.layout&&!p.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(p.target=p.layout.layoutBox,p.targetWithTransforms=ti());const{target:D}=p;if(!D){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ow(this.prevProjectionDelta.x,this.projectionDelta.x),Ow(this.prevProjectionDelta.y,this.projectionDelta.y)),xu(this.projectionDelta,this.layoutCorrected,D,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==I||!kw(this.projectionDelta.x,this.prevProjectionDelta.x)||!kw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(p=!0){if(this.options.visualElement?.scheduleRender(),p){const w=this.getStack();w&&w.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vl(),this.projectionDelta=Vl(),this.projectionDeltaWithTransform=Vl()}setAnimationOrigin(p,w=!1){const A=this.snapshot,y=A?A.latestValues:{},C={...this.latestValues},T=Vl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!w;const I=ti(),D=A?A.source:void 0,P=this.layout?this.layout.source:void 0,L=D!==P,F=this.getStack(),G=!F||F.members.length<=1,q=!!(L&&!G&&this.options.crossfade===!0&&!this.path.some(v5));this.animationProgress=0;let z;this.mixTargetDelta=lt=>{const gt=lt/1e3;Hw(T.x,p.x,gt),Hw(T.y,p.y,gt),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zh(I,this.layout.layoutBox,this.relativeParent.layout.layoutBox),T5(this.relativeTarget,this.relativeTargetOrigin,I,gt),z&&u5(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=ti()),Vr(z,this.relativeTarget)),L&&(this.animationValues=C,r5(C,y,this.latestValues,gt,q,G)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=gt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(p){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Qa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=cn.update(()=>{Oh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ec(0)),this.currentAnimation=$R(this.motionValue,[0,1e3],{...p,velocity:0,isSync:!0,onUpdate:w=>{this.mixTargetDelta(w),p.onUpdate&&p.onUpdate(w)},onStop:()=>{},onComplete:()=>{p.onComplete&&p.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const p=this.getStack();p&&p.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(d5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const p=this.getLead();let{targetWithTransforms:w,target:A,layout:y,latestValues:C}=p;if(!(!w||!A||!y)){if(this!==p&&this.layout&&y&&VC(this.options.animationType,this.layout.layoutBox,y.layoutBox)){A=this.target||ti();const T=Bi(this.layout.layoutBox.x);A.x.min=p.target.x.min,A.x.max=A.x.min+T;const I=Bi(this.layout.layoutBox.y);A.y.min=p.target.y.min,A.y.max=A.y.min+I}Vr(w,A),zl(w,C),xu(this.projectionDeltaWithTransform,this.layoutCorrected,w,C)}}registerSharedNode(p,w){this.sharedNodes.has(p)||this.sharedNodes.set(p,new f5),this.sharedNodes.get(p).add(w);const y=w.options.initialPromotionConfig;w.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(w):void 0})}isLead(){const p=this.getStack();return p?p.lead===this:!0}getLead(){const{layoutId:p}=this.options;return p?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:p}=this.options;return p?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:p}=this.options;if(p)return this.root.sharedNodes.get(p)}promote({needsReset:p,transition:w,preserveFollowOpacity:A}={}){const y=this.getStack();y&&y.promote(this,A),p&&(this.projectionDelta=void 0,this.needsReset=!0),w&&this.setOptions({transition:w})}relegate(){const p=this.getStack();return p?p.relegate(this):!1}resetSkewAndRotation(){const{visualElement:p}=this.options;if(!p)return;let w=!1;const{latestValues:A}=p;if((A.z||A.rotate||A.rotateX||A.rotateY||A.rotateZ||A.skewX||A.skewY)&&(w=!0),!w)return;const y={};A.z&&X1("z",p,y,this.animationValues);for(let C=0;C<Y1.length;C++)X1(`rotate${Y1[C]}`,p,y,this.animationValues),X1(`skew${Y1[C]}`,p,y,this.animationValues);p.render();for(const C in y)p.setStaticValue(C,y[C]),this.animationValues&&(this.animationValues[C]=y[C]);p.scheduleRender()}applyProjectionStyles(p,w){if(!this.instance||this.isSVG)return;if(!this.isVisible){p.visibility="hidden";return}const A=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,p.visibility="",p.opacity="",p.pointerEvents=Mh(w?.pointerEvents)||"",p.transform=A?A(this.latestValues,""):"none";return}const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=Mh(w?.pointerEvents)||""),this.hasProjected&&!Io(this.latestValues)&&(p.transform=A?A({},""):"none",this.hasProjected=!1);return}p.visibility="";const C=y.animationValues||y.latestValues;this.applyTransformsToTarget();let T=h5(this.projectionDeltaWithTransform,this.treeScale,C);A&&(T=A(C,T)),p.transform=T;const{x:I,y:D}=this.projectionDelta;p.transformOrigin=`${I.origin*100}% ${D.origin*100}% 0`,y.animationValues?p.opacity=y===this?C.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:C.opacityExit:p.opacity=y===this?C.opacity!==void 0?C.opacity:"":C.opacityExit!==void 0?C.opacityExit:0;for(const P in Lg){if(C[P]===void 0)continue;const{correct:L,applyTo:F,isCSSVariable:G}=Lg[P],q=T==="none"?C[P]:L(C[P],y);if(F){const z=F.length;for(let lt=0;lt<z;lt++)p[F[lt]]=q}else G?this.options.visualElement.renderState.vars[P]=q:p[P]=q}this.options.layoutId&&(p.pointerEvents=y===this?Mh(w?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(p=>p.currentAnimation?.stop()),this.root.nodes.forEach(Fw),this.root.sharedNodes.clear()}}}function m5(n){n.updateLayout()}function p5(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:a}=n.layout,{animationType:u}=n.options,h=t.source!==n.layout.source;u==="size"?Nr(C=>{const T=h?t.measuredBox[C]:t.layoutBox[C],I=Bi(T);T.min=e[C].min,T.max=T.min+I}):VC(u,t.layoutBox,e)&&Nr(C=>{const T=h?t.measuredBox[C]:t.layoutBox[C],I=Bi(e[C]);T.max=T.min+I,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[C].max=n.relativeTarget[C].min+I)});const p=Vl();xu(p,e,t.layoutBox);const w=Vl();h?xu(w,n.applyTransform(a,!0),t.measuredBox):xu(w,e,t.layoutBox);const A=!UC(p);let y=!1;if(!n.resumeFrom){const C=n.getClosestProjectingParent();if(C&&!C.resumeFrom){const{snapshot:T,layout:I}=C;if(T&&I){const D=ti();Zh(D,t.layoutBox,T.layoutBox);const P=ti();Zh(P,e,I.layoutBox),kC(D,P)||(y=!0),C.options.layoutRoot&&(n.relativeTarget=P,n.relativeTargetOrigin=D,n.relativeParent=C)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:w,layoutDelta:p,hasLayoutChanged:A,hasRelativeLayoutChanged:y})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function y5(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function x5(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function A5(n){n.clearSnapshot()}function Fw(n){n.clearMeasurements()}function zw(n){n.isLayoutDirty=!1}function w5(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function Vw(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function b5(n){n.resolveTargetDelta()}function E5(n){n.calcProjection()}function C5(n){n.resetSkewAndRotation()}function S5(n){n.removeLeadSnapshot()}function Hw(n,t,e){n.translate=xn(t.translate,0,e),n.scale=xn(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function Gw(n,t,e,a){n.min=xn(t.min,e.min,a),n.max=xn(t.max,e.max,a)}function T5(n,t,e,a){Gw(n.x,t.x,e.x,a),Gw(n.y,t.y,e.y,a)}function v5(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const N5={duration:.45,ease:[.4,0,.1,1]},jw=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Yw=jw("applewebkit/")&&!jw("chrome/")?Math.round:Or;function Xw(n){n.min=Yw(n.min),n.max=Yw(n.max)}function I5(n){Xw(n.x),Xw(n.y)}function VC(n,t,e){return n==="position"||n==="preserve-aspect"&&!PR(Uw(t),Uw(e),.2)}function M5(n){return n!==n.root&&n.scroll?.wasRoot}const O5=zC({attachResizeListener:(n,t)=>Ru(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Q1={current:void 0},HC=zC({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Q1.current){const n=new O5({});n.mount(window),n.setOptions({layoutScroll:!0}),Q1.current=n}return Q1.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),R5={pan:{Feature:qR},drag:{Feature:WR,ProjectionNode:HC,MeasureLayout:_C}};function Qw(n,t,e){const{props:a}=n;n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e==="Start");const u="onHover"+e,h=a[u];h&&cn.postRender(()=>h(t,Hu(t)))}class D5 extends qa{mount(){const{current:t}=this.node;t&&(this.unmount=eO(t,(e,a)=>(Qw(this.node,a,"Start"),u=>Qw(this.node,u,"End"))))}unmount(){}}class B5 extends qa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fu(Ru(this.node.current,"focus",()=>this.onFocus()),Ru(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Zw(n,t,e){const{props:a}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&a.whileTap&&n.animationState.setActive("whileTap",e==="Start");const u="onTap"+(e==="End"?"":e),h=a[u];h&&cn.postRender(()=>h(t,Hu(t)))}class _5 extends qa{mount(){const{current:t}=this.node;t&&(this.unmount=rO(t,(e,a)=>(Zw(this.node,a,"Start"),(u,{success:h})=>Zw(this.node,u,h?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gg=new WeakMap,Z1=new WeakMap,L5=n=>{const t=Gg.get(n.target);t&&t(n)},P5=n=>{n.forEach(L5)};function U5({root:n,...t}){const e=n||document;Z1.has(e)||Z1.set(e,{});const a=Z1.get(e),u=JSON.stringify(t);return a[u]||(a[u]=new IntersectionObserver(P5,{root:n,...t})),a[u]}function k5(n,t,e){const a=U5(t);return Gg.set(n,e),a.observe(n),()=>{Gg.delete(n),a.unobserve(n)}}const F5={some:0,all:1};class z5 extends qa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:a,amount:u="some",once:h}=t,p={root:e?e.current:void 0,rootMargin:a,threshold:typeof u=="number"?u:F5[u]},w=A=>{const{isIntersecting:y}=A;if(this.isInView===y||(this.isInView=y,h&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:C,onViewportLeave:T}=this.node.getProps(),I=y?C:T;I&&I(A)};return k5(this.node.current,p,w)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(V5(t,e))&&this.startObserver()}unmount(){}}function V5({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const H5={inView:{Feature:z5},tap:{Feature:_5},focus:{Feature:B5},hover:{Feature:D5}},G5={layout:{ProjectionNode:HC,MeasureLayout:_C}},j5={...OR,...H5,...R5,...G5},Ka=XO(j5,sR);function Y5(){const{account:n,balance:t,connect:e,isDemo:a}=t6(),[u,h]=Nt.useState("home"),[p,w]=Nt.useState(!1),[A,y]=Nt.useState(null),C=P=>{if(!P){y(null);return}y(P)},[T,I]=Nt.useState(null),D=[{id:1,type:"receive",amount:1e3,date:"2026/01/12",from:"0x12...34"},{id:2,type:"send",amount:500,date:"2026/01/11",to:"0xAB...CD"},{id:3,type:"send",amount:3e3,date:"2026/01/10",to:"Amazon"}];return J.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-900 pb-24 font-sans selection:bg-blue-100",children:[J.jsxs("header",{className:"fixed top-0 w-full z-50 glass px-5 py-4 flex justify-between items-center bg-white/80 backdrop-blur-md border-b border-slate-100",children:[J.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>h("home"),children:[J.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center overflow-hidden",children:J.jsx("img",{src:"./jpycaikonn.png",alt:"Logo",className:"w-full h-full object-cover"})}),J.jsx("h1",{className:"font-bold text-xl tracking-tight text-slate-800",children:"JPYC Wallet"})]}),J.jsx("button",{onClick:()=>w(!0),className:`relative pl-1 pr-4 py-1 rounded-full text-xs font-bold transition-all shadow-sm flex items-center gap-2 ${a?"bg-slate-100 text-slate-500 hover:bg-slate-200":"bg-emerald-100 text-emerald-700 border border-emerald-200"}`,children:A?J.jsxs(J.Fragment,{children:[J.jsx("img",{src:A.photo,className:"w-6 h-6 rounded-full"}),J.jsx("span",{children:A.handle})]}):J.jsxs(J.Fragment,{children:[J.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${a?"bg-slate-300":"bg-emerald-500 text-white"}`,children:J.jsx(yg,{size:14})}),a?" (Demo)":` ${n?.slice(0,4)}...`]})})]}),J.jsxs("main",{className:"pt-24 px-4 max-w-md mx-auto min-h-screen",children:[J.jsx(ew,{children:p&&J.jsx(X5,{onClose:()=>w(!1),account:n,isDemo:a,connectWallet:e,xProfile:A,onConnectX:C})}),J.jsxs(ew,{mode:"wait",children:[u==="home"&&J.jsxs(Ka.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[J.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-blue-600 to-indigo-700 p-8 text-white shadow-xl shadow-blue-200 mb-8",children:[J.jsx("div",{className:"absolute -top-10 -right-10 opacity-10",children:J.jsx(xg,{size:180})}),J.jsx("p",{className:"text-blue-100 text-sm font-medium mb-2",children:""}),J.jsxs("div",{className:"text-5xl font-bold tracking-tight mb-6 flex items-baseline gap-2",children:[parseInt(t).toLocaleString()," ",J.jsx("span",{className:"text-xl font-medium opacity-80",children:"JPYC"})]}),J.jsx("div",{className:"flex items-center gap-2 text-xs text-blue-100 bg-white/10 w-fit px-3 py-1 rounded-full backdrop-blur-sm",children:A?J.jsxs(J.Fragment,{children:[J.jsx("img",{src:A.photo,className:"w-4 h-4 rounded-full"}),A.name]}):J.jsxs(J.Fragment,{children:[J.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),n?n.slice(0,10)+"..."+n.slice(-4):"Demo Account"]})})]}),J.jsx("p",{className:"text-sm font-bold text-slate-400 mb-3 px-1",children:""}),J.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-10",children:[J.jsx(Kw,{icon:J.jsx(HE,{size:28}),label:"",color:"bg-blue-500",onClick:()=>h("send"),desc:"QR"}),J.jsx(Kw,{icon:J.jsx(hm,{size:28}),label:"",color:"bg-emerald-500",onClick:()=>h("receive"),desc:"QR"})]}),J.jsxs("div",{className:"flex justify-between items-end mb-4 px-1",children:[J.jsx("h2",{className:"font-bold text-lg text-slate-800",children:""}),J.jsx("button",{onClick:()=>h("history"),className:"text-blue-600 text-sm font-medium hover:underline",children:""})]}),J.jsx("div",{className:"space-y-3",children:D.map(P=>J.jsx(GC,{item:P},P.id))})]},"home"),u==="send"&&J.jsx(Q5,{onBack:()=>h("home")}),u==="receive"&&J.jsx(Z5,{onBack:()=>h("home"),account:n,isDemo:a}),u==="history"&&J.jsx(K5,{onBack:()=>h("home"),historyData:D}),u==="contacts"&&J.jsx(W5,{onBack:()=>h("home")})]})]}),J.jsx("nav",{className:"fixed bottom-0 w-full glass bg-white/90 backdrop-blur-lg border-t border-slate-100 pb-safe z-40",children:J.jsxs("div",{className:"flex justify-around items-center h-16 max-w-md mx-auto",children:[J.jsx(Eh,{icon:J.jsx(xg,{size:20}),label:"",active:u==="home",onClick:()=>h("home")}),J.jsx(Eh,{icon:J.jsx(VE,{size:20}),label:"",active:u==="history",onClick:()=>h("history")}),J.jsx(Eh,{icon:J.jsx(yg,{size:20}),label:"",active:u==="contacts",onClick:()=>h("contacts")}),J.jsx(Eh,{icon:J.jsx(h6,{size:20}),label:"",active:u==="settings",onClick:()=>h("settings")})]})})]})}const X5=({onClose:n,account:t,isDemo:e,connectWallet:a,xProfile:u,onConnectX:h})=>{const[p,w]=Nt.useState(""),[A,y]=Nt.useState(!1),C=()=>{if(!p)return;y(!0);const T=p.replace("@","").trim(),I=`https://unavatar.io/twitter/${T}`;setTimeout(()=>{h({name:`@${T}`,handle:`@${T}`,photo:I}),y(!1)},1500)};return J.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center px-4",children:[J.jsx(Ka.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:n}),J.jsxs(Ka.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-3xl p-6 w-full max-w-sm shadow-2xl relative z-10 overflow-hidden",children:[J.jsxs("div",{className:"flex justify-between items-center mb-6",children:[J.jsx("h3",{className:"text-xl font-bold text-slate-800",children:""}),J.jsx("button",{onClick:n,className:"p-2 bg-slate-100 rounded-full hover:bg-slate-200",children:J.jsx(GE,{size:20})})]}),J.jsxs("div",{className:"space-y-4",children:[J.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 border border-slate-200",children:[J.jsx("p",{className:"text-xs font-bold text-slate-400 mb-2 uppercase",children:""}),J.jsxs("div",{className:"flex items-center justify-between",children:[J.jsxs("div",{className:"flex items-center gap-3",children:[J.jsx("div",{className:`p-2 rounded-full ${e?"bg-slate-200":"bg-emerald-100 text-emerald-600"}`,children:J.jsx(xg,{size:20})}),J.jsxs("div",{children:[J.jsx("p",{className:"font-bold text-sm text-slate-800",children:e?"":"Connected"}),J.jsx("p",{className:"text-xs text-slate-500 font-mono",children:t?t.slice(0,12)+"...":"0x..."})]})]}),e&&J.jsx("button",{onClick:a,className:"px-3 py-1.5 bg-blue-600 text-white text-xs font-bold rounded-lg shadow-sm hover:bg-blue-700",children:""})]})]}),J.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 border border-slate-200",children:[J.jsx("p",{className:"text-xs font-bold text-slate-400 mb-2 uppercase",children:"X (Twitter) "}),u?J.jsxs("div",{className:"flex items-center justify-between",children:[J.jsxs("div",{className:"flex items-center gap-3",children:[J.jsx("div",{className:"p-0.5 rounded-full border border-slate-200",children:J.jsx("img",{src:u.photo,className:"w-10 h-10 rounded-full",alt:"X Avatar"})}),J.jsxs("div",{children:[J.jsx("p",{className:"font-bold text-sm text-slate-800",children:u.handle}),J.jsx("p",{className:"text-xs text-green-600 font-bold",children:""})]})]}),J.jsx("button",{onClick:()=>h(null),className:"text-xs text-red-500 font-bold hover:underline",children:""})]}):J.jsxs("div",{className:"space-y-3",children:[J.jsx("p",{className:"text-xs text-slate-500",children:"ID"}),J.jsxs("div",{className:"flex gap-2",children:[J.jsxs("div",{className:"relative flex-1",children:[J.jsx("span",{className:"absolute left-3 top-3 text-slate-400",children:"@"}),J.jsx("input",{type:"text",placeholder:"username",className:"w-full bg-white border border-slate-300 rounded-xl pl-8 pr-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:p,onChange:T=>w(T.target.value)})]}),J.jsx("button",{onClick:C,disabled:A||!p,className:"bg-black text-white px-4 rounded-xl font-bold text-xs disabled:opacity-50",children:A?"...":""})]})]})]})]}),J.jsx("div",{className:"mt-8 text-center text-xs text-slate-300",children:"v1.0.2"})]})]})},Kw=({icon:n,label:t,color:e,onClick:a,desc:u})=>J.jsxs("button",{onClick:a,className:`relative overflow-hidden group p-6 ${e} text-white rounded-3xl shadow-lg shadow-blue-100 transition-all hover:scale-[1.02] active:scale-95 text-left`,children:[J.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity transform scale-150",children:n}),J.jsx("div",{className:"bg-white/20 w-12 h-12 rounded-2xl flex items-center justify-center mb-4 backdrop-blur-sm",children:n}),J.jsxs("div",{children:[J.jsx("span",{className:"block font-bold text-lg",children:t}),J.jsx("span",{className:"text-xs opacity-80",children:u})]})]}),GC=({item:n})=>{const t=n.type==="receive";return J.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex items-center justify-between",children:[J.jsxs("div",{className:"flex items-center gap-3",children:[J.jsx("div",{className:`p-3 rounded-full ${t?"bg-emerald-100 text-emerald-600":"bg-orange-100 text-orange-600"}`,children:t?J.jsx(hm,{size:18}):J.jsx(HE,{size:18})}),J.jsxs("div",{children:[J.jsx("p",{className:"font-bold text-sm text-slate-800",children:t?"":""}),J.jsxs("p",{className:"text-xs text-slate-400",children:[n.date,"  ",t?"From":"To"," ",n.to||n.from]})]})]}),J.jsxs("span",{className:`font-bold font-mono ${t?"text-emerald-600":"text-slate-900"}`,children:[t?"+":"-",n.amount.toLocaleString()]})]})},d0=({title:n,onBack:t})=>J.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[J.jsx("button",{onClick:t,className:"p-2 -ml-2 rounded-full hover:bg-slate-100",children:J.jsx(GE,{size:24,className:"text-slate-500"})}),J.jsx("h2",{className:"text-2xl font-bold",children:n})]}),Q5=({onBack:n})=>{const[t,e]=Nt.useState("input"),[a,u]=Nt.useState(""),[h,p]=Nt.useState(""),[w,A]=Nt.useState(null);return Nt.useEffect(()=>{let y=null;if(t==="scan")return setTimeout(()=>{try{y=new hI("reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1},!1),y.render(C=>{let T=C;T.includes("ethereum:")&&(T=T.split("ethereum:")[1].split("?")[0]),u(T),e("input"),y.clear()},C=>{A(null)})}catch(C){console.error("Camera start failed",C),A("")}},100),()=>{if(y)try{y.clear()}catch{}}},[t]),J.jsxs(Ka.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},children:[J.jsx(d0,{title:"",onBack:n}),t==="scan"?J.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[J.jsx("div",{id:"reader",className:"w-full max-w-sm rounded-2xl overflow-hidden shadow-xl border-4 border-white mb-6 bg-black min-h-[300px]"}),w&&J.jsx("p",{className:"text-red-500 text-sm font-bold mb-4 px-4 text-center",children:w}),J.jsx("button",{onClick:()=>e("input"),className:"bg-white/90 backdrop-blur text-slate-600 font-bold py-3 px-8 rounded-full shadow-sm hover:bg-white",children:""}),J.jsx("p",{className:"mt-4 text-xs text-slate-400",children:"QR"})]}):J.jsx(J.Fragment,{children:J.jsxs("div",{className:"space-y-6",children:[J.jsxs("div",{children:[J.jsx("label",{className:"block text-sm font-bold text-slate-500 mb-2",children:""}),J.jsxs("div",{className:"flex gap-2",children:[J.jsx("input",{type:"text",value:a,onChange:y=>u(y.target.value),placeholder:"0x...",className:"flex-1 bg-white border border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm"}),J.jsx("button",{onClick:()=>e("scan"),className:"bg-blue-50 p-3 rounded-xl text-blue-600 hover:bg-blue-100 transition-colors",children:J.jsx(hm,{size:24})})]})]}),J.jsxs("div",{children:[J.jsx("label",{className:"block text-sm font-bold text-slate-500 mb-2",children:" (JPYC)"}),J.jsxs("div",{className:"relative",children:[J.jsx("input",{type:"number",value:h,onChange:y=>p(y.target.value),placeholder:"0",className:"w-full bg-white border border-slate-200 rounded-xl px-4 py-3 text-2xl font-bold focus:outline-none focus:ring-2 focus:ring-blue-500"}),J.jsx("span",{className:"absolute right-4 top-4 text-slate-400 font-bold",children:"JPYC"})]})]}),J.jsx("button",{className:"w-full py-4 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-2xl shadow-lg shadow-blue-200 transition-all active:scale-95 text-lg mt-4",children:""})]})})]})},Z5=({onBack:n,account:t,isDemo:e})=>{const a=t||"0xDemoWalletAddress123456789",[u,h]=Nt.useState(!1),p=()=>{navigator.clipboard.writeText(a),h(!0),setTimeout(()=>h(!1),2e3)};return J.jsxs(Ka.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},children:[J.jsx(d0,{title:"",onBack:n}),J.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-slate-100 flex flex-col items-center justify-center mb-6",children:[J.jsx("div",{className:"bg-slate-900 p-4 rounded-xl mb-6",children:J.jsx(e3,{value:a,size:200,bgColor:"#0f172a",fgColor:"#ffffff",level:"H"})}),J.jsx("p",{className:"text-slate-500 text-sm font-bold mb-2",children:""}),J.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-4 py-2 rounded-lg max-w-full",children:[J.jsx("p",{className:"font-mono text-xs text-slate-600 truncate max-w-[200px]",children:a}),J.jsx("button",{onClick:p,className:"p-2 hover:bg-slate-200 rounded-full transition-colors",children:u?J.jsx(o6,{size:16,className:"text-green-500"}):J.jsx(c6,{size:16,className:"text-slate-400"})})]})]}),J.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl flex items-start gap-3",children:[J.jsx("div",{className:"bg-blue-100 p-2 rounded-full text-blue-600",children:J.jsx(VE,{size:20})}),J.jsxs("div",{children:[J.jsx("p",{className:"font-bold text-sm text-blue-900",children:""}),J.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"QRPolygonJPYC"})]})]})]})},K5=({onBack:n,historyData:t})=>J.jsxs(Ka.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},children:[J.jsx(d0,{title:"",onBack:n}),J.jsx("div",{className:"space-y-3",children:[...t,...t].map((e,a)=>J.jsx(GC,{item:{...e,id:a}},a))})]}),W5=({onBack:n})=>J.jsxs(Ka.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},children:[J.jsx(d0,{title:"",onBack:n}),J.jsxs("div",{className:"space-y-4",children:[J.jsxs("button",{className:"w-full p-4 border-2 border-dashed border-slate-300 rounded-2xl text-slate-400 font-bold flex items-center justify-center gap-2 hover:bg-slate-50 transition-colors",children:[J.jsx(yg,{size:20}),""]}),[1,2,3].map(t=>J.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex items-center justify-between",children:[J.jsxs("div",{className:"flex items-center gap-4",children:[J.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-pink-400 to-orange-400 flex items-center justify-center text-white font-bold",children:String.fromCharCode(64+t)}),J.jsxs("div",{children:[J.jsxs("p",{className:"font-bold text-slate-800",children:["User ",String.fromCharCode(64+t)]}),J.jsx("p",{className:"text-xs text-slate-400 font-mono",children:"0x123...456"})]})]}),J.jsx("button",{className:"bg-blue-50 text-blue-600 px-3 py-1 rounded-lg text-xs font-bold",children:""})]},t))]})]}),Eh=({icon:n,label:t,active:e,onClick:a})=>J.jsxs("button",{onClick:a,className:`relative flex flex-col items-center justify-center gap-1 w-16 h-full transition-colors ${e?"text-blue-600":"text-slate-400 hover:text-slate-500"}`,children:[e&&J.jsx(Ka.div,{layoutId:"nav-bg",className:"absolute -top-3 w-8 h-1 bg-blue-500 rounded-b-full shadow-lg shadow-blue-200"}),n,J.jsx("span",{className:"text-[10px] font-bold tracking-tight",children:t})]});y4.createRoot(document.getElementById("root")).render(J.jsx(Nt.StrictMode,{children:J.jsx(Y5,{})}));
